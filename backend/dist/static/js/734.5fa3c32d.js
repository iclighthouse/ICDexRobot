(self["webpackChunkRobot"]=self["webpackChunkRobot"]||[]).push([[734],{92393:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ve}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-font-title exchange-main"},[n("div",{staticClass:"base-font-normal flex-center"},[n("div",{staticClass:"dashboard-title"},[e._v("Robots")]),n("div",{staticClass:"margin-left-auto pointer",on:{click:e.showAddRobot}},[e._v("+ Open")])]),n("a-spin",{staticClass:"table-spinning",attrs:{spinning:e.spinningExchange}},[n("table",{staticClass:"mt20"},[n("thead",[n("tr",[n("th",[e._v("Id")]),n("th",[e._v("Type")]),n("th",[e._v("Main exchange & Pair")]),n("th",[e._v("Balances")]),n("th",[e._v("Second exchange & Pair")]),n("th",[e._v("Balances")]),n("th",[e._v("Arguments")]),n("th",[e._v("Status")]),n("th",[e._v("Actions")])])]),n("tbody",[e._l(e.robots,(function(t,a){return n("tr",{key:t.id},[n("td",[e._v(" "+e._s(t.id)+" ")]),n("td",[e._v(" "+e._s(e.robotTypeName[t.typeId])+" ")]),n("td",[n("div",[e._v(e._s(e.exchange[t.mainExchangeId]))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.robotPairInfo[t.mainExchangePair]&&e.robotDepth[t.mainExchangePair],expression:"\n                robotPairInfo[item.mainExchangePair] &&\n                robotDepth[item.mainExchangePair]\n              "}]},[e._v(" "+e._s(e._f("filterPair")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId]))+" "),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",{staticClass:"token-price ask-price"},[e._v(" ask: "+e._s(e._f("filterDepth")(e.robotDepth[t.mainExchangePair],e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],"ask",e.token1Unit))+" ")]),n("span",{staticClass:"token-price bid-price",staticStyle:{"margin-left":"5px"}},[e._v(" bid: "+e._s(e._f("filterDepth")(e.robotDepth[t.mainExchangePair],e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],"bid",e.token1Unit))+" ")])]),e.robotStats[t.mainExchangePair]?n("span",{staticClass:"pointer",class:{"base-red":e.robotStats[t.mainExchangePair].latestPrice-e.robotStats[t.mainExchangePair].lastPrice>0,"base-green":e.robotStats[t.mainExchangePair].latestPrice-e.robotStats[t.mainExchangePair].lastPrice<0}},[e._v(" | "+e._s(e._f("filterVal")(e._f("filterPrice")(e.robotStats[t.mainExchangePair].latestPrice,e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId])))+" ")]):e._e()],2)],1)]),n("td",["Timer Robot"===e.robotTypeName[t.typeId]&&e.insufficientBalance(e.robotTypeName[t.typeId],t.arguments,e.robotPairInfo[t.mainExchangePair],e.robotBalance,e.robotAccounts[t.mainExchangeAccountId],e.exchange[t.mainExchangeId])?n("div",[n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Insufficient balance ")]),n("div",{staticClass:"base-red"},[e._v(" "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[t.mainExchangePair],e.robotBalance,e.robotAccounts[t.mainExchangeAccountId],e.exchange[t.mainExchangeId],!0)))+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],!0))+" ")])],2)],1):n("div",[e._v(" "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[t.mainExchangePair],e.robotBalance,e.robotAccounts[t.mainExchangeAccountId],e.exchange[t.mainExchangeId],!0)))+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],!0))+" ")]),"Maker Robot"===e.robotTypeName[t.typeId]&&e.insufficientBalance(e.robotTypeName[t.typeId],t.arguments,e.robotPairInfo[t.mainExchangePair],e.robotBalance,e.robotAccounts[t.mainExchangeAccountId],e.exchange[t.mainExchangeId])?n("div",[n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Insufficient balance ")]),n("div",{staticClass:"base-red"},[e._v(" "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[t.mainExchangePair],e.robotBalance,e.robotAccounts[t.mainExchangeAccountId],e.exchange[t.mainExchangeId],!1)))+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],!1))+" ")])],2)],1):n("div",[e._v(" "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[t.mainExchangePair],e.robotBalance,e.robotAccounts[t.mainExchangeAccountId],e.exchange[t.mainExchangeId],!1)))+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],!1))+" ")])]),n("td",["Timer Robot"===e.robotTypeName[t.typeId]&&e.getTimerConfig(t.arguments)&&!e.getTimerConfig(t.arguments).unilateral||"Maker Robot"===e.robotTypeName[t.typeId]?n("div",[n("div",[e._v(e._s(e.exchange[t.secondExchangeId]))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.robotPairInfo[t.secondExchangePair.split(",")[0]]&&e.robotDepth[t.secondExchangePair.split(",")[0]],expression:"\n                  robotPairInfo[item.secondExchangePair.split(',')[0]] &&\n                  robotDepth[item.secondExchangePair.split(',')[0]]\n                "}]},[e._v(" "+e._s(e._f("filterPair")(e.robotPairInfo[t.secondExchangePair.split(",")[0]],e.exchange[t.secondExchangeId]))+" "),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",{staticClass:"token-price ask-price"},[e._v(" ask: "+e._s(e._f("filterDepth")(e.robotDepth[t.secondExchangePair.split(",")[0]],e.robotPairInfo[[t.secondExchangePair.split(",")[0]]],e.exchange[t.secondExchangeId],"ask",e.token1Unit))+" ")]),n("span",{staticClass:"token-price bid-price",staticStyle:{"margin-left":"5px"}},[e._v(" bid: "+e._s(e._f("filterDepth")(e.robotDepth[[t.secondExchangePair.split(",")[0]]],e.robotPairInfo[[t.secondExchangePair.split(",")[0]]],e.exchange[t.secondExchangeId],"bid",e.token1Unit))+" ")])]),e.robotStats[t.secondExchangePair.split(",")[0]]?n("span",{staticClass:"pointer",class:{"base-red":e.robotStats[t.secondExchangePair.split(",")[0]].latestPrice-e.robotStats[t.secondExchangePair.split(",")[0]].lastPrice>0,"base-green":e.robotStats[t.secondExchangePair.split(",")[0]].latestPrice-e.robotStats[t.secondExchangePair.split(",")[0]].lastPrice<0}},[e._v(" | "+e._s(e._f("filterVal")(e.robotStats[t.secondExchangePair.split(",")[0]].latestPrice))+" ")]):e._e()],2)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.secondExchangePair.split(",")[1]&&e.robotPairInfo[t.secondExchangePair.split(",")[1]]&&e.robotDepth[t.secondExchangePair.split(",")[1]],expression:"\n                  item.secondExchangePair.split(',')[1] &&\n                  robotPairInfo[item.secondExchangePair.split(',')[1]] &&\n                  robotDepth[item.secondExchangePair.split(',')[1]]\n                "}]},[e._v(" "+e._s(e._f("filterPair")(e.robotPairInfo[t.secondExchangePair.split(",")[1]],e.exchange[t.secondExchangeId]))+" "),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",{staticClass:"token-price ask-price"},[e._v(" ask: "+e._s(e._f("filterDepth")(e.robotDepth[t.secondExchangePair.split(",")[1]],e.robotPairInfo[[t.secondExchangePair.split(",")[1]]],e.exchange[t.secondExchangeId],"ask",e.token1Unit))+" ")]),n("span",{staticClass:"token-price bid-price",staticStyle:{"margin-left":"5px"}},[e._v(" bid: "+e._s(e._f("filterDepth")(e.robotDepth[[t.secondExchangePair.split(",")[1]]],e.robotPairInfo[[t.secondExchangePair.split(",")[1]]],e.exchange[t.secondExchangeId],"bid",e.token1Unit))+" ")])]),e.robotStats[t.secondExchangePair.split(",")[1]]?n("span",{staticClass:"pointer",class:{"base-red":e.robotStats[t.secondExchangePair.split(",")[1]].latestPrice-e.robotStats[t.secondExchangePair.split(",")[1]].lastPrice>0,"base-green":e.robotStats[t.secondExchangePair.split(",")[1]].latestPrice-e.robotStats[t.secondExchangePair.split(",")[1]].lastPrice<0}},[e._v(" | "+e._s(e._f("filterVal")(e.robotStats[t.secondExchangePair.split(",")[1]].latestPrice))+" ")]):e._e()],2)],1)]):n("div",[e._v("-")])]),n("td",["Timer Robot"===e.robotTypeName[t.typeId]&&e.getTimerConfig(t.arguments)&&!e.getTimerConfig(t.arguments).unilateral||"Maker Robot"===e.robotTypeName[t.typeId]?n("div",[n("div",[e._v(" "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[t.secondExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[t.secondExchangeAccountId],e.exchange[t.secondExchangeId],!0)))+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.secondExchangePair.split(",")[0]],e.exchange[t.secondExchangeId],!0))+" ")]),n("div",[t.secondExchangePair&&t.secondExchangePair.split(",").length>1?n("span",[e._v(" "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[t.secondExchangePair.split(",")[1]],e.robotBalance,e.robotAccounts[t.secondExchangeAccountId],e.exchange[t.secondExchangeId],!0)))+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.secondExchangePair.split(",")[1]],e.exchange[t.secondExchangeId],!0))+" ")]):n("span",[e._v(" "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[t.secondExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[t.secondExchangeAccountId],e.exchange[t.secondExchangeId],!1)))+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.secondExchangePair.split(",")[0]],e.exchange[t.secondExchangeId],!1))+" ")])])]):n("div",[e._v("-")])]),n("td",["Timer Robot"===e.robotTypeName[t.typeId]?n("div",[e.getTimerConfig(t.arguments)?n("div",[n("div",[e._v(" "+e._s(e.getTimerConfig(t.arguments).orderAmount)+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],!0))+" per order ")]),n("div",[e._v(" Interval "+e._s(e.getTimerConfig(t.arguments).interval)+" minutes ")]),n("div",[e.getTimerConfig(t.arguments).unilateral?n("span",[e._v(" One-side ")]):n("span",[e._v("Two-sides")]),e.getTimerConfig(t.arguments).arbitrage?n("span",[e._v(" , Arbitrage only ")]):e._e()])]):e._e()]):e._e(),"Maker Robot"===e.robotTypeName[t.typeId]?n("div",[e.getMakerConfig(t.arguments)?n("div",[n("div",[e._v(" "+e._s(e.getMakerConfig(t.arguments).token1Amount)+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId],!1))+" per order ")]),n("div",[e._v(" Min profit "+e._s(e.getMakerConfig(t.arguments).minimumProfit)+"% ")]),n("div",[e._v(" Price fluctuation "+e._s(e.getMakerConfig(t.arguments).minimumPriceFluctuation)+"% ")])]):e._e()]):e._e()]),n("td",[n("div",[n("span",{class:{"base-green":"Running"===t.status}},[e._v(" "+e._s(t.status)+" ")]),n("span",{staticClass:"pointer",class:{"base-red":!!t.newErrors},on:{click:function(n){return e.showErrors(t)}}},[e._v(" Errors("+e._s(t.errors)+") ")])])]),n("td",{staticClass:"operation-td"},[n("div",{staticClass:"operation"},[n("span",{on:{click:function(n){return e.showView(t)}}},[e._v("View")]),n("span",{class:{disabled:"Running"===t.status},on:{click:function(n){return e.showUpdateConfig(t,a)}}},[e._v("Config")]),n("span",{directives:[{name:"show",rawName:"v-show",value:"Stopped"===t.status,expression:"item.status === 'Stopped'"}],on:{click:function(n){return e.showRun(t,a,e.robotTypeName[t.typeId],t.arguments,e.robotPairInfo[t.mainExchangePair],e.robotBalance,e.robotAccounts[t.mainExchangeAccountId],e.exchange[t.mainExchangeId])}}},[e._v("Run")]),n("span",{directives:[{name:"show",rawName:"v-show",value:"Running"===t.status,expression:"item.status === 'Running'"}],on:{click:function(n){return e.showStop(t,a)}}},[e._v("Stop")]),n("span",{class:{disabled:"Running"===t.status},on:{click:function(n){return e.deleteRobot(t)}}},[e._v("Delete")])])])])})),e.total||e.spinningExchange?e._e():n("tr",[n("td",{attrs:{align:"center",colspan:"9"}},[n("div",[e._v("No robots")])])])],2)]),n("div",{staticClass:"pagination-bottom"},[e.total>e.pageSize?n("a-pagination",{staticClass:"transactions-pagination",attrs:{total:e.total,defaultPageSize:e.pageSize,showQuickJumper:!0},on:{change:e.pageChange},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e()],1)]),n("div",{staticClass:"flex-center base-font-normal mt20"},[n("div",{staticClass:"dashboard-title"},[e._v("Orders")]),n("a-select",{staticClass:"robot-filter-select select-pair",staticStyle:{width:"200px"},attrs:{notFoundContent:"Not Found"},on:{change:e.changeFilter},model:{value:e.filterRobot.id,callback:function(t){e.$set(e.filterRobot,"id",t)},expression:"filterRobot.id"}},[n("a-select-option",{attrs:{value:"all"}},[n("span",{staticClass:"base-color-w"},[e._v("All")])]),e._l(e.robots,(function(t){return n("a-select-option",{key:t.id},[n("div",{staticClass:"base-color-w flex-center"},[e._v(" "+e._s(t.id)+" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.robotPairInfo[t.mainExchangePair],expression:"robotPairInfo[robot.mainExchangePair]"}]},[e._v("  "+e._s(e._f("filterPair")(e.robotPairInfo[t.mainExchangePair],e.exchange[t.mainExchangeId]))+" ")])])])}))],2),n("span",{staticClass:"pointer margin-left-auto",on:{click:e.cancelAll}},[e._v("Cancel All")])],1),n("a-spin",{staticClass:"table-spinning",attrs:{spinning:e.spinningOrders}},[n("table",{staticClass:"mt20"},[n("thead",[n("tr",[n("th",[e._v("ID")]),n("th",[e._v("Robot ID")]),n("th",[e._v("Main Exchange")]),n("th",[e._v("OrderId")]),n("th",[e._v("Swap")]),n("th",{staticClass:"table-line"},[e._v("Second Exchange")]),n("th",[e._v("OrderId")]),n("th",[e._v("Swap")]),n("th",[e._v("Earnings")]),n("th",[e._v("Time")])])]),n("tbody",[e._l(e.orders,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),n("td",[e._v(e._s(t.strategyId))]),n("td",[e._v(" "+e._s(e.exchange[t.strategy.mainExchangeId])+" ")]),n("td",[t.mainExchangeOrderId?n("div",["ICDex"===e.exchange[t.strategy.mainExchangeId]?n("a",{attrs:{href:"https://ic.house/swap/"+t.strategy.mainExchangePair+"/"+t.mainExchangeOrderId,rel:"nofollow noreferrer noopener",target:"_blank"}},[n("copy-account",{attrs:{account:t.mainExchangeOrderId,placement:"left","copy-text":"txid"}})],1):n("span",[e._v(" "+e._s(t.mainExchangeOrderId)+" ")])]):n("div",[e._v("-")])]),n("td",{class:{"base-green":"Completed"===e.filterOrderStatus(t,e.exchange),"base-red":"Cancelled"===e.filterOrderStatus(t,e.exchange)}},[t.mainExchangeOrderId?n("div",[n("div",[e._v(e._s(e.filterOrderStatus(t,e.exchange))+":")]),"ICDex"===e.exchange[t.strategy.mainExchangeId]?n("div",[n("div",[n("div",{staticClass:"swap-info"},[t.mainExchangeOrderInfo?n("div",{staticClass:"flex-center"},["Sell"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getSellToken0(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!0))+" ")]):e._e(),"Buy"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getBuyToken1(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!1))+" ")]):e._e(),n("span",{staticClass:"span-nbsp"}),e._v("->"),n("span",{staticClass:"span-nbsp"}),"Sell"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getSellToken1(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!1))+" ")]):e._e(),"Buy"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getBuyToken0(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!0))+" ")]):e._e()]):n("div",[e._v("-")])])]),t.mainExchangeOrderInfo?n("span",{staticClass:"line2 fs12"},[e._v(" (price: "),n("span",[e._v(" "+e._s(e.getICDexPrice(t,e.robotPairInfo,e.exchange)))]),e._v(") ")]):e._e()]):e._e(),"Binance"===e.exchange[t.strategy.mainExchangeId]?n("div",[t.mainExchangeOrderInfo?n("div",{staticClass:"flex-center"},["SELL"===t.mainExchangeOrderInfo.side?n("div",[n("span",[e._v(" "+e._s(e._f("filterVal")(e.getSellToken0Binance(t.mainExchangeOrderInfo,t.balanceChangesFilled)))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).base)+" ")])]):e._e(),"BUY"===t.mainExchangeOrderInfo.side?n("div",[n("span",[e._v(" "+e._s(e._f("filterVal")(e.getBuyToken1Binance(t.mainExchangeOrderInfo,t.balanceChangesFilled)))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).quote)+" ")])]):e._e(),n("span",{staticClass:"span-nbsp"}),e._v("->"),n("span",{staticClass:"span-nbsp"}),"SELL"===t.mainExchangeOrderInfo.side?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getSellToken1Binance(t.mainExchangeOrderInfo,t.balanceChangesFilled)))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).quote)+" ")]):e._e(),"BUY"===t.mainExchangeOrderInfo.side?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getBuyToken0Binance(t.mainExchangeOrderInfo,t.balanceChangesFilled)))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).base)+" ")]):e._e()]):e._e(),t.mainExchangeOrderInfo?n("span",{staticClass:"line2 fs12"},[e._v(" (price: "),n("span",[e._v(" "+e._s(e.getBinancePrice(t,e.robotPairInfo,e.exchange)))]),e._v(") ")]):e._e()]):e._e()]):n("div",[e._v("-")])]),n("td",{staticClass:"table-line"},[e._v(" "+e._s(e.exchange[t.strategy.secondExchangeId])+" ")]),n("td",["Binance"===e.exchange[t.strategy.secondExchangeId]?n("div",[t.secondExchangeOrderInfo.length?n("div",e._l(t.secondExchangeOrderInfo,(function(t){return n("div",{key:t.id},[e._v(" "+e._s(t.symbol)+": "+e._s(t.orderId)+" ")])})),0):n("div",[e._v("-")])]):e._e(),"ICDex"===e.exchange[t.strategy.secondExchangeId]?n("div",[t.secondExchangeOrderInfo.length?n("div",e._l(t.secondExchangeOrderInfo,(function(a){return n("div",{key:a.id,staticClass:"flex-center"},[e._v(" "+e._s(e._f("filterPair")(e.robotPairInfo[a.pairId],e.exchange[t.strategy.secondExchangeId]))+": "),"ICDex"===e.exchange[t.strategy.secondExchangeId]?n("a",{attrs:{href:"https://ic.house/swap/"+a.pairId+"/"+a.orderId,rel:"nofollow noreferrer noopener",target:"_blank"}},[n("copy-account",{attrs:{account:a.orderId,placement:"left","copy-text":"txid"}})],1):e._e()])})),0):n("div",[e._v("-")])]):e._e()]),n("td",[t.secondExchangeOrderInfo.length?n("div",["Binance"===e.exchange[t.strategy.secondExchangeId]?n("div",[e._l(t.secondExchangeOrderInfo,(function(t){return n("div",{key:t.id,staticClass:"lineHalf"},["SELL"===t.side?n("div",[n("span",[e._v(" "+e._s(e._f("filterVal")(t.executedQty))+" "+e._s(e.getBinanceSymbol(t.symbol,e.robotPairInfo).base)+" "),n("span",{staticClass:"span-nbsp"}),e._v("->"),n("span",{staticClass:"span-nbsp"}),e._v(" "+e._s(e._f("filterVal")(t.cummulativeQuoteQty))+" "+e._s(e.getBinanceSymbol(t.symbol,e.robotPairInfo).quote)+" ")])]):e._e(),"BUY"===t.side?n("div",[n("span",[e._v(" "+e._s(e._f("filterVal")(t.cummulativeQuoteQty))+" "+e._s(e.getBinanceSymbol(t.symbol,e.robotPairInfo).quote)+" "),n("span",{staticClass:"span-nbsp"}),e._v("->"),n("span",{staticClass:"span-nbsp"}),e._v(" "+e._s(e._f("filterVal")(t.executedQty))+" "+e._s(e.getBinanceSymbol(t.symbol,e.robotPairInfo).base)+" ")])]):e._e()])})),n("div",{staticClass:"lineHalf"},[t.secondExchangeOrderInfo&&t.secondExchangeOrderInfo.length?n("span",[e._v(" (price: "),n("span",[e._v(" "+e._s(e.getBinancePrice(t,e.robotPairInfo,e.exchange)))]),e._v(") ")]):n("span",[e._v("-")])])],2):e._e(),"ICDex"===e.exchange[t.strategy.secondExchangeId]?n("div",[e._l(t.secondExchangeOrderInfo,(function(a){return n("div",{key:a.id,staticClass:"lineHalf flex-center"},["Sell"===e.filterSide(a,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getSellToken0(a,{token0:0,token1:0},e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[a.pairId],e.exchange[t.strategy.secondExchangeId],!0))+" ")]):e._e(),"Buy"===e.filterSide(a,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getBuyToken1(a,{token0:0,token1:0},e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[a.pairId],e.exchange[t.strategy.secondExchangeId],!1))+" ")]):e._e(),n("span",{staticClass:"span-nbsp"}),e._v(" -> "),n("span",{staticClass:"span-nbsp"}),"Sell"===e.filterSide(a,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getSellToken1(a,{token0:0,token1:0},e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[a.pairId],e.exchange[t.strategy.secondExchangeId],!1))+" ")]):e._e(),"Buy"===e.filterSide(a,"ICDex")?n("div",[e._v(" "+e._s(e._f("filterVal")(e.getBuyToken0(a,{token0:0,token1:0},e.robotPairInfo)))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[a.pairId],e.exchange[t.strategy.secondExchangeId],!0))+" ")]):e._e()])})),n("div",{staticClass:"lineHalf"},[n("span",{staticClass:"line2 fs12"},[e._v(" (price: "),n("span",[e._v(" "+e._s(e.getICDexPrice(t,e.robotPairInfo,e.exchange)))]),e._v(") ")])])],2):e._e()]):n("div",[e._v("-")])]),n("td",[t.secondExchangeOrderInfo&&t.mainExchangeOrderInfo?n("span",{class:{"base-red":parseFloat(e.getEarnings(t,e.exchange,e.robotPairInfo))<0,"base-green":parseFloat(e.getEarnings(t,e.exchange,e.robotPairInfo))>0}},[e._v(" "+e._s(e.getEarnings(t,e.exchange,e.robotPairInfo))+" ")]):n("span",[e._v("-")])]),n("td",[e._v(e._s(e._f("formatDateToUTC")(t.updateTime)))])])})),e.totalOrder||e.spinningOrders?e._e():n("tr",[n("td",{attrs:{align:"center",colspan:"10"}},[n("div",[e._v("No orders")])])])],2)]),n("div",{staticClass:"pagination-bottom"},[e.totalOrder>e.pageSizeOrder?n("a-pagination",{staticClass:"transactions-pagination",attrs:{total:e.totalOrder,defaultPageSize:e.pageSizeOrder,showQuickJumper:!0},on:{change:e.pageChangeOrder},model:{value:e.pageOrder,callback:function(t){e.pageOrder=t},expression:"pageOrder"}}):e._e()],1)]),n("a-modal",{staticClass:"add-robot-modal global-spinning",attrs:{"after-close":e.afterClose,footer:null,keyboard:!1,maskClosable:!1,centered:"",title:e.title,width:"625px"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("a-spin",{attrs:{spinning:e.spinningConfig}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"Add"===e.type,expression:"type === 'Add'"}],staticClass:"base-font-title"},[n("div",[n("span",{staticClass:"add-label"},[e._v("Robot type:")]),n("a-select",{staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:e.disabledType,notFoundContent:"Not Found",placeholder:"Select robot type"},model:{value:e.selectedType.id,callback:function(t){e.$set(e.selectedType,"id",t)},expression:"selectedType.id"}},e._l(e.robotType,(function(t){return n("a-select-option",{key:t.id,staticClass:"account-select-option"},[n("span",[e._v(e._s(t.name))])])})),1)],1),n("span",{staticClass:"horizontal-line"}),n("select-exchange",{ref:"selectChange",attrs:{"disabled-selected-exchange":e.disabledSelectedMainExchange,exchange:e.exchange,exchanges:e.mainExchanges,ICDexAccounts:e.ICDexAccounts,"binance-accounts":e.BinanceAccounts,type:"Main"},on:{changeExchange:e.changeMainExchange,changePair:e.changePairMain,changeAccount:e.changeMainAccount,getICDexPairs:e.getICDexPairs,getBinancePairs:e.getBinancePairs,changeExchangeAccountFee:e.changeMainExchangeAccountFee,addExchangeAccountSuccess:e.addExchangeAccountSuccess}}),n("span",{staticClass:"horizontal-line"}),n("select-exchange",{ref:"secondSelectExchange",attrs:{"disabled-selected-exchange":e.disabledSelectedExchange,exchange:e.exchange,exchanges:e.secondExchanges,ICDexAccounts:e.ICDexAccounts,"binance-accounts":e.BinanceAccounts,type:"Second"},on:{changeExchange:e.changeSecondExchange,changePair:e.changePairSecond,changePairTwo:e.changePairTwo,changeAccount:e.changeSecondAccount,changeExchangeAccountFee:e.changeSecondExchangeAccountFee,changeInvert:e.changeInvert,addExchangeAccountSuccess:e.addExchangeAccountSuccess}}),n("span",{staticClass:"horizontal-line"})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.robotTypeName&&"Timer Robot"===e.robotTypeName[e.selectedType.id],expression:"\n          robotTypeName && robotTypeName[selectedType.id] === 'Timer Robot'\n        "}]},[n("span",{staticClass:"add-label"},[e._v("Config:")]),n("a-form-model",{ref:"configForm",attrs:{model:e.configForm,rules:e.configFormRules}},[n("div",{staticClass:"flex-center",staticStyle:{"justify-content":"space-between"}},[n("a-form-model-item",{attrs:{label:"OrderAmount (token0)",prop:"orderAmount"}},[n("a-input",{directives:[{name:"only-float",rawName:"v-only-float",value:e.token0Unit,expression:"token0Unit"}],key:e.token0Unit,staticStyle:{width:"240px","margin-right":"10px"},attrs:{placeholder:e.timerToken0+" amount",autocomplete:"off"},model:{value:e.configForm.orderAmount,callback:function(t){e.$set(e.configForm,"orderAmount",t)},expression:"configForm.orderAmount"}})],1),n("a-form-model-item",{attrs:{label:"Interval (minutes)",prop:"interval"}},[n("a-input",{directives:[{name:"only-number",rawName:"v-only-number"}],staticStyle:{width:"240px"},attrs:{autocomplete:"off",placeholder:"Interval(minutes)"},model:{value:e.configForm.interval,callback:function(t){e.$set(e.configForm,"interval",t)},expression:"configForm.interval"}})],1)],1),n("div",{staticClass:"flex-center"},[n("a-form-model-item",[n("a-checkbox",{staticClass:"base-font-title",attrs:{checked:e.configForm.unilateral},on:{change:function(t){e.configForm.unilateral=!e.configForm.unilateral}}},[e._v(" Execute unilateral only ")])],1),n("a-form-model-item",[n("a-checkbox",{staticClass:"base-font-title",staticStyle:{"margin-left":"10px"},attrs:{checked:e.configForm.arbitrage},on:{change:function(t){e.configForm.arbitrage=!e.configForm.arbitrage}}},[e._v("Execute arbitrage only ")])],1)],1)]),n("div",{staticClass:"mt20"},[n("button",{staticClass:"primary w100",attrs:{type:"button"},on:{click:e.submitTimer}},[e._v(" Confirm ")])])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.robotTypeName&&"Maker Robot"===e.robotTypeName[e.selectedType.id],expression:"\n          robotTypeName && robotTypeName[selectedType.id] === 'Maker Robot'\n        "}]},[n("span",{staticClass:"add-label"},[e._v("Config:")]),n("a-form-model",{ref:"configFormMaker",attrs:{model:e.configFormMaker,rules:e.configFormMakerRules}},[n("div",{staticClass:"flex-center config-arbitrage-form",staticStyle:{"justify-content":"space-between"}},[n("a-form-model-item",{attrs:{label:e.configToken1+" Amount",prop:"token1Amount"}},[n("a-input",{directives:[{name:"only-float",rawName:"v-only-float",value:e.token1Unit,expression:"token1Unit"}],key:e.token1Unit,staticStyle:{width:"240px"},attrs:{autocomplete:"off",placeholder:e.configToken1+" amount per order"},model:{value:e.configFormMaker.token1Amount,callback:function(t){e.$set(e.configFormMaker,"token1Amount",t)},expression:"configFormMaker.token1Amount"}})],1),n("a-form-model-item",{attrs:{label:"Minimum Profit",prop:"minimumProfit"}},[n("a-input",{directives:[{name:"only-float",rawName:"v-only-float",value:3,expression:"3"}],staticStyle:{width:"240px"},attrs:{suffix:"%",placeholder:"Minimum Profit"},model:{value:e.configFormMaker.minimumProfit,callback:function(t){e.$set(e.configFormMaker,"minimumProfit",t)},expression:"configFormMaker.minimumProfit"}})],1)],1),n("div",{staticClass:"flex-center"},[n("a-form-model-item",{attrs:{label:"Price % change on reorder",prop:"minimumPriceFluctuation"}},[n("a-input",{directives:[{name:"only-float",rawName:"v-only-float",value:3,expression:"3"}],staticStyle:{width:"240px"},attrs:{suffix:"%",placeholder:"Price % change on reorder"},model:{value:e.configFormMaker.minimumPriceFluctuation,callback:function(t){e.$set(e.configFormMaker,"minimumPriceFluctuation",t)},expression:"configFormMaker.minimumPriceFluctuation"}})],1)],1)]),n("div",{staticClass:"mt20"},[n("button",{staticClass:"primary w100",attrs:{type:"button"},on:{click:e.submitMaker}},[e._v(" Confirm ")])])],1)])],1),n("a-modal",{staticClass:"add-robot-modal global-spinning",attrs:{footer:null,keyboard:!1,maskClosable:!1,centered:"",title:e.titleView,width:"800px"},model:{value:e.visibleView,callback:function(t){e.visibleView=t},expression:"visibleView"}},[e.viewRobot?n("div",{staticClass:"base-font-title view-robot"},[n("div",{staticClass:"flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Robot type:")]),e._v(e._s(e.robotTypeName[e.viewRobot.typeId])+" ")]),n("span",{staticClass:"horizontal-line"}),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Main Exchange:")]),e._v(" "+e._s(e.exchange[e.viewRobot.mainExchangeId])+" ")]),n("div",{staticClass:"mt20 flex-center flex-start"},[n("span",{staticClass:"view-robot-label"},[e._v("Pair:")]),n("div",[e._v(" "+e._s(e._f("filterPair")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId]))+" "),n("div",[n("span",{staticClass:"ask-price"},[e._v(" ask: "+e._s(e._f("filterDepth")(e.robotDepth[e.viewRobot.mainExchangePair],e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],"ask",e.token1Unit))+" ")]),n("span",{staticClass:"bid-price",staticStyle:{"margin-left":"5px"}},[e._v(" bid: "+e._s(e._f("filterDepth")(e.robotDepth[e.viewRobot.mainExchangePair],e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],"bid",e.token1Unit))+" ")])])])]),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Account:")]),e._v(" "+e._s(e.robotAccounts[e.viewRobot.mainExchangeAccountId].name)+" ( "),n("span",{directives:[{name:"show",rawName:"v-show",value:"ICDex"===e.exchange[e.viewRobot.mainExchangeId],expression:"exchange[viewRobot.mainExchangeId] === 'ICDex'"}]},[n("copy-account",{attrs:{account:e.filterICDexAccount(e.robotAccounts[e.viewRobot.mainExchangeAccountId].value)}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"Binance"===e.exchange[e.viewRobot.mainExchangeId],expression:"exchange[viewRobot.mainExchangeId] === 'Binance'"}]},[n("copy-account",{attrs:{account:e.filterBinanceAPIKey(e.robotAccounts[e.viewRobot.mainExchangeAccountId].value),"copy-text":"API Key"}})],1),e._v(" ) ")]),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Fee:")]),e._v(" "+e._s(e._f("filterFee")(e.viewRobot.mainExchangeFee))+"% ")]),"ICDex"===e.exchange[e.viewRobot.mainExchangeId]?n("div",[n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Wallet balances "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.refreshBalanceLoading,expression:"!refreshBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"reload"},on:{click:function(t){return e.refreshBalance(e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.viewRobot.secondExchangePair)}}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.refreshBalanceLoading,expression:"refreshBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"loading"}}),e._v(" : ")],1),n("div",{staticClass:"flex-center flex-grow"},[n("div",{staticClass:"flex1"},[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],!0))+": "+e._s(e._f("filterVal")(e._f("filterWalterBalance")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.robotICDexLocalBalance,!0)))+" ")]),n("div",{staticClass:"flex1"},[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],!1))+": "+e._s(e._f("filterVal")(e._f("filterWalterBalance")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.robotICDexLocalBalance,!1)))+" ")])])]),n("div",{staticClass:"mt20 flex-center flex-start"},[n("span",{staticClass:"view-robot-label"},[e._v(" Trader Account "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.refreshBalanceTraderAccountLoading,expression:"!refreshBalanceTraderAccountLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"reload"},on:{click:function(t){return e.refreshBalanceTraderAccount(e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.viewRobot.mainExchangePair)}}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.refreshBalanceTraderAccountLoading,expression:"refreshBalanceTraderAccountLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"loading"}}),e._v(" : ")],1),n("div",{staticClass:"flex-center flex1"},[n("div",{staticClass:"flex1"},[n("div",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],!0))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.mainExchangePair],e.robotBalance,e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.exchange[e.viewRobot.mainExchangeId],!0)))+" "),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Withdraw ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"5px",color:"#5d6470"},attrs:{type:"minus-circle"},on:{click:function(t){return e.onKeepingBalance(e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.robotPairInfo[e.viewRobot.mainExchangePair],!0)}}})],2),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Deposit ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"8px",color:"#5d6470"},attrs:{type:"plus-circle"},on:{click:function(t){return e.onDepositKeepingBalance(e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.robotPairInfo[e.viewRobot.mainExchangePair],!0)}}})],2)],1),"Timer Robot"===e.robotTypeName[e.viewRobot.typeId]&&e.insufficientBalance(e.robotTypeName[e.viewRobot.typeId],e.viewRobot.arguments,e.robotPairInfo[e.viewRobot.mainExchangePair],e.robotBalance,e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.exchange[e.viewRobot.mainExchangeId])?n("div",{staticClass:"flex-center base-red"},[e._v(" insufficient balance ")]):e._e()]),n("div",{staticClass:"flex1"},[n("div",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],!1))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.mainExchangePair],e.robotBalance,e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.exchange[e.viewRobot.mainExchangeId],!1)))+" "),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Withdraw ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"5px",color:"#5d6470"},attrs:{type:"minus-circle"},on:{click:function(t){return e.onKeepingBalance(e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.robotPairInfo[e.viewRobot.mainExchangePair],!1)}}})],2),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Deposit ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"8px",color:"#5d6470"},attrs:{type:"plus-circle"},on:{click:function(t){return e.onDepositKeepingBalance(e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.robotPairInfo[e.viewRobot.mainExchangePair],!1)}}})],2)],1),"Maker Robot"===e.robotTypeName[e.viewRobot.typeId]&&e.insufficientBalance(e.robotTypeName[e.viewRobot.typeId],e.viewRobot.arguments,e.robotPairInfo[e.viewRobot.mainExchangePair],e.robotBalance,e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.exchange[e.viewRobot.mainExchangeId])?n("div",{staticClass:"flex-center base-red"},[e._v(" insufficient balance ")]):e._e()])])])]):e._e(),"Binance"===e.exchange[e.viewRobot.mainExchangeId]?n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v(" Balances "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.refreshBinanceBalanceLoading,expression:"!refreshBinanceBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"reload"},on:{click:function(t){return e.refreshBinanceBalance(e.robotAccounts[e.viewRobot.mainExchangeAccountId])}}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.refreshBinanceBalanceLoading,expression:"refreshBinanceBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"loading"}}),e._v(" : ")],1),n("div",{staticClass:"flex-center flex-grow"},[n("div",{staticClass:"flex1"},[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair.split(",")[0]],e.exchange[e.viewRobot.mainExchangeId],!0))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.mainExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.exchange[e.viewRobot.mainExchangeId],!0)))+" ")]),n("div",{staticClass:"flex1"},[e.viewRobot.mainExchangePair&&e.viewRobot.mainExchangePair.split(",").length>1?n("span",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair.split(",")[1]],e.exchange[e.viewRobot.mainExchangeId],!0))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.mainExchangePair.split(",")[1]],e.robotBalance,e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.exchange[e.viewRobot.mainExchangeId],!0)))+" ")]):n("span",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair.split(",")[0]],e.exchange[e.viewRobot.mainExchangeId],!1))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.mainExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[e.viewRobot.mainExchangeAccountId],e.exchange[e.viewRobot.mainExchangeId],!1)))+" ")])])])]):e._e(),n("span",{staticClass:"horizontal-line"}),"Timer Robot"===e.robotTypeName[e.viewRobot.typeId]&&e.getTimerConfig(e.viewRobot.arguments)&&!e.getTimerConfig(e.viewRobot.arguments).unilateral||"Maker Robot"===e.robotTypeName[e.viewRobot.typeId]?n("div",[n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Second Exchange: ")]),e._v(" "+e._s(e.exchange[e.viewRobot.secondExchangeId])+" ")]),n("div",{staticClass:"mt20 flex-center flex-start"},[n("span",{staticClass:"view-robot-label"},[e._v("Pair: ")]),n("div",{staticClass:"flex-center"},[n("div",[e._v(" "+e._s(e._f("filterPair")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.exchange[e.viewRobot.secondExchangeId]))+" "),e.viewRobot.secondExchangePair.split(",")[1]?e._e():n("span",[e._v("  "),n("a-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.viewRobot.invert,expression:"viewRobot.invert"}],staticClass:"view-invert-pair",attrs:{"default-checked":"",disabled:""}},[e._v(" Invert ")])],1),n("div",[n("span",{staticClass:"ask-price"},[e._v(" ask: "+e._s(e._f("filterDepth")(e.robotDepth[e.viewRobot.secondExchangePair.split(",")[0]],e.robotPairInfo[[e.viewRobot.secondExchangePair.split(",")[0]]],e.exchange[e.viewRobot.secondExchangeId],"ask",e.token1Unit))+" ")]),n("span",{staticClass:"bid-price",staticStyle:{"margin-left":"5px"}},[e._v(" bid: "+e._s(e._f("filterDepth")(e.robotDepth[[e.viewRobot.secondExchangePair.split(",")[0]]],e.robotPairInfo[[e.viewRobot.secondExchangePair.split(",")[0]]],e.exchange[e.viewRobot.secondExchangeId],"bid",e.token1Unit))+" ")])])]),e.viewRobot.secondExchangePair.split(",")[1]?n("div",{staticStyle:{"margin-left":"10px"}},[n("span",[e._v(" "+e._s(e._f("filterPair")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]],e.exchange[e.viewRobot.secondExchangeId]))+" ")]),e._v("  "),n("a-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.viewRobot.invert,expression:"viewRobot.invert"}],staticClass:"view-invert-pair",attrs:{"default-checked":"",disabled:""}},[e._v(" Invert ")]),n("div",[n("span",{staticClass:"ask-price"},[e._v(" ask: "+e._s(e._f("filterDepth")(e.robotDepth[e.viewRobot.secondExchangePair.split(",")[1]],e.robotPairInfo[[e.viewRobot.secondExchangePair.split(",")[1]]],e.exchange[e.viewRobot.secondExchangeId],"ask",e.token1Unit))+" ")]),n("span",{staticClass:"bid-price",staticStyle:{"margin-left":"5px"}},[e._v(" bid: "+e._s(e._f("filterDepth")(e.robotDepth[[e.viewRobot.secondExchangePair.split(",")[1]]],e.robotPairInfo[[e.viewRobot.secondExchangePair.split(",")[1]]],e.exchange[e.viewRobot.secondExchangeId],"bid",e.token1Unit))+" ")])])],1):e._e()])]),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Account: ")]),e._v(" "+e._s(e.robotAccounts[e.viewRobot.secondExchangeAccountId].name)+" ( "),n("span",{directives:[{name:"show",rawName:"v-show",value:"ICDex"===e.exchange[e.viewRobot.secondExchangeId],expression:"exchange[viewRobot.secondExchangeId] === 'ICDex'"}]},[n("copy-account",{attrs:{account:e.filterICDexAccount(e.robotAccounts[e.viewRobot.secondExchangeAccountId].value)}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:"Binance"===e.exchange[e.viewRobot.secondExchangeId],expression:"exchange[viewRobot.secondExchangeId] === 'Binance'"}]},[n("copy-account",{attrs:{account:e.filterBinanceAPIKey(e.robotAccounts[e.viewRobot.secondExchangeAccountId].value),"copy-text":"API Key"}})],1),e._v(" ) ")]),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Fee: ")]),e._v(" "+e._s(e._f("filterFee")(e.viewRobot.secondExchangeFee))+"% ")]),"ICDex"===e.exchange[e.viewRobot.secondExchangeId]?n("div",[n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Wallet balances "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.refreshBalanceLoading,expression:"!refreshBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"reload"},on:{click:function(t){return e.refreshBalance(e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.viewRobot.secondExchangePair)}}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.refreshBalanceLoading,expression:"refreshBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"loading"}}),e._v(" : ")],1),n("div",{staticClass:"flex-center flex-grow"},[n("div",{staticClass:"flex1"},[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.exchange[e.viewRobot.secondExchangeId],!0))+": "+e._s(e._f("filterVal")(e._f("filterWalterBalance")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.robotICDexLocalBalance,!0)))+" ")]),n("div",{staticClass:"flex1"},[e.viewRobot.secondExchangePair&&e.viewRobot.secondExchangePair.split(",").length>1?n("div",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]],e.exchange[e.viewRobot.secondExchangeId],!0))+": "+e._s(e._f("filterVal")(e._f("filterWalterBalance")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]],e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.robotICDexLocalBalance,!0)))+" ")]):n("div",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.exchange[e.viewRobot.secondExchangeId],!1))+": "+e._s(e._f("filterVal")(e._f("filterWalterBalance")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.robotICDexLocalBalance,!1)))+" ")])])])]),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v(" Trader Account "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.refreshBalanceTraderAccountLoading,expression:"!refreshBalanceTraderAccountLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"reload"},on:{click:function(t){return e.refreshBalanceTraderAccount(e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.viewRobot.secondExchangePair)}}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.refreshBalanceTraderAccountLoading,expression:"refreshBalanceTraderAccountLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"loading"}}),e._v(" : ")],1),n("div",{staticClass:"flex-center flex1"},[n("div",{staticClass:"flex1 flex-center"},[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.exchange[e.viewRobot.secondExchangeId],!0))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.exchange[e.viewRobot.secondExchangeId],!0)))+" "),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Withdraw ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"5px",color:"#5d6470"},attrs:{type:"minus-circle"},on:{click:function(t){e.onKeepingBalance(e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],!0)}}})],2),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Deposit ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"8px",color:"#5d6470"},attrs:{type:"plus-circle"},on:{click:function(t){e.onDepositKeepingBalance(e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],!0)}}})],2)],1),n("div",{staticClass:"flex1 flex-center"},[e.viewRobot.secondExchangePair&&e.viewRobot.secondExchangePair.split(",").length>1?n("div",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]],e.exchange[e.viewRobot.secondExchangeId],!0))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]],e.robotBalance,e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.exchange[e.viewRobot.secondExchangeId],!0)))+" ")]):n("div",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.exchange[e.viewRobot.secondExchangeId],!1))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.exchange[e.viewRobot.secondExchangeId],!1)))+" ")]),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Withdraw ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"5px",color:"#5d6470"},attrs:{type:"minus-circle"},on:{click:function(t){e.onKeepingBalance(e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.viewRobot.secondExchangePair&&e.viewRobot.secondExchangePair.split(",").length>1?e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]]:e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.viewRobot.secondExchangePair.split(",").length>1)}}})],2),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[e._v(" Deposit ")]),n("a-icon",{staticClass:"pointer",staticStyle:{"margin-left":"8px",color:"#5d6470"},attrs:{type:"plus-circle"},on:{click:function(t){e.onDepositKeepingBalance(e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.viewRobot.secondExchangePair&&e.viewRobot.secondExchangePair.split(",").length>1?e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]]:e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.viewRobot.secondExchangePair.split(",").length>1)}}})],2)],1)])])]):e._e(),"Binance"===e.exchange[e.viewRobot.secondExchangeId]?n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v(" Balances "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.refreshBinanceBalanceLoading,expression:"!refreshBinanceBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"reload"},on:{click:function(t){return e.refreshBinanceBalance(e.robotAccounts[e.viewRobot.secondExchangeAccountId])}}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.refreshBinanceBalanceLoading,expression:"refreshBinanceBalanceLoading"}],staticClass:"reload-icon",staticStyle:{"font-size":"13px"},attrs:{type:"loading"}}),e._v(" : ")],1),n("div",{staticClass:"flex-center flex-grow"},[n("div",{staticClass:"flex1"},[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.exchange[e.viewRobot.secondExchangeId],!0))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.exchange[e.viewRobot.secondExchangeId],!0)))+" ")]),n("div",{staticClass:"flex1"},[e.viewRobot.secondExchangePair&&e.viewRobot.secondExchangePair.split(",").length>1?n("span",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]],e.exchange[e.viewRobot.secondExchangeId],!0))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[1]],e.robotBalance,e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.exchange[e.viewRobot.secondExchangeId],!0)))+" ")]):n("span",[e._v(" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.exchange[e.viewRobot.secondExchangeId],!1))+": "+e._s(e._f("filterVal")(e.filterBalance(e.robotPairInfo[e.viewRobot.secondExchangePair.split(",")[0]],e.robotBalance,e.robotAccounts[e.viewRobot.secondExchangeAccountId],e.exchange[e.viewRobot.secondExchangeId],!1)))+" ")])])])]):e._e(),n("span",{staticClass:"horizontal-line"})]):e._e(),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"view-robot-label"},[e._v("Config:")]),"Timer Robot"===e.robotTypeName[e.viewRobot.typeId]?n("div",[e.getTimerConfig(e.viewRobot.arguments)?n("div",[n("div",[e._v(" "+e._s(e.getTimerConfig(e.viewRobot.arguments).orderAmount)+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],!0))+" per order ")]),n("div",[e._v(" Interval "+e._s(e.getTimerConfig(e.viewRobot.arguments).interval)+" minutes ")]),n("div",[e.getTimerConfig(e.viewRobot.arguments).unilateral?n("span",[e._v(" One-side ")]):n("span",[e._v("Two-sides")]),e.getTimerConfig(e.viewRobot.arguments).arbitrage?n("span",[e._v(" , Arbitrage only ")]):e._e()])]):e._e()]):e._e(),"Maker Robot"===e.robotTypeName[e.viewRobot.typeId]?n("div",[e.getMakerConfig(e.viewRobot.arguments)?n("div",[n("div",[e._v(" "+e._s(e.getMakerConfig(e.viewRobot.arguments).token1Amount)+" "+e._s(e._f("filterSymbol")(e.robotPairInfo[e.viewRobot.mainExchangePair],e.exchange[e.viewRobot.mainExchangeId],!1))+" per order ")]),n("div",[e._v(" Min profit "+e._s(e.getMakerConfig(e.viewRobot.arguments).minimumProfit)+"% ")]),n("div",[e._v(" Price fluctuation "+e._s(e.getMakerConfig(e.viewRobot.arguments).minimumPriceFluctuation)+"% ")])]):e._e()]):e._e()])]):e._e()]),n("a-modal",{attrs:{centered:"",width:"90%",footer:null,keyboard:!1,maskClosable:!1,"after-close":e.afterCloseError},model:{value:e.visibleErrors,callback:function(t){e.visibleErrors=t},expression:"visibleErrors"}},[n("a-spin",{staticClass:"exchange-main",staticStyle:{"margin-top":"40px"},attrs:{spinning:e.spinningOrdersError}},[n("table",[n("thead",[n("tr",[n("th",[e._v("Order ID")]),n("th",[e._v("Main Exchange")]),n("th",[e._v("OrderId")]),n("th",[e._v("Swap")]),n("th",{staticClass:"table-line"},[e._v("Second Exchange")]),n("th",[e._v("Message")]),n("th",[e._v("Time")])])]),n("tbody",[e._l(e.ordersError,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),n("td",[e._v(" "+e._s(e.exchange[t.strategy.mainExchangeId])+" ")]),n("td",[t.mainExchangeOrderId?n("div",["ICDex"===e.exchange[t.strategy.mainExchangeId]?n("a",{attrs:{href:"https://ic.house/swap/"+t.strategy.mainExchangePair+"/"+t.mainExchangeOrderId,rel:"nofollow noreferrer noopener",target:"_blank"}},[n("copy-account",{attrs:{account:t.mainExchangeOrderId,placement:"left","copy-text":"txid"}})],1):n("span",[e._v(" "+e._s(t.mainExchangeOrderId)+" ")])]):n("div",[e._v("-")])]),n("td",["ICDex"===e.exchange[t.strategy.mainExchangeId]?n("div",[n("div",[n("div",{staticClass:"swap-info"},[t.mainExchangeOrderInfo?n("div",{staticClass:"flex-center"},["Sell"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e.getSellToken0(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!0))+" ")]):e._e(),"Buy"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e.getBuyToken1(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!1))+" ")]):e._e(),n("span",{staticClass:"span-nbsp"}),e._v("->"),n("span",{staticClass:"span-nbsp"}),"Sell"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e.getSellToken1(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!1))+" ")]):e._e(),"Buy"===e.filterSide(t.mainExchangeOrderInfo,"ICDex")?n("div",[e._v(" "+e._s(e.getBuyToken0(t.mainExchangeOrderInfo,t.balanceChangesFilled,e.robotPairInfo))+" "),n("span",{staticClass:"span-nbsp"}),e._v(e._s(e._f("filterSymbol")(e.robotPairInfo[t.strategy.mainExchangePair],e.exchange[t.strategy.mainExchangeId],!0))+" ")]):e._e()]):n("div",[e._v("-")])])]),t.mainExchangeOrderInfo?n("span",{staticClass:"line2 fs12"},[e._v(" (price: "),n("span",[e._v(" "+e._s(e.getICDexPrice(t,e.robotPairInfo,e.exchange)))]),e._v(") ")]):e._e()]):e._e(),"Binance"===e.exchange[t.strategy.mainExchangeId]?n("div",[t.mainExchangeOrderInfo?n("div",["SELL"===t.mainExchangeOrderInfo.side?n("div",[n("span",[e._v(" "+e._s(e._f("filterVal")(t.mainExchangeOrderInfo.executedQty))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).base)+" "),n("span",{staticClass:"span-nbsp"}),e._v("->"),n("span",{staticClass:"span-nbsp"}),e._v(" "+e._s(e._f("filterVal")(t.mainExchangeOrderInfo.cummulativeQuoteQty))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).quote)+" ")])]):e._e(),"BUY"===t.mainExchangeOrderInfo.side?n("div",[n("span",[e._v(" "+e._s(e._f("filterVal")(t.mainExchangeOrderInfo.cummulativeQuoteQty))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).quote)+" "),n("span",{staticClass:"span-nbsp"}),e._v("->"),n("span",{staticClass:"span-nbsp"}),e._v(" "+e._s(e._f("filterVal")(t.mainExchangeOrderInfo.executedQty))+" "+e._s(e.getBinanceSymbol(t.mainExchangeOrderInfo.symbol,e.robotPairInfo).base)+" ")])]):e._e()]):e._e(),t.mainExchangeOrderInfo?n("span",{staticClass:"line2 fs12"},[e._v(" (price: "),n("span",[e._v(" "+e._s(e.getBinancePrice(t,e.robotPairInfo,e.exchange)))]),e._v(") ")]):e._e()]):e._e()]),n("td",{staticClass:"table-line"},[e._v(" "+e._s(e.exchange[t.strategy.secondExchangeId])+" ")]),n("td",{staticClass:"fs12 fail-message"},[n("div",[e._v(e._s(e.filterMessage(t)))])]),n("td",[e._v(e._s(e._f("formatDateToUTC")(t.updateTime)))])])})),e.ordersError.length||e.spinningOrdersError?e._e():n("tr",[n("td",{attrs:{colspan:"7",align:"center"}},[n("div",[e._v("No order")])])])],2)]),n("div",{staticClass:"pagination-bottom"},[e.totalOrderError>e.pageSizeOrderError?n("a-pagination",{staticClass:"transactions-pagination",attrs:{total:e.totalOrderError,defaultPageSize:e.pageSizeOrderError,showQuickJumper:!0},on:{change:e.pageChangeOrderError},model:{value:e.pageOrderError,callback:function(t){e.pageOrderError=t},expression:"pageOrderError"}}):e._e()],1)])],1),e.currentPair?n("withdraw-token",{ref:"withdrawToken",attrs:{"pair-id":e.currentPair.pairId,identity:e.currentIdentity},on:{withdrawSuccess:e.withdrawSuccess}}):e._e(),e.currentPair?n("transfer-token",{ref:"transferToken",attrs:{"current-token":e.currentToken,"pair-id":e.currentPair.pairId,"is-token0":e.isToken0,identity:e.currentIdentity,type:"Deposit",transferButton:"Deposit"},on:{DepositSuccess:e.DepositSuccess}}):e._e()],1)},r=[],i=n(31635),o=n(51233),c=n(84643),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mt20"},[n("span",{staticClass:"add-label"},[e._v(e._s(e.type)+" exchange:")]),n("a-select",{staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:e.disabledSelectedExchange,placeholder:"Select "+e.type+" exchange",notFoundContent:"Not Found"},on:{change:e.changeExchange},model:{value:e.selectedExchange.id,callback:function(t){e.$set(e.selectedExchange,"id",t)},expression:"selectedExchange.id"}},e._l(e.exchanges,(function(t){return n("a-select-option",{key:t.id,staticClass:"account-select-option"},[n("span",[e._v(e._s(t.name))])])})),1)],1),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"add-label"},[e._v(e._s(e.type)+" exchange pair:")]),n("div",{staticClass:"flex-center"},[n("select-exchange-pair",{directives:[{name:"show",rawName:"v-show",value:e.ICDexPairs&&e.binancePairs,expression:"ICDexPairs && binancePairs"}],ref:"selectExchangePair",attrs:{type:e.type,"exchange-name":e.exchange[e.selectedExchange.id],ICDexPairs:e.ICDexPairs,"binance-pairs":e.binancePairs,selectedPairDisabled:e.disabledSelectedExchange},on:{changePair:e.changePair}}),n("span",{directives:[{name:"show",rawName:"v-show",value:"Second"===e.type&&e.selectedExchange.id&&!e.twoPair&&!e.disabledSelectedExchange,expression:"\n          type === 'Second' &&\n          selectedExchange.id &&\n          !twoPair &&\n          !disabledSelectedExchange\n        "}],staticClass:"ml10"}),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[e._v("Two second exchange pair")])]),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:"Second"===e.type&&e.selectedExchange.id&&!e.twoPair&&!e.disabledSelectedExchange,expression:"\n            type === 'Second' &&\n            selectedExchange.id &&\n            !twoPair &&\n            !disabledSelectedExchange\n          "}],attrs:{type:"plus-circle"},on:{click:e.morePair}})],2),n("a-select",{directives:[{name:"show",rawName:"v-show",value:!e.selectedExchange.id,expression:"!selectedExchange.id"}],staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:"",placeholder:"Search "+e.type+" exchange pair"}})],1)]),n("div",{staticClass:"flex-center second-two-pair"},[n("select-exchange-pair",{directives:[{name:"show",rawName:"v-show",value:e.ICDexPairs&&e.binancePairs&&e.twoPair,expression:"ICDexPairs && binancePairs && twoPair"}],ref:"selectExchangePairTwo",attrs:{type:"Second","exchange-name":e.exchange[e.selectedExchange.id],ICDexPairs:e.ICDexPairs,"binance-pairs":e.binancePairs,selectedPairDisabled:e.disabledSelectedExchange},on:{changePair:e.changePairTwo}}),n("span",{directives:[{name:"show",rawName:"v-show",value:"Second"===e.type&&e.selectedExchange.id&&e.twoPair&&!e.disabledSelectedExchange,expression:"\n        type === 'Second' &&\n        selectedExchange.id &&\n        twoPair &&\n        !disabledSelectedExchange\n      "}],staticClass:"ml10"}),n("a-tooltip",{directives:[{name:"show",rawName:"v-show",value:"Second"===e.type&&e.selectedExchange.id&&e.twoPair&&!e.disabledSelectedExchange,expression:"\n        type === 'Second' &&\n        selectedExchange.id &&\n        twoPair &&\n        !disabledSelectedExchange\n      "}],attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[e._v("One second exchange pair")])]),n("a-icon",{attrs:{type:"minus-circle"},on:{click:e.onePair}})],2)],1),n("a-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.disabledSelectedExchange&&"Second"===e.type&&!e.twoPair,expression:"!disabledSelectedExchange && type === 'Second' && !twoPair"}],staticClass:"base-font-title invert-pair",attrs:{disabled:e.disabledSelectedExchange},on:{change:e.changeInvert},model:{value:e.invert,callback:function(t){e.invert=t},expression:"invert"}},[e._v(" Invert ")]),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"add-label"},[e._v(e._s(e.type)+" exchange account:")]),n("select-exchange-account",{ref:"selectExchangeAccount",attrs:{type:e.type,"exchange-id":e.selectedExchange.id,"exchange-name":e.exchange[e.selectedExchange.id],"selected-account-disabled":e.disabledSelectedExchange,ICDexAccounts:e.ICDexAccounts,"binance-accounts":e.BinanceAccounts},on:{addExchangeAccountSuccess:e.addExchangeAccountSuccess,changeAccount:e.changeAccount}}),n("a-select",{directives:[{name:"show",rawName:"v-show",value:!e.selectedExchange.id,expression:"!selectedExchange.id"}],staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:"",placeholder:"Select "+e.type+" exchange account"}})],1),n("div",{staticClass:"mt20 flex-center"},[n("span",{staticClass:"add-label"},[e._v(e._s(e.type)+" exchange fee:")]),n("select-exchange-account-fee",{ref:"selectExchangeAccountFee",attrs:{type:e.type,"exchange-name":e.exchange[e.selectedExchange.id],ICDexAccounts:e.ICDexAccounts,"binance-accounts":e.BinanceAccounts},on:{changeExchangeAccountFee:e.changeExchangeAccountFee}})],1)],1)},l=[],u=({IDL:e})=>{const t=e.Text,n=e.Text,a=e.Variant({principal:e.Principal,address:n}),r=e.Text,i=e.Nat,o=e.Variant({MARS:e.Null,JUPITER:e.Null,URANUS:e.Null,UNKNOWN:e.Null,MERCURY:e.Null,NEPTUNE:e.Null,VENUS:e.Null,SATURN:e.Null,EARTH:e.Null}),c=e.Principal,s=e.Tuple(a,r,i,o,c),l=e.Int,u=e.Tuple(e.Text,r,l),d=e.Vec(e.Nat8),p=e.Principal,h=e.Record({BLACKHOLE:e.Opt(e.Principal),SYS_TOKEN:e.Opt(e.Principal),SCORE_G1:e.Opt(e.Nat),SCORE_G2:e.Opt(e.Nat),SCORE_G3:e.Opt(e.Nat),SCORE_G4:e.Opt(e.Nat),ORACLE:e.Opt(e.Principal)}),g=e.Record({timer:e.Record({interval_seconds:e.Opt(e.Nat),enable:e.Bool}),monitorable_by_self:e.Bool,monitorable_by_blackhole:e.Record({canister_id:e.Opt(e.Principal),allowed:e.Bool}),cycles_receivable:e.Bool}),f=e.Record({BLACKHOLE:e.Principal,SYS_TOKEN:e.Principal,SCORE_G1:e.Nat,SCORE_G2:e.Nat,SCORE_G3:e.Nat,SCORE_G4:e.Nat,ORACLE:e.Principal}),m=e.Text,v=e.Variant({dft:e.Null,ext:e.Null,icp:e.Null,other:e.Text,cycles:e.Null,ledger:e.Null,icrc1:e.Null,dip20:e.Null,drc20:e.Null}),x=e.Tuple(e.Principal,m,v),b=e.Text,y=e.Tuple(e.Principal,m,v),I=e.Principal,N=e.Record({feeRate:e.Float64,token0:y,token1:y,dexName:b,canisterId:I}),_=e.Record({end:l,content:e.Text,name:e.Text,start:l,pairs:e.Vec(e.Tuple(b,N,e.Variant({token0:e.Null,token1:e.Null}))),hostedDex:b}),P=e.Variant({DebitRecord:e.Nat,CreditRecord:e.Nat,NoChange:e.Null}),k=e.Vec(e.Nat8),E=e.Record({time:l,token0Value:P,counterparty:k,token1Value:P}),T=e.Record({pnl:e.Float64,vol:e.Nat,trades:e.Vec(E),count:e.Nat,time:l,avgPrice:e.Float64,capital:e.Float64,position:e.Int}),w=e.Record({startTime:l,total:e.Opt(e.Tuple(T,e.Float64)),endTime:e.Opt(l),data:e.Vec(T),pair:I,dexName:b,quoteToken:e.Variant({token0:e.Null,token1:e.Null})}),S=e.Record({startTime:l,total:e.Opt(e.Tuple(T,e.Float64)),endTime:e.Opt(l),data:e.Vec(T),pair:N,quoteToken:e.Variant({token0:e.Null,token1:e.Null})}),O=e.Record({total:e.Nat,data:e.Vec(e.Tuple(d,e.Vec(S))),totalPage:e.Nat}),C=e.Text,R=e.Record({total:e.Nat,data:e.Vec(e.Tuple(e.Nat,_)),totalPage:e.Nat}),A=e.Record({end:e.Opt(l),verified:e.Bool,referrer:e.Principal,name:e.Text,start:l,nftId:e.Text}),F=e.Nat,V=e.Variant({STAGE0:e.Null,STAGE1:e.Null,STAGE2:e.Null}),B=e.Record({startingOverG1:e.Opt(F),updatedTime:F,score1:e.Nat,score2:e.Nat,score3:e.Nat,pair:N,startingBelowG2:e.Opt(F),startingBelowG4:e.Opt(F),createdTime:F,marketBoard:V}),D=e.Record({total:e.Nat,data:e.Vec(e.Tuple(p,B)),totalPage:e.Nat}),M=e.Nat,q=e.Record({value0:M,value1:M}),H=e.Nat,L=e.Record({updateTime:H,token1TimeWeighted:e.Nat,token0TimeWeighted:e.Nat}),$=e.Record({vol:q,shares:M,shareWeighted:e.Record({updateTime:H,shareTimeWeighted:e.Nat}),unitValue:e.Tuple(M,M),orderCount:e.Nat64,token0:M,token1:M,priceWeighted:L,price:e.Nat,userCount:e.Nat64,unitSize:e.Nat}),j=e.Record({end:e.Opt(l),verified:e.Bool,referrer:e.Principal,name:e.Text,start:l,nftId:e.Text}),J=e.Record({pair:N,sponsored:e.Bool,liquidity:e.Opt($),createdTime:F,score:e.Nat,marketBoard:e.Opt(V),listingReferrers:e.Vec(e.Tuple(j,l,e.Text))}),U=e.Record({total:e.Nat,data:e.Vec(e.Tuple(p,J)),totalPage:e.Nat}),Y=e.Record({feeRate:e.Float64,token0:y,token1:y,dexName:b,canisterId:I}),W=e.Variant({dft:e.Null,ext:e.Null,icp:e.Null,other:e.Text,cycles:e.Null,ledger:e.Null,icrc1:e.Null,dip20:e.Null,drc20:e.Null});return e.Service({NFTBalance:e.Func([t],[e.Vec(s)],["query"]),NFTDeposit:e.Func([c,r,e.Opt(e.Vec(e.Nat8))],[],[]),NFTStaked:e.Func([t],[e.Vec(u)],["query"]),NFTStakedList:e.Func([],[e.Vec(e.Tuple(d,e.Vec(u)))],["query"]),NFTUnStake:e.Func([d,e.Text],[],[]),NFTWithdraw:e.Func([e.Opt(r),e.Opt(e.Vec(e.Nat8))],[],[]),NFTs:e.Func([],[e.Vec(e.Tuple(d,e.Vec(s)))],["query"]),addTokenMetadata:e.Func([e.Principal,e.Vec(e.Tuple(e.Text,e.Text))],[e.Vec(e.Tuple(e.Text,e.Text))],[]),autoPutPairToMarket:e.Func([p],[],[]),config:e.Func([h,e.Opt(e.Principal),e.Opt(e.Principal)],[e.Bool],[]),debugPairs:e.Func([],[e.Vec(e.Record({dev:e.Principal,pair:e.Principal}))],["query"]),debug_fetchCompData:e.Func([e.Opt(e.Nat)],[],[]),debug_updateLiquidity:e.Func([],[],[]),delDex:e.Func([e.Principal],[],[]),drc207:e.Func([],[g],["query"]),dropListingReferrer:e.Func([e.Principal],[],[]),getConfig:e.Func([],[f],["query"]),getCurrencies:e.Func([],[e.Vec(x)],["query"]),getDAO:e.Func([],[e.Record({DAO:e.Principal,DAO_BOARD:e.Principal})],["query"]),getDexCompetition:e.Func([e.Nat],[e.Opt(_)],["query"]),getDexCompetitionRound:e.Func([],[e.Nat],["query"]),getDexCompetitionTrader:e.Func([e.Nat,t],[e.Opt(e.Vec(w))],["query"]),getDexCompetitionTraders:e.Func([e.Nat,e.Opt(e.Nat),e.Opt(e.Nat)],[O],["query"]),getDexCompetitions:e.Func([e.Opt(C),e.Opt(e.Nat),e.Opt(e.Nat)],[R],["query"]),getDexList:e.Func([],[e.Vec(e.Tuple(C,e.Principal))],["query"]),getPairListingReferrers:e.Func([p],[e.Bool,e.Vec(e.Tuple(A,l,r))],["query"]),getPairs:e.Func([e.Opt(C),e.Opt(e.Nat),e.Opt(e.Nat)],[D],["query"]),getPairs2:e.Func([e.Opt(C),e.Opt(e.Principal),e.Opt(e.Nat),e.Opt(e.Nat)],[U],["query"]),getPairsByMarket:e.Func([e.Text,e.Opt(C),e.Opt(e.Nat),e.Opt(e.Nat)],[D],["query"]),getPairsByToken:e.Func([e.Principal,e.Opt(C)],[e.Vec(e.Tuple(p,B))],["query"]),getTokenMetadata:e.Func([e.Principal],[e.Vec(e.Tuple(e.Text,e.Text))],["query"]),getTokens:e.Func([e.Opt(C)],[e.Vec(x)],["query"]),listingReferrer:e.Func([e.Principal],[e.Bool,e.Bool],["query"]),propose:e.Func([p],[],[]),pushCompetitionByDex:e.Func([e.Opt(e.Nat),e.Text,e.Text,l,l,e.Vec(e.Tuple(C,e.Principal,e.Variant({token0:e.Null,token1:e.Null})))],[e.Nat],[]),put:e.Func([Y,e.Nat],[],[]),putByDex:e.Func([x,x,e.Principal],[],[]),putCurrency:e.Func([x],[],[]),putPairToMarket:e.Func([e.Text,p],[],[]),registerDexCompetition:e.Func([e.Opt(e.Vec(e.Nat8))],[e.Bool],[]),remove:e.Func([e.Principal],[],[]),removeByDex:e.Func([e.Principal],[],[]),removeCurrency:e.Func([e.Principal],[],[]),removePairFromMarket:e.Func([e.Opt(e.Text),p],[],[]),removeTokenMetadata:e.Func([e.Principal,e.Opt(e.Text)],[e.Vec(e.Tuple(e.Text,e.Text))],[]),route:e.Func([e.Principal,e.Principal,e.Opt(C)],[e.Vec(e.Tuple(p,B))],["query"]),setDex:e.Func([C,e.Principal],[],[]),setListingReferrerByNft:e.Func([e.Text,e.Text],[],[]),setScore:e.Func([e.Principal,e.Nat],[],[]),sync:e.Func([],[],[]),sys_burn:e.Func([e.Nat],[],[]),sys_withdraw:e.Func([e.Principal,W,e.Principal,e.Nat],[],[]),timerStart:e.Func([e.Nat],[],[]),timerStop:e.Func([],[],[]),verifyListingReferrer:e.Func([e.Principal,e.Text,e.Bool],[],[]),version:e.Func([],[e.Text],["query"]),wallet_receive:e.Func([],[],[])})},d=n(94722),p=n(73003),h=function(e,t,n,a){void 0===a&&(a="https://ic0.app/");var r=new d.HttpAgent({host:a,identity:e});return"aaaaa-aa"===n?d.Actor.createActor(t,(0,i.Cl)({agent:r,canisterId:n},{callTransform:g,queryTransform:g})):d.Actor.createActor(t,{agent:r,canisterId:n})};function g(e,t,n){var a=t[0],r=p.p.fromText("aaaaa-aa");return a&&"object"===typeof a&&a.canister_id&&(r=p.p.from(a.canister_id)),{effectiveCanisterId:r}}var f="pwokq-miaaa-aaaak-act6a-cai";f="i2ied-uqaaa-aaaar-qaaza-cai";var m=function(){function e(){var e=this;this.getPairs=function(t,n,a){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a=[]),(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return e=h(null,u,f),[4,e.getPairs(t,n,a)];case 1:return[2,r.sent()]}}))}))}}return e}(),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-select",{directives:[{name:"show",rawName:"v-show",value:"ICDex"===e.exchangeName,expression:"exchangeName === 'ICDex'"}],staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:e.selectedPairDisabled,"show-search":"","filter-option":e.filterPair,placeholder:"Search "+e.type+" exchange pair",notFoundContent:"Not Found"},on:{change:e.changePair},model:{value:e.selectedPair.id,callback:function(t){e.$set(e.selectedPair,"id",t)},expression:"selectedPair.id"}},e._l(e.ICDexPairs,(function(t){return n("a-select-option",{key:t[0].toString()},[n("span",{staticClass:"base-color-w"},[e._v(" "+e._s(t[1].pair.token0[1])+"/"+e._s(t[1].pair.token1[1])+" ")])])})),1),n("a-select",{directives:[{name:"show",rawName:"v-show",value:"Binance"===e.exchangeName,expression:"exchangeName === 'Binance'"}],staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:e.selectedPairDisabled,"show-search":"","filter-option":!1,loading:e.loading,placeholder:"Search "+e.type+" exchange pair",notFoundContent:"Not Found"},on:{search:e.handleSearch,popupScroll:e.handleScroll,change:e.changePair},model:{value:e.selectedPair.id,callback:function(t){e.$set(e.selectedPair,"id",t)},expression:"selectedPair.id"}},[e._l(e.displayedOptions,(function(t){return n("a-select-option",{key:t.symbol},[n("span",{staticClass:"base-color-w"},[e._v(" "+e._s(t.symbol)+" ")])])})),e.hasMore?n("a-select-option",{key:"loading",attrs:{disabled:""}},[n("a-spin",{attrs:{size:"small"}})],1):e._e()],2)],1)},x=[],b=({IDL:e})=>{const t=e.Rec(),n=e.Rec(),a=e.Nat,r=e.Int,i=e.Record({IDOSupplies:e.Vec(e.Record({supply:a,price:e.Nat})),IDOWhitelistEnabled:e.Bool,IDOOpeningTime:r,IDOTotalSupply:e.Record({IDOSupply:a,percentageOfTotal:e.Float64}),IDOEnabled:e.Bool,IDOLimitPerAccount:a,IDOClosingTime:r}),o=e.Record({threshold:e.Float64,pairs:e.Vec(e.Record({pair:e.Principal,token1ToUsdRatio:e.Float64}))}),c=e.Text,s=e.Record({updatedTime:r,used:a,limit:a,historyVol:e.Float64}),l=e.Vec(e.Nat8),u=e.Nat,d=e.Record({token0:e.Record({locked:u,available:u}),token1:e.Record({locked:u,available:u})}),p=e.Nat,h=e.Record({enPoolMode:e.Bool,modeSwitchHistory:e.Vec(e.Tuple(p,p)),start:e.Opt(p),enKeepingBalance:e.Bool}),g=e.Variant({icdex_keepingBalances:e.Null,timeSortedTxids:e.Null,icdex_failedOrders:e.Null,icdex_makers:e.Null,icdex_stOrderTxids:e.Null,icdex_poolBalance:e.Null,drc205Data:e.Variant({All:e.Null,Base:e.Null}),icdex_vols:e.Null,icdex_accountSettings:e.Null,icdex_pendingOrders:e.Null,icdex_userStopLossOrderList:e.Null,otherData:e.Null,icdex_dip20Balances:e.Null,clearingTxids:e.Null,icdex_nonces:e.Null,icdex_userProOrderList:e.Null,icdex_sto:e.Null,icdex_klines2:e.Null,sagaData:e.Variant({All:e.Null,Base:e.Null}),icdex_orders:e.Null,icdex_orderBook:e.Null,traderReferrers:e.Null,icdex_RPCAccounts:e.Null,traderReferrerTemps:e.Null,ambassadors:e.Null,icdex_stOrderRecords:e.Null,ictc_admins:e.Null}),f=e.Vec(e.Nat8),m=e.Record({token0:e.Record({locked:u,available:u}),token1:e.Record({locked:u,available:u})}),v=e.Vec(e.Nat8),x=e.Variant({Todo:e.Null,Closed:e.Null,Cancelled:e.Null,Pending:e.Null}),b=e.Nat,y=e.Vec(e.Nat8),I=e.Variant({FAK:e.Null,FOK:e.Null,LMT:e.Null,MKT:e.Null}),N=e.Variant({DebitRecord:e.Nat,CreditRecord:e.Nat,NoChange:e.Null}),_=e.Record({time:r,token0Value:N,counterparty:y,token1Value:N}),P=e.Vec(e.Nat8),k=e.Nat,E=e.Nat,T=e.Record({quantity:e.Variant({Buy:e.Tuple(k,u),Sell:k}),price:E}),w=e.Record({fee:e.Record({fee0:e.Int,fee1:e.Int}),gas:e.Record({gas0:e.Nat,gas1:e.Nat}),status:x,toids:e.Vec(b),data:e.Opt(e.Vec(e.Nat8)),time:r,txid:y,icrc1Account:e.Opt(e.Record({owner:e.Principal,subaccount:e.Opt(e.Vec(e.Nat8))})),orderType:I,filled:e.Vec(_),expiration:r,nonce:e.Nat,account:P,remaining:T,index:e.Nat,orderPrice:T,refund:e.Tuple(e.Nat,e.Nat,e.Nat)}),S=e.Vec(e.Nat8),O=e.Nat,C=e.Nat,R=e.Record({MAX_STORAGE_TRIES:e.Nat,EN_DEBUG:e.Bool,MAX_CACHE_NUMBER_PER:e.Nat,MAX_CACHE_TIME:e.Nat}),A=e.Variant({Failed:e.Null,Cancelled:e.Null,PartiallyCompletedAndCancelled:e.Null,Completed:e.Null,Pending:e.Null}),F=e.Nat,V=e.Variant({Burn:F,Mint:F,NoChange:e.Null}),B=e.Variant({DebitRecord:e.Nat,CreditRecord:e.Nat,NoChange:e.Null}),D=e.Vec(e.Nat8),M=e.Vec(e.Nat8),q=e.Variant({Icp:e.Null,Token:e.Principal,Cycles:e.Null}),H=e.Nat,L=e.Variant({AddLiquidity:e.Null,Swap:e.Null,Claim:e.Null,RemoveLiquidity:e.Null}),$=e.Vec(e.Nat8),j=e.Principal,J=e.Record({fee:e.Record({token0Fee:e.Int,token1Fee:e.Int}),status:A,shares:V,msgCaller:e.Opt(e.Principal),order:e.Record({token0Value:e.Opt(B),token1Value:e.Opt(B)}),data:e.Opt(D),time:r,txid:M,orderMode:e.Variant({AMM:e.Null,OrderBook:e.Null}),orderType:e.Opt(e.Variant({FAK:e.Null,FOK:e.Null,LMT:e.Null,MKT:e.Null})),filled:e.Record({token0Value:B,token1Value:B}),token0:q,token1:q,nonce:H,operation:L,account:$,details:e.Vec(e.Record({time:r,token0Value:B,counterparty:M,token1Value:B})),caller:$,index:e.Nat,cyclesWallet:e.Opt(j)}),U=e.Record({accountLastTxns:e.Vec(e.Tuple(f,e.Tuple(e.Vec(v),e.Vec(v)))),setting:R,globalLastTxns:e.Tuple(e.Vec(v),e.Vec(v)),storagePool:e.Vec(e.Tuple(v,J,e.Nat)),globalTxns:e.Tuple(e.Vec(e.Tuple(v,r)),e.Vec(e.Tuple(v,r))),txnRecords:e.Vec(e.Tuple(v,J))}),Y=e.Record({value0:u,value1:u}),W=e.Record({enPoolMode:e.Bool,modeSwitchHistory:e.Vec(e.Tuple(p,p)),start:e.Opt(p),enKeepingBalance:e.Bool}),K=e.Record({value0:u,value1:u}),Q=e.Nat,G=e.Record({updateTime:Q,token1TimeWeighted:e.Nat,token0TimeWeighted:e.Nat}),z=e.Nat,X=e.Nat,Z=e.Nat,ee=e.Record({value0:e.Nat,value1:e.Nat}),te=e.Nat,ne=e.Record({kid:e.Nat,low:e.Nat,vol:ee,high:e.Nat,close:e.Nat,open:e.Nat,updatedTs:te}),ae=e.Nat,re=e.Variant({Done:e.Null,Todo:e.Null,Doing:e.Null,Recovered:e.Null,Compensating:e.Null,Blocking:e.Null}),ie=e.Variant({Error:e.Null,Done:e.Null,Todo:e.Null,Doing:e.Null,Unknown:e.Null}),oe=e.Nat,ce=e.Nat,se=e.Vec(e.Nat8),le=e.Vec(e.Nat8),ue=e.Record({owner:e.Principal,subaccount:e.Opt(le)}),de=e.Nat64,pe=e.Record({to:ue,fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(le),created_at_time:e.Opt(de),amount:e.Nat}),he=e.Variant({Stopped:e.Null,Running:e.Null,Deleted:e.Null}),ge=e.Nat,fe=e.Vec(e.Nat8),me=e.Text,ve=e.Nat,xe=e.Nat,be=e.Vec(e.Nat8),ye=e.Vec(e.Nat8),Ie=e.Text,Ne=e.Text,_e=e.Text,Pe=e.Variant({AutoFill:e.Null,ManualFill:e.Vec(e.Nat8)}),ke=e.Nat32,Ee=e.Text,Te=e.Variant({fallback:e.Null,send:e.Nat,sendAll:e.Null}),we=e.Vec(e.Nat8),Se=e.Record({owner:e.Principal,subaccount:e.Opt(we)}),Oe=e.Nat64,Ce=e.Record({to:Se,fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(we),created_at_time:e.Opt(Oe),amount:e.Nat}),Re=e.Variant({__block:e.Null,ICDex:e.Variant({withdraw:e.Tuple(e.Opt(u),e.Opt(u),e.Opt(se)),depositFallback:e.Opt(se),deposit:e.Tuple(e.Variant({token0:e.Null,token1:e.Null}),e.Nat,e.Opt(se))}),ICRC1:e.Variant({icrc1_balance_of:ue,icrc1_transfer:pe}),This:e.Variant({updatePoolLocalBalance:e.Tuple(e.Opt(e.Variant({add:e.Nat,set:e.Nat,sub:e.Nat})),e.Opt(e.Variant({add:e.Nat,set:e.Nat,sub:e.Nat}))),batchTransfer:e.Vec(e.Tuple(e.Variant({add:e.Null,sub:e.Null}),e.Vec(e.Nat8),e.Variant({token0:e.Null,token1:e.Null}),e.Variant({locked:e.Nat,available:e.Nat}))),dexDepositFallback:e.Tuple(e.Principal,e.Opt(e.Vec(e.Nat8)))}),StratOrder:e.Variant({sto_updateProOrder:e.Tuple(O,e.Variant({GridOrder:e.Record({status:e.Opt(he),lowerLimit:e.Opt(X),upperLimit:e.Opt(X),spread:e.Opt(e.Variant({Geom:ge,Arith:X})),amount:e.Opt(e.Variant({Percent:e.Opt(ge),Token0:e.Nat,Token1:e.Nat}))})}),e.Opt(fe)),sto_createProOrder:e.Tuple(e.Variant({GridOrder:e.Record({lowerLimit:X,upperLimit:X,spread:e.Variant({Geom:ge,Arith:X}),amount:e.Variant({Percent:e.Opt(ge),Token0:e.Nat,Token1:e.Nat})})}),e.Opt(fe)),sto_cancelPendingOrders:e.Tuple(O,e.Opt(fe))}),DRC20:e.Variant({transferBatch:e.Tuple(e.Vec(me),e.Vec(ve),e.Opt(xe),e.Opt(be),e.Opt(ye)),transferFrom:e.Tuple(Ie,me,ve,e.Opt(xe),e.Opt(be),e.Opt(ye)),approve:e.Tuple(Ne,ve,e.Opt(xe),e.Opt(be),e.Opt(ye)),balanceOf:_e,txnRecord:Pe,lockTransfer:e.Tuple(me,ve,ke,e.Opt(Ee),e.Opt(xe),e.Opt(be),e.Opt(ye)),transfer:e.Tuple(me,ve,e.Opt(xe),e.Opt(be),e.Opt(ye)),dropAccount:e.Opt(be),executeTransfer:e.Tuple(Pe,Te,e.Opt(me),e.Opt(xe),e.Opt(be),e.Opt(ye)),lockTransferFrom:e.Tuple(Ie,me,ve,ke,e.Opt(Ee),e.Opt(xe),e.Opt(be),e.Opt(ye))}),ICRC1New:e.Variant({icrc1_balance_of:Se,icrc1_transfer:Ce}),__skip:e.Null}),Ae=e.Nat,Fe=e.Principal,Ve=e.Record({preTtid:e.Vec(oe),data:e.Opt(e.Vec(e.Nat8)),time:r,toid:e.Opt(ce),callType:Re,cycles:e.Nat,recallInterval:e.Int,attemptsMax:Ae,callee:Fe,forTtid:e.Opt(oe)}),Be=e.Record({preTtid:e.Vec(oe),data:e.Opt(e.Vec(e.Nat8)),time:r,toid:e.Opt(ce),callType:Re,cycles:e.Nat,recallInterval:e.Int,attemptsMax:Ae,callee:Fe,forTtid:e.Opt(oe)}),De=e.Nat,Me=e.Record({status:ie,comp:e.Opt(Ve),task:Be,ttid:De});n.fill(e.Opt(e.Tuple(Me,n)));const qe=e.Nat,He=e.Record({status:ie,comp:Ve,tcid:qe,forTtid:De});t.fill(e.Opt(e.Tuple(He,t)));const Le=e.Variant({Backward:e.Null,Forward:e.Null}),$e=e.Record({status:re,tasks:n,callbackStatus:e.Opt(ie),data:e.Opt(e.Vec(e.Nat8)),name:e.Text,comps:t,time:r,compStrategy:Le,allowPushing:e.Variant({Opening:e.Null,Closed:e.Null})}),je=e.Nat,Je=e.Record({preTtid:e.Vec(oe),data:e.Opt(e.Vec(e.Nat8)),time:r,toid:e.Opt(ce),callType:Re,cycles:e.Nat,recallInterval:e.Int,attemptsMax:Ae,callee:Fe,forTtid:e.Opt(oe)}),Ue=e.Principal,Ye=e.Record({continuousFailure:e.Nat,successCount:e.Nat,failureCount:e.Nat}),We=e.Variant({Error:e.Null,Done:e.Null,Todo:e.Null,Doing:e.Null,Unknown:e.Null}),Ke=e.Nat64,Qe=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,BadBurn:e.Record({min_burn_amount:e.Nat}),Duplicate:e.Record({duplicate_of:e.Nat}),BadFee:e.Record({expected_fee:e.Nat}),CreatedInFuture:e.Null,TooOld:e.Record({allowed_window_nanos:Ke}),InsufficientFunds:e.Record({balance:e.Nat})}),Ge=e.Vec(e.Nat8),ze=e.Variant({ok:Ge,err:e.Record({code:e.Variant({NonceError:e.Null,InsufficientGas:e.Null,InsufficientAllowance:e.Null,UndefinedError:e.Null,InsufficientBalance:e.Null,NoLockedTransfer:e.Null,DuplicateExecutedTransfer:e.Null,LockedTransferExpired:e.Null}),message:e.Text})}),Xe=e.Variant({token:e.Nat,cycles:e.Nat,noFee:e.Null}),Ze=e.Vec(e.Nat8),et=e.Int,tt=e.Variant({approve:e.Record({allowance:e.Nat}),lockTransfer:e.Record({locked:e.Nat,expiration:et,decider:Ze}),transfer:e.Record({action:e.Variant({burn:e.Null,mint:e.Null,send:e.Null})}),executeTransfer:e.Record({fallback:e.Nat,lockedTxid:Ge})}),nt=e.Record({to:Ze,value:e.Nat,data:e.Opt(e.Vec(e.Nat8)),from:Ze,operation:tt}),at=e.Record({gas:Xe,msgCaller:e.Opt(e.Principal),transaction:nt,txid:Ge,nonce:e.Nat,timestamp:et,caller:Ze,index:e.Nat}),rt=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,BadBurn:e.Record({min_burn_amount:e.Nat}),Duplicate:e.Record({duplicate_of:e.Nat}),BadFee:e.Record({expected_fee:e.Nat}),CreatedInFuture:e.Record({ledger_time:e.Nat64}),TooOld:e.Null,InsufficientFunds:e.Record({balance:e.Nat})}),it=e.Variant({__block:e.Null,ICDex:e.Variant({withdraw:e.Tuple(e.Nat,e.Nat),depositFallback:e.Tuple(e.Nat,e.Nat),deposit:e.Null}),ICRC1:e.Variant({icrc1_balance_of:e.Nat,icrc1_transfer:e.Variant({Ok:e.Nat,Err:Qe})}),This:e.Variant({updatePoolLocalBalance:e.Record({ts:e.Nat,balance0:e.Nat,balance1:e.Nat}),batchTransfer:e.Vec(e.Record({token0:e.Record({locked:e.Nat,available:e.Nat}),token1:e.Record({locked:e.Nat,available:e.Nat})})),dexDepositFallback:e.Tuple(e.Nat,e.Nat)}),StratOrder:e.Variant({sto_updateProOrder:O,sto_createProOrder:O,sto_cancelPendingOrders:e.Null}),DRC20:e.Variant({transferBatch:e.Vec(ze),transferFrom:ze,approve:ze,balanceOf:ve,txnRecord:e.Opt(at),lockTransfer:ze,transfer:ze,dropAccount:e.Null,executeTransfer:ze,lockTransferFrom:ze}),ICRC1New:e.Variant({icrc1_balance_of:e.Nat,icrc1_transfer:e.Variant({Ok:e.Nat,Err:rt})}),__skip:e.Null}),ot=e.Variant({canister_error:e.Null,call_error:e.Record({err_code:e.Nat32}),system_transient:e.Null,future:e.Nat32,canister_reject:e.Null,destination_invalid:e.Null,system_fatal:e.Null}),ct=e.Record({code:ot,message:e.Text}),st=e.Tuple(We,e.Opt(it),e.Opt(ct)),lt=e.Record({result:e.Opt(st),time:r,ttid:oe,callee:e.Opt(Fe)}),ut=e.Variant({Error:e.Null,Done:e.Null,Todo:e.Null,Doing:e.Null,Unknown:e.Null}),dt=e.Record({preTtid:e.Vec(oe),data:e.Opt(e.Vec(e.Nat8)),time:r,toid:e.Opt(ce),callType:Re,cycles:e.Nat,recallInterval:e.Int,attemptsMax:Ae,callee:Fe,forTtid:e.Opt(oe)}),pt=e.Record({result:st,callbackStatus:e.Opt(ut),task:dt,time:r,toid:e.Opt(ce),ttid:oe,attempts:Ae,txHash:e.Vec(e.Nat8)}),ht=e.Record({orders:e.Vec(e.Tuple(ae,$e)),autoClearTimeout:e.Int,aliveOrders:e.Vec(e.Tuple(ae,r)),index:e.Nat,actuator:e.Record({tasks:e.Tuple(e.Vec(e.Tuple(je,Je)),e.Vec(e.Tuple(je,Je))),callees:e.Vec(e.Tuple(Ue,Ye)),errorLogs:e.Vec(e.Tuple(e.Nat,lt)),taskLogs:e.Vec(e.Tuple(je,pt)),index:e.Nat,firstErrIndex:e.Nat,errIndex:e.Nat,firstIndex:e.Nat}),taskEvents:e.Vec(e.Tuple(ae,e.Vec(je))),firstIndex:e.Nat}),gt=e.Tuple(e.Text,e.Nat,Y),ft=e.Nat,mt=e.Variant({Buy:e.Null,Sell:e.Null}),vt=e.Record({endTime:ft,startingTime:ft,order:e.Record({priceLimit:X,priceSpread:X,side:mt}),totalLimit:e.Variant({Token0:e.Nat,Token1:e.Nat}),amountPerTrigger:e.Variant({Token0:e.Nat,Token1:e.Nat}),triggerInterval:e.Nat}),xt=e.Record({setting:vt,lastTime:e.Opt(ft)}),bt=e.Record({endTime:ft,startingTime:ft,order:e.Record({priceLimit:X,priceSpread:X,side:mt}),totalLimit:e.Variant({Token0:e.Nat,Token1:e.Nat}),amountPerTrigger:e.Variant({Token0:e.Nat,Token1:e.Nat}),triggerVol:e.Variant({Geom:ge,Arith:e.Nat})}),yt=e.Record({setting:bt,lastVol:e.Opt(e.Nat)}),It=e.Record({endTime:ft,startingTime:ft,order:e.Record({side:mt,price:X}),totalLimit:e.Variant({Token0:e.Nat,Token1:e.Nat}),amountPerTrigger:e.Variant({Token0:e.Nat,Token1:e.Nat})}),Nt=e.Record({setting:It,lastTxid:e.Opt(e.Vec(e.Nat8))}),_t=e.Variant({Buy:e.Null,Sell:e.Null}),Pt=e.Record({order:e.Record({side:_t,quantity:e.Nat,price:X}),triggerPrice:X}),kt=e.Record({order:e.Record({side:_t,quantity:e.Nat,price:X}),triggerPrice:X}),Et=e.Record({triggeredOrder:e.Opt(Pt),condition:kt}),Tt=e.Record({ppmFactor:e.Opt(e.Nat),lowerLimit:X,upperLimit:X,gridCountPerSide:e.Nat,spread:e.Variant({Geom:ge,Arith:X}),amount:e.Variant({Percent:e.Opt(ge),Token0:e.Nat,Token1:e.Nat}),initPrice:X}),wt=e.Nat,St=e.Record({buy:e.Vec(X),sell:e.Vec(X),midPrice:e.Opt(X)}),Ot=e.Record({setting:Tt,level1Filled:e.Opt(e.Record({buy1:wt,sell1:wt})),filter:e.Opt(e.Record({gridTop:X,gridBottom:X,buyingBlankLocked:e.Vec(e.Tuple(X,X)),sellingBlankLocked:e.Vec(e.Tuple(X,X))})),gridPrices:St}),Ct=e.Variant({TWAP:xt,VWAP:yt,IcebergOrder:Nt,StopLossOrder:Et,GridOrder:Ot}),Rt=e.Record({owner:e.Principal,subaccount:e.Opt(e.Vec(e.Nat8))}),At=e.Record({totalOutAmount:e.Record({token0:wt,token1:wt}),orderCount:e.Nat,totalInAmount:e.Record({token0:wt,token1:wt}),errorCount:e.Nat}),Ft=e.Variant({TWAP:e.Null,VWAP:e.Null,IcebergOrder:e.Null,StopLossOrder:e.Null,GridOrder:e.Null}),Vt=e.Record({status:he,pendingOrders:e.Record({buy:e.Vec(e.Tuple(e.Opt(S),X,e.Nat)),sell:e.Vec(e.Tuple(e.Opt(S),X,e.Nat))}),strategy:Ct,soid:O,initTime:ft,icrc1Account:Rt,stats:At,triggerTime:ft,stType:Ft}),Bt=e.Variant({icdex_keepingBalances:e.Vec(e.Tuple(f,m)),timeSortedTxids:e.Tuple(e.Vec(e.Tuple(v,r)),e.Vec(e.Tuple(v,r))),icdex_failedOrders:e.Vec(e.Tuple(v,w)),icdex_makers:e.Vec(e.Tuple(f,e.Tuple(e.Nat,e.Principal))),icdex_stOrderTxids:e.Vec(e.Tuple(S,O)),icdex_poolBalance:e.Record({token0:C,token1:C}),drc205Data:U,icdex_vols:e.Vec(e.Tuple(f,Y)),icdex_accountSettings:e.Vec(e.Tuple(f,W)),icdex_pendingOrders:e.Vec(e.Tuple(f,e.Vec(v))),icdex_userStopLossOrderList:e.Vec(e.Tuple(f,e.Vec(O))),otherData:e.Record({icdex_totalFee:K,icdex_totalVol:Y,icdex_index:e.Nat,icdex_lastPrice:T,icdex_priceWeighted:G,taDescription:e.Text}),icdex_dip20Balances:e.Vec(e.Tuple(f,e.Tuple(e.Principal,e.Nat))),clearingTxids:e.Vec(v),icdex_nonces:e.Vec(e.Tuple(f,z)),icdex_userProOrderList:e.Vec(e.Tuple(f,e.Vec(O))),icdex_sto:e.Record({icdex_soid:e.Nat,icdex_activeStopLossOrderList:e.Record({buy:e.Vec(e.Tuple(O,X)),sell:e.Vec(e.Tuple(O,X))}),icdex_activeProOrderList:e.Vec(O)}),icdex_klines2:e.Vec(e.Tuple(Z,e.Tuple(e.Vec(ne),e.Vec(ne)))),sagaData:ht,icdex_orders:e.Vec(e.Tuple(v,w)),icdex_orderBook:e.Record({ask:e.Vec(e.Tuple(v,T)),bid:e.Vec(e.Tuple(v,T))}),traderReferrers:e.Vec(e.Tuple(f,f)),icdex_RPCAccounts:e.Vec(e.Tuple(e.Text,e.Vec(e.Record({owner:e.Principal,subaccount:e.Opt(e.Vec(e.Nat8))})))),traderReferrerTemps:e.Vec(e.Tuple(f,e.Tuple(f,e.Text,r))),ambassadors:e.Vec(e.Tuple(f,gt)),icdex_stOrderRecords:e.Vec(e.Tuple(O,Vt)),ictc_admins:e.Vec(e.Principal)}),Dt=e.Nat,Mt=e.Nat,qt=e.Vec(e.Nat8),Ht=e.Record({value0:u,value1:u}),Lt=e.Record({total:e.Nat,data:e.Vec(e.Tuple(qt,e.Record({vol:Ht,count:e.Nat,rate:e.Float64,commission:Ht}))),totalPage:e.Nat}),$t=e.Nat,jt=e.Vec(e.Nat8),Jt=e.Nat,Ut=e.Record({MAX_TPS:e.Opt(e.Nat),ICTC_RUN_INTERVAL:e.Opt(e.Nat),MAKER_BONUS_RATE:e.Opt(e.Nat),MAX_PENDINGS:e.Opt(e.Nat),ORDER_EXPIRATION_DURATION:e.Opt(e.Int),TRADING_FEE:e.Opt(e.Nat),UNIT_SIZE:e.Opt(e.Nat),STORAGE_INTERVAL:e.Opt(e.Nat),ICP_FEE:e.Opt(Jt)}),Yt=e.Nat,Wt=e.Record({owner:e.Principal,subaccount:e.Opt(e.Vec(e.Nat8))}),Kt=e.Record({quantity:e.Variant({Buy:e.Tuple(k,u),Sell:k}),price:E}),Qt=e.Record({MAX_STORAGE_TRIES:e.Opt(e.Nat),EN_DEBUG:e.Opt(e.Bool),MAX_CACHE_NUMBER_PER:e.Opt(e.Nat),MAX_CACHE_TIME:e.Opt(e.Nat)}),Gt=e.Variant({Icp:e.Null,Token:e.Principal,Cycles:e.Null}),zt=e.Variant({dft:e.Null,ext:e.Null,icp:e.Null,other:e.Text,cycles:e.Null,ledger:e.Null,icrc1:e.Null,dip20:e.Null,drc20:e.Null}),Xt=e.Record({feeRate:e.Float64,mmType:e.Variant({AMM:e.Null,OrderBook:e.Null}),token0:e.Tuple(Gt,zt),token1:e.Tuple(Gt,zt),pairName:e.Text,dexName:e.Text,canisterId:e.Principal}),Zt=e.Text,en=e.Record({fee:e.Record({token0Fee:e.Int,token1Fee:e.Int}),status:A,shares:V,msgCaller:e.Opt(e.Principal),order:e.Record({token0Value:e.Opt(B),token1Value:e.Opt(B)}),data:e.Opt(D),time:r,txid:M,orderMode:e.Variant({AMM:e.Null,OrderBook:e.Null}),orderType:e.Opt(e.Variant({FAK:e.Null,FOK:e.Null,LMT:e.Null,MKT:e.Null})),filled:e.Record({token0Value:B,token1Value:B}),token0:q,token1:q,nonce:H,operation:L,account:$,details:e.Vec(e.Record({time:r,token0Value:B,counterparty:M,token1Value:B})),caller:$,index:e.Nat,cyclesWallet:e.Opt(j)}),tn=e.Vec(e.Nat8),nn=e.Record({timer:e.Record({interval_seconds:e.Opt(e.Nat),enable:e.Bool}),monitorable_by_self:e.Bool,monitorable_by_blackhole:e.Record({canister_id:e.Opt(e.Principal),allowed:e.Bool}),cycles_receivable:e.Bool}),an=e.Record({feeRate:e.Float64,feeBalance:K,totalFee:K}),rn=e.Record({MAX_TPS:e.Nat,ICTC_RUN_INTERVAL:e.Nat,MAKER_BONUS_RATE:e.Nat,MAX_PENDINGS:e.Nat,TRADING_FEE:e.Nat,UNIT_SIZE:e.Nat,STORAGE_INTERVAL:e.Nat,ICP_FEE:Jt}),on=e.Text,cn=e.Nat,sn=e.Record({freezeUntil:cn,order:e.Nat,fail:e.Nat,message:e.Text,freezingCount:e.Nat,cancelledTime:cn,cancel:e.Nat,failedTime:cn}),ln=e.Nat,un=e.Variant({__block:e.Null,ICDex:e.Variant({withdraw:e.Tuple(e.Opt(u),e.Opt(u),e.Opt(se)),depositFallback:e.Opt(se),deposit:e.Tuple(e.Variant({token0:e.Null,token1:e.Null}),e.Nat,e.Opt(se))}),ICRC1:e.Variant({icrc1_balance_of:ue,icrc1_transfer:pe}),This:e.Variant({updatePoolLocalBalance:e.Tuple(e.Opt(e.Variant({add:e.Nat,set:e.Nat,sub:e.Nat})),e.Opt(e.Variant({add:e.Nat,set:e.Nat,sub:e.Nat}))),batchTransfer:e.Vec(e.Tuple(e.Variant({add:e.Null,sub:e.Null}),e.Vec(e.Nat8),e.Variant({token0:e.Null,token1:e.Null}),e.Variant({locked:e.Nat,available:e.Nat}))),dexDepositFallback:e.Tuple(e.Principal,e.Opt(e.Vec(e.Nat8)))}),StratOrder:e.Variant({sto_updateProOrder:e.Tuple(O,e.Variant({GridOrder:e.Record({status:e.Opt(he),lowerLimit:e.Opt(X),upperLimit:e.Opt(X),spread:e.Opt(e.Variant({Geom:ge,Arith:X})),amount:e.Opt(e.Variant({Percent:e.Opt(ge),Token0:e.Nat,Token1:e.Nat}))})}),e.Opt(fe)),sto_createProOrder:e.Tuple(e.Variant({GridOrder:e.Record({lowerLimit:X,upperLimit:X,spread:e.Variant({Geom:ge,Arith:X}),amount:e.Variant({Percent:e.Opt(ge),Token0:e.Nat,Token1:e.Nat})})}),e.Opt(fe)),sto_cancelPendingOrders:e.Tuple(O,e.Opt(fe))}),DRC20:e.Variant({transferBatch:e.Tuple(e.Vec(me),e.Vec(ve),e.Opt(xe),e.Opt(be),e.Opt(ye)),transferFrom:e.Tuple(Ie,me,ve,e.Opt(xe),e.Opt(be),e.Opt(ye)),approve:e.Tuple(Ne,ve,e.Opt(xe),e.Opt(be),e.Opt(ye)),balanceOf:_e,txnRecord:Pe,lockTransfer:e.Tuple(me,ve,ke,e.Opt(Ee),e.Opt(xe),e.Opt(be),e.Opt(ye)),transfer:e.Tuple(me,ve,e.Opt(xe),e.Opt(be),e.Opt(ye)),dropAccount:e.Opt(be),executeTransfer:e.Tuple(Pe,Te,e.Opt(me),e.Opt(xe),e.Opt(be),e.Opt(ye)),lockTransferFrom:e.Tuple(Ie,me,ve,ke,e.Opt(Ee),e.Opt(xe),e.Opt(be),e.Opt(ye))}),ICRC1New:e.Variant({icrc1_balance_of:Se,icrc1_transfer:Ce}),__skip:e.Null}),dn=e.Record({status:re,tasks:n,callbackStatus:e.Opt(ie),data:e.Opt(e.Vec(e.Nat8)),name:e.Text,comps:t,time:r,compStrategy:Le,allowPushing:e.Variant({Opening:e.Null,Closed:e.Null})}),pn=e.Text,hn=e.Variant({dft:e.Null,ext:e.Null,icp:e.Null,other:e.Text,cycles:e.Null,ledger:e.Null,icrc1:e.Null,dip20:e.Null,drc20:e.Null}),gn=e.Tuple(e.Principal,pn,hn),fn=e.Nat,mn=e.Record({time:r,token0Value:N,counterparty:y,token1Value:N}),vn=e.Variant({Buy:e.Null,Sell:e.Null}),xn=e.Record({quantity:e.Nat,price:e.Nat}),bn=e.Record({vol:Y,shares:u,shareWeighted:e.Record({updateTime:Q,shareTimeWeighted:e.Nat}),unitValue:e.Tuple(u,u),value0:u,value1:u,priceWeighted:G,swapCount:e.Nat64}),yn=e.Record({vol:Y,shares:u,shareWeighted:e.Record({updateTime:Q,shareTimeWeighted:e.Nat}),unitValue:e.Tuple(u,u),orderCount:e.Nat64,token0:u,token1:u,priceWeighted:G,price:e.Nat,userCount:e.Nat64,unitSize:e.Nat}),In=e.Record({total:e.Nat,data:e.Vec(e.Tuple(qt,e.Record({vol:Ht,orders:e.Nat,commission:Ht,filledCount:e.Nat}))),totalPage:e.Nat}),Nn=e.Record({fee:e.Record({fee0:e.Int,fee1:e.Int}),gas:e.Record({gas0:e.Nat,gas1:e.Nat}),status:x,toids:e.Vec(b),data:e.Opt(e.Vec(e.Nat8)),time:r,txid:y,icrc1Account:e.Opt(e.Record({owner:e.Principal,subaccount:e.Opt(e.Vec(e.Nat8))})),orderType:I,filled:e.Vec(_),expiration:r,nonce:e.Nat,account:P,remaining:T,index:e.Nat,orderPrice:T,refund:e.Tuple(e.Nat,e.Nat,e.Nat)}),_n=e.Record({total:e.Nat,data:e.Vec(e.Tuple(jt,Nn)),totalPage:e.Nat}),Pn=e.Nat,kn=e.Record({fee:e.Record({token0Fee:e.Int,token1Fee:e.Int}),status:A,shares:V,msgCaller:e.Opt(e.Principal),order:e.Record({token0Value:e.Opt(B),token1Value:e.Opt(B)}),data:e.Opt(D),time:r,txid:M,orderMode:e.Variant({AMM:e.Null,OrderBook:e.Null}),orderType:e.Opt(e.Variant({FAK:e.Null,FOK:e.Null,LMT:e.Null,MKT:e.Null})),filled:e.Record({token0Value:B,token1Value:B}),token0:q,token1:q,nonce:H,operation:L,account:$,details:e.Vec(e.Record({time:r,token0Value:B,counterparty:M,token1Value:B})),caller:$,index:e.Nat,cyclesWallet:e.Opt(j)}),En=e.Variant({Failed:w,None:e.Null,Completed:kn,Pending:w}),Tn=e.Record({endTime:ft,startingTime:ft,order:e.Record({priceLimit:X,priceSpread:X,side:mt}),totalLimit:e.Variant({Token0:e.Nat,Token1:e.Nat}),amountPerTrigger:e.Variant({Token0:e.Nat,Token1:e.Nat}),triggerInterval:e.Nat}),wn=e.Record({endTime:ft,startingTime:ft,order:e.Record({priceLimit:X,priceSpread:X,side:mt}),totalLimit:e.Variant({Token0:e.Nat,Token1:e.Nat}),amountPerTrigger:e.Variant({Token0:e.Nat,Token1:e.Nat}),triggerVol:e.Variant({Geom:ge,Arith:e.Nat})}),Sn=e.Record({endTime:ft,startingTime:ft,order:e.Record({side:mt,price:X}),totalLimit:e.Variant({Token0:e.Nat,Token1:e.Nat}),amountPerTrigger:e.Variant({Token0:e.Nat,Token1:e.Nat})}),On=e.Record({lowerLimit:X,upperLimit:X,spread:e.Variant({Geom:ge,Arith:X}),amount:e.Variant({Percent:e.Opt(ge),Token0:e.Nat,Token1:e.Nat})}),Cn=e.Record({status:he,pendingOrders:e.Record({buy:e.Vec(e.Tuple(e.Opt(S),X,e.Nat)),sell:e.Vec(e.Tuple(e.Opt(S),X,e.Nat))}),strategy:Ct,soid:O,initTime:ft,icrc1Account:Rt,stats:At,triggerTime:ft,stType:Ft}),Rn=e.Record({total:e.Nat,data:e.Vec(e.Tuple(Yt,Cn)),totalPage:e.Nat}),An=e.Record({gridMaxPerSide:e.Nat,stopLossCountMax:e.Nat,poFee1:e.Nat,poFee2:e.Float64,proCountMax:e.Nat,sloFee1:e.Nat,sloFee2:e.Float64}),Fn=e.Record({total:e.Nat,data:e.Vec(e.Tuple(jt,Yt)),totalPage:e.Nat}),Vn=e.Variant({Stopped:e.Null,Running:e.Null,Deleted:e.Null}),Bn=e.Nat,Dn=e.Variant({DisabledTrading:e.Null,ReadOnly:e.Null,ClosingOnly:e.Null,GeneralTrading:e.Null}),Mn=e.Variant({FAK:e.Null,FOK:e.Null,LMT:e.Null,MKT:e.Null}),qn=e.Int,Hn=e.Vec(e.Nat8),Ln=e.Variant({ok:e.Record({status:x,txid:y,filled:e.Vec(_)}),err:e.Record({code:e.Variant({NonceError:e.Null,InvalidAmount:e.Null,UndefinedError:e.Null,UnacceptableVolatility:e.Null,TransactionBlocking:e.Null,InsufficientBalance:e.Null,TransferException:e.Null}),message:e.Text})}),$n=e.Principal,jn=e.Record({total:e.Nat,data:e.Vec(e.Tuple(qt,Ht)),totalPage:e.Nat});return e.Service({IDO_config:e.Func([i],[],[]),IDO_getConfig:e.Func([],[e.Opt(e.Principal),i,e.Opt(o)],["query"]),IDO_qualification:e.Func([e.Opt(c)],[e.Vec(e.Tuple(c,s))],["query"]),IDO_removeWhitelist:e.Func([e.Vec(c)],[],[]),IDO_setFunder:e.Func([e.Opt(e.Principal),e.Opt(o)],[],[]),IDO_setWhitelist:e.Func([e.Vec(e.Tuple(c,a))],[],[]),IDO_updateQualification:e.Func([e.Opt(l)],[e.Opt(s)],[]),accountBalance:e.Func([c],[d],["query"]),accountConfig:e.Func([e.Variant({PoolMode:e.Null,TunnelMode:e.Null}),e.Bool,e.Opt(l)],[],[]),accountSetting:e.Func([c],[h],["query"]),backup:e.Func([g],[Bt],[]),brokerList:e.Func([e.Opt(Dt),e.Opt(Mt)],[Lt],["query"]),cancel:e.Func([$t,e.Opt(l)],[],[]),cancelAll:e.Func([e.Variant({self_sa:e.Opt(l),management:e.Opt(qt)}),e.Opt(mt)],[],[]),cancelByTxid:e.Func([jt,e.Opt(l)],[],[]),checkPoolBalance:e.Func([],[e.Opt(e.Bool),e.Record({result:e.Bool,total:e.Record({token0:a,token1:a}),pool:e.Record({token0:a,token1:a})})],[]),clearAccountHealth:e.Func([],[],[]),clearAccountSetting:e.Func([],[],[]),clearFailedOrders:e.Func([],[],[]),clearNonCoreData:e.Func([],[],[]),config:e.Func([Ut],[e.Bool],[]),count:e.Func([e.Opt(c)],[e.Nat],["query"]),dataSize:e.Func([],[e.Record({icdex_keepingBalances:e.Nat,timeSortedTxids:e.Nat,accountHealth:e.Nat,icdex_failedOrders:e.Nat,icdex_stOrderTxids:e.Nat,icdex_vols:e.Nat,icdex_lastVisits:e.Nat,icdex_pendingOrders:e.Nat,fallbacking_txids:e.Nat,icdex_userStopLossOrderList:e.Nat,icdex_activeStopLossOrderList:e.Tuple(e.Nat,e.Nat),clearingTxids:e.Nat,icdex_nonces:e.Nat,icdex_userProOrderList:e.Nat,icdex_orders:e.Nat,icdex_orderBook:e.Tuple(e.Nat,e.Nat),icdex_latestfilled:e.Nat,icdex_activeProOrderList:e.Nat,accountWithdrawToids:e.Nat,icdex_stOrderRecords:e.Nat})],["query"]),debug_gridOrders:e.Func([],[e.Vec(e.Tuple(Yt,Wt,Kt))],[]),deposit:e.Func([e.Variant({token0:e.Null,token1:e.Null}),a,e.Opt(l)],[],[]),depositFallback:e.Func([e.Opt(l)],[a,a],[]),drc205_canisterId:e.Func([],[e.Principal],["query"]),drc205_config:e.Func([Qt],[e.Bool],[]),drc205_dexInfo:e.Func([],[Xt],["query"]),drc205_events:e.Func([e.Opt(Zt)],[e.Vec(en)],["query"]),drc205_events_filter:e.Func([e.Opt(Zt),e.Opt(r),e.Opt(r)],[e.Vec(en),e.Bool],["query"]),drc205_getConfig:e.Func([],[R],["query"]),drc205_pool:e.Func([],[e.Vec(e.Tuple(jt,en,e.Nat))],["query"]),drc205_txn:e.Func([tn],[e.Opt(en)],["query"]),drc205_txn2:e.Func([tn],[e.Opt(en)],[]),drc207:e.Func([],[nn],["query"]),fallback:e.Func([$t,e.Opt(l)],[e.Bool],[]),fallbackByTxid:e.Func([jt,e.Opt(l)],[e.Bool],[]),fee:e.Func([],[e.Record({maker:e.Record({buy:e.Float64,sell:e.Float64}),taker:e.Record({buy:e.Float64,sell:e.Float64})})],["query"]),feeStatus:e.Func([],[an],["query"]),getAuctionMode:e.Func([],[e.Bool,qt],["query"]),getConfig:e.Func([],[rn],["query"]),getDepositAccount:e.Func([c],[Se,c],["query"]),getPairAddress:e.Func([],[e.Record({fees:e.Tuple(Se,c),pool:e.Tuple(Se,c)})],["query"]),getQuotes:e.Func([Z],[e.Vec(ne)],["query"]),getRole:e.Func([c],[e.Record({broker:e.Bool,proTrader:e.Bool,vipMaker:e.Bool})],["query"]),getTxAccount:e.Func([c],[Se,on,$t,jt],["query"]),health:e.Func([c],[e.Opt(sn)],["query"]),ictc_TM:e.Func([],[e.Text],["query"]),ictc_addAdmin:e.Func([e.Principal],[],[]),ictc_appendTT:e.Func([e.Opt(e.Vec(e.Nat8)),ln,e.Opt(De),e.Principal,un,e.Vec(De)],[De],[]),ictc_blockTO:e.Func([ln],[e.Opt(ln)],[]),ictc_clearLog:e.Func([e.Opt(e.Int),e.Bool],[],[]),ictc_clearTTPool:e.Func([],[],[]),ictc_completeTO:e.Func([ln,re],[e.Bool],[]),ictc_doneTO:e.Func([ln,re,e.Bool],[e.Bool],[]),ictc_doneTT:e.Func([ln,De,e.Bool],[e.Opt(De)],[]),ictc_getAdmins:e.Func([],[e.Vec(e.Principal)],["query"]),ictc_getCalleeStatus:e.Func([e.Principal],[e.Opt(Ye)],["query"]),ictc_getPool:e.Func([],[e.Record({ttPool:e.Record({total:e.Nat,items:e.Vec(e.Tuple(De,Be))}),toPool:e.Record({total:e.Nat,items:e.Vec(e.Tuple(ln,e.Opt(dn)))})})],["query"]),ictc_getTO:e.Func([ln],[e.Opt(dn)],["query"]),ictc_getTOCount:e.Func([],[e.Nat],["query"]),ictc_getTOPool:e.Func([],[e.Vec(e.Tuple(ln,e.Opt(dn)))],["query"]),ictc_getTOs:e.Func([e.Nat,e.Nat],[e.Record({total:e.Nat,data:e.Vec(e.Tuple(ln,dn)),totalPage:e.Nat})],["query"]),ictc_getTT:e.Func([De],[e.Opt(pt)],["query"]),ictc_getTTByTO:e.Func([ln],[e.Vec(pt)],["query"]),ictc_getTTErrors:e.Func([e.Nat,e.Nat],[e.Record({total:e.Nat,data:e.Vec(e.Tuple(e.Nat,lt)),totalPage:e.Nat})],["query"]),ictc_getTTPool:e.Func([],[e.Vec(e.Tuple(De,Be))],["query"]),ictc_getTTs:e.Func([e.Nat,e.Nat],[e.Record({total:e.Nat,data:e.Vec(e.Tuple(De,pt)),totalPage:e.Nat})],["query"]),ictc_redoTT:e.Func([ln,De],[e.Opt(De)],[]),ictc_removeAdmin:e.Func([e.Principal],[],[]),ictc_runTO:e.Func([ln],[e.Opt(re)],[]),ictc_runTT:e.Func([],[e.Bool],[]),ictc_updateTT:e.Func([ln,De,e.Tuple(e.Principal,un,e.Vec(De)),e.Opt(e.Tuple(e.Principal,un,e.Vec(De)))],[e.Opt(De)],[]),info:e.Func([],[e.Record({decimals:e.Nat8,setting:rn,owner:e.Principal,name:e.Text,version:e.Text,token0:gn,token1:gn,paused:e.Bool})],["query"]),init:e.Func([],[],[]),isAccountIctcDone:e.Func([qt],[e.Bool,e.Vec(fn)],["query"]),latestFilled:e.Func([],[e.Vec(e.Tuple(cn,jt,mn,vn))],["query"]),level10:e.Func([],[e.Nat,e.Record({ask:e.Vec(xn),bid:e.Vec(xn)})],["query"]),level100:e.Func([],[e.Nat,e.Record({ask:e.Vec(xn),bid:e.Vec(xn)})],["query"]),liquidity:e.Func([e.Opt(c)],[bn],["query"]),liquidity2:e.Func([e.Opt(c)],[yn],["query"]),makerList:e.Func([e.Opt(Dt),e.Opt(Mt)],[In],["query"]),makerRebate:e.Func([c],[e.Float64,e.Float64],["query"]),mergePair:e.Func([e.Principal],[e.Bool],[]),name:e.Func([],[e.Text],["query"]),orderExpirationDuration:e.Func([],[e.Int],["query"]),pending:e.Func([e.Opt(c),e.Opt(Dt),e.Opt(Mt)],[_n],["query"]),pendingAll:e.Func([e.Opt(Dt),e.Opt(Mt)],[_n],["query"]),pendingCount:e.Func([],[e.Nat],["query"]),poolBalance:e.Func([],[e.Record({token0:a,token1:a})],["query"]),prepare:e.Func([c],[on,$t],["query"]),recovery:e.Func([Bt],[e.Bool],[]),removeVipMaker:e.Func([c],[],[]),rename:e.Func([],[],[]),safeAccountBalance:e.Func([c],[e.Record({balance:d,pendingOrders:e.Tuple(a,a),price:Pn,unitSize:e.Nat})],["query"]),setAuctionMode:e.Func([e.Bool,e.Opt(qt)],[e.Bool,qt],[]),setOrderFail:e.Func([e.Text,a,a],[e.Bool],[]),setPause:e.Func([e.Bool,e.Opt(r)],[e.Bool],[]),setTodoOrdersFail:e.Func([],[e.Nat],[]),setUpgradeMode:e.Func([e.Variant({All:e.Null,Base:e.Null})],[],[]),setVipMaker:e.Func([c,e.Nat],[],[]),stats:e.Func([],[e.Record({change24h:e.Float64,vol24h:Ht,totalVol:Ht,price:e.Float64})],["query"]),status:e.Func([c,$t],[En],["query"]),statusByTxid:e.Func([jt],[En],["query"]),sto_cancelPendingOrders:e.Func([Yt,e.Opt(l)],[],[]),sto_clearTxidLog:e.Func([],[],[]),sto_config:e.Func([e.Record({gridMaxPerSide:e.Opt(e.Nat),stopLossCountMax:e.Opt(e.Nat),poFee1:e.Opt(e.Nat),poFee2:e.Opt(e.Float64),proCountMax:e.Opt(e.Nat),sloFee1:e.Opt(e.Nat),sloFee2:e.Opt(e.Float64)})],[],[]),sto_createProOrder:e.Func([e.Variant({TWAP:Tn,VWAP:wn,IcebergOrder:Sn,GridOrder:On}),e.Opt(l)],[Yt],[]),sto_createStopLossOrder:e.Func([e.Record({order:e.Record({side:mt,quantity:e.Nat,price:Pn}),triggerPrice:Pn}),e.Opt(l)],[Yt],[]),sto_enableStratOrder:e.Func([e.Variant({Enable:e.Null,Disable:e.Null})],[],[]),sto_getAccountProOrders:e.Func([c],[e.Vec(Cn)],["query"]),sto_getAccountStopLossOrders:e.Func([c],[e.Vec(Cn)],["query"]),sto_getActiveProOrders:e.Func([e.Opt(Dt),e.Opt(Mt)],[Rn],[]),sto_getActiveStopLossOrders:e.Func([e.Variant({Buy:e.Null,Sell:e.Null}),e.Opt(Dt),e.Opt(Mt)],[Rn],[]),sto_getConfig:e.Func([],[An],["query"]),sto_getStratOrder:e.Func([Yt],[e.Opt(Cn)],["query"]),sto_getStratOrderByTxid:e.Func([jt],[e.Opt(Cn)],["query"]),sto_getStratTxids:e.Func([e.Opt(Dt),e.Opt(Mt)],[Fn],[]),sto_updateProOrder:e.Func([Yt,e.Variant({TWAP:e.Record({status:e.Opt(Vn),setting:e.Opt(Tn)}),VWAP:e.Record({status:e.Opt(Vn),setting:e.Opt(wn)}),IcebergOrder:e.Record({status:e.Opt(Vn),setting:e.Opt(Sn)}),GridOrder:e.Record({status:e.Opt(Vn),lowerLimit:e.Opt(Pn),upperLimit:e.Opt(Pn),spread:e.Opt(e.Variant({Geom:Bn,Arith:Pn})),amount:e.Opt(e.Variant({Percent:e.Opt(Bn),Token0:e.Nat,Token1:e.Nat}))})}),e.Opt(l)],[Yt],[]),sto_updateStopLossOrder:e.Func([Yt,e.Record({status:e.Opt(Vn),order:e.Opt(e.Record({side:mt,quantity:e.Nat,price:Pn})),triggerPrice:e.Opt(Pn)}),e.Opt(l)],[Yt],[]),sync:e.Func([],[],[]),sysMode:e.Func([],[e.Record({mode:Dn,openingTime:r})],["query"]),ta_ambassador:e.Func([c],[e.Bool,e.Text,e.Nat,Ht],["query"]),ta_description:e.Func([],[e.Text],["query"]),ta_getReferrer:e.Func([c],[e.Opt(e.Tuple(c,e.Bool))],["query"]),ta_setDescription:e.Func([e.Text],[],[]),ta_setReferrer:e.Func([c,e.Opt(e.Text),e.Opt(l)],[e.Bool],[]),ta_stats:e.Func([e.Opt(e.Text)],[e.Nat,e.Nat,Ht],["query"]),timerStart:e.Func([e.Nat],[],[]),timerStop:e.Func([],[],[]),token0:e.Func([],[Gt,e.Opt(hn)],["query"]),token1:e.Func([],[Gt,e.Opt(hn)],["query"]),tpsStats:e.Func([],[e.Nat,e.Float64,e.Nat,e.Nat,e.Int,e.Int],["query"]),trade:e.Func([Kt,Mn,e.Opt(qn),e.Opt($t),e.Opt(l),e.Opt(Hn)],[Ln],[]),tradeCore:e.Func([Kt,Mn,e.Opt(qn),e.Opt($t),e.Opt(l),e.Opt(Hn),e.Opt(e.Record({broker:e.Principal,rate:e.Float64})),e.Opt(e.Bool)],[Ln],[]),tradeMKT:e.Func([$n,a,e.Opt($t),e.Opt(l),e.Opt(Hn)],[Ln],[]),tradeMKT_b:e.Func([$n,a,e.Opt(e.Nat),e.Opt($t),e.Opt(l),e.Opt(Hn),e.Opt(e.Record({broker:e.Principal,rate:e.Float64}))],[Ln],[]),trade_b:e.Func([Kt,Mn,e.Opt(qn),e.Opt($t),e.Opt(l),e.Opt(Hn),e.Opt(e.Record({broker:e.Principal,rate:e.Float64}))],[Ln],[]),userCount:e.Func([],[e.Nat],["query"]),version:e.Func([],[e.Text],["query"]),volsAll:e.Func([e.Opt(Dt),e.Opt(Mt)],[jn],["query"]),wallet_receive:e.Func([],[],[]),withdraw:e.Func([e.Opt(a),e.Opt(a),e.Opt(l)],[a,a],[]),withdraw2:e.Func([e.Opt(a),e.Opt(a),e.Opt(l)],[a,a,e.Variant({Completed:e.Null,Pending:e.Null})],[]),withdraw_cycles:e.Func([e.Nat],[],[])})},y=n(58934),I=function(){function e(){var e=this;this.accountBalance=function(t,n){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(a){switch(a.label){case 0:e=h(null,b,t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.accountBalance(n)];case 2:return[2,a.sent()];case 3:return a.sent(),[2,null];case 4:return[2]}}))}))},this.deposit=function(t,n,a,r){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,b,n),[4,e.deposit(a,r,[])];case 1:return[2,i.sent()]}}))}))},this.withdraw=function(t,n,a,r){return void 0===a&&(a=[]),void 0===r&&(r=[]),(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,b,n),[4,e.withdraw(a,r,[])];case 1:return[2,i.sent()]}}))}))},this.info=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e,n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return e=h(null,b,t),[4,e.info()];case 1:return n=a.sent(),[2,(0,y._L)(n)]}}))}))},this.statusByTxid=function(t,n){return(0,i.sH)(e,void 0,Promise,(function(){var e,a;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return e=h(null,b,t),[4,e.statusByTxid(n)];case 1:return a=r.sent(),[2,(0,y._L)(a)]}}))}))},this.stats=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e,n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return e=h(null,b,t),[4,e.stats()];case 1:return n=a.sent(),[2,(0,y._L)(n)]}}))}))},this.level10=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e,n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return e=h(null,b,t),[4,e.level10()];case 1:return n=a.sent(),[2,(0,y._L)(n)]}}))}))}}return e}(),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ICDexPairInfo={},t.filteredData=[],t.displayedData=[],t.selectedPair={id:void 0},t.currentPage=1,t.pageSize=100,t.loading=!1,t.hasMore=!1,t}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"displayedOptions",{get:function(){return this.displayedData.slice(0,this.currentPage*this.pageSize)},enumerable:!1,configurable:!0}),t.prototype.created=function(){this.ICDexService=new I},t.prototype.initBinancePairs=function(){this.filteredData=(0,i.fX)([],(0,i.zs)(this.binancePairs.symbols),!1),this.updateDisplay()},t.prototype.handleSearch=function(e){var t=this;this.selectedPair.id=e,this.currentPage=1,this.filteredData=this.binancePairs.symbols.filter((function(e){return e.symbol.includes(t.selectedPair.id.toLocaleUpperCase())})),this.updateDisplay()},t.prototype.handleScroll=function(e){var t=e.target,n=t.scrollTop,a=t.scrollHeight,r=t.clientHeight,i=a-n<=r+50;i&&this.hasMore&&(this.currentPage++,this.updateDisplay())},t.prototype.updateDisplay=function(){this.hasMore=this.filteredData.length>this.currentPage*this.pageSize,this.displayedData=this.filteredData},t.prototype.filterPair=function(e,t){return t.componentOptions.children[0].children[0].text.toUpperCase().indexOf(e.toUpperCase())>=0},t.prototype.changePair=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.getPairInfo()];case 1:return e=t.sent(),this.$emit("changePair",this.selectedPair.id,e),[2]}}))}))},t.prototype.getPairInfo=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return this.exchangeName!==c.dj.ICDex?[3,2]:this.ICDexPairInfo[this.selectedPair.id]?[2,this.ICDexPairInfo[this.selectedPair.id]]:[4,this.ICDexService.info(this.selectedPair.id)];case 1:return e=n.sent(),this.$set(this.ICDexPairInfo,this.selectedPair.id,e),[2,e];case 2:if(this.exchangeName===c.dj.Binance)return[2,this.binancePairs.symbols.find((function(e){return e.symbol===t.selectedPair.id}))];n.label=3;case 3:return[2,null]}}))}))},t.prototype.changeExchange=function(){this.selectedPair.id=void 0,this.$emit("changePair",void 0,null)},(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"type",void 0),(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"exchangeName",void 0),(0,i.Cg)([(0,o.kv)({type:Boolean,default:!0})],t.prototype,"selectedPairDisabled",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"ICDexPairs",void 0),(0,i.Cg)([(0,o.kv)({type:Object,default:function(){return null}})],t.prototype,"binancePairs",void 0),t=(0,i.Cg)([(0,o.uA)({name:"selectExchangePair",components:{}})],t),t}(o.lD),_=N,P=_,k=n(81656),E=(0,k.A)(P,v,x,!1,null,"7e6a7078",null),T=E.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-select",{directives:[{name:"show",rawName:"v-show",value:"ICDex"===e.exchangeName,expression:"exchangeName === 'ICDex'"}],ref:"selectICDexAccount",staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:e.selectedAccountDisabled,"show-search":"",placeholder:"Select "+e.type+" exchange account",notFoundContent:"Not Found"},on:{change:e.changeAccount},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return n("div",{},[n("v-nodes",{attrs:{vnodes:t}}),n("a-divider",{staticStyle:{margin:"4px 0"}}),n("div",{staticClass:"base-font-title",staticStyle:{padding:"4px 8px",cursor:"pointer"},on:{mousedown:function(e){return e.preventDefault()},click:function(t){return e.addAccount(e.type)}}},[n("a-icon",{attrs:{type:"plus"}}),e._v(" Add "+e._s(e.exchangeName)+" account ")],1)],1)}}]),model:{value:e.selectedAccount.id,callback:function(t){e.$set(e.selectedAccount,"id",t)},expression:"selectedAccount.id"}},e._l(e.ICDexAccounts,(function(t){return n("a-select-option",{key:t.id},[n("span",{staticClass:"base-color-w"},[e._v(" "+e._s(t.name)+" ("+e._s(e._f("ellipsisAccount")(e._f("filterICDexAccount")(t.value)))+") ")])])})),1),n("a-select",{directives:[{name:"show",rawName:"v-show",value:"Binance"===e.exchangeName,expression:"exchangeName === 'Binance'"}],ref:"selectBinanceAccount",staticClass:"account-list-select",staticStyle:{width:"270px"},attrs:{disabled:e.selectedAccountDisabled,"show-search":"",placeholder:"Select "+e.type+" exchange account",notFoundContent:"Not Found"},on:{change:e.changeAccount},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return n("div",{},[n("v-nodes",{attrs:{vnodes:t}}),n("a-divider",{staticStyle:{margin:"4px 0"}}),n("div",{staticClass:"base-font-title",staticStyle:{padding:"4px 8px",cursor:"pointer"},on:{mousedown:function(e){return e.preventDefault()},click:function(t){return e.addAccount(e.type)}}},[n("a-icon",{attrs:{type:"plus"}}),e._v(" Add "+e._s(e.exchangeName)+" account ")],1)],1)}}]),model:{value:e.selectedAccount.id,callback:function(t){e.$set(e.selectedAccount,"id",t)},expression:"selectedAccount.id"}},e._l(e.BinanceAccounts,(function(t){return n("a-select-option",{key:t.id},[n("span",{staticClass:"base-color-w"},[e._v(" "+e._s(t.name)+" ("+e._s(e._f("ellipsisAccount")(e._f("filterBinanceAPIKey")(t.value)))+") ")])])})),1),n("add-exchange-account",{ref:"addExchangeAccount",attrs:{"add-exchange-id":e.exchangeId,"exchange-name":e.exchangeName},on:{addExchangeAccountSuccess:e.addExchangeAccountSuccess}})],1)},S=[],O=n(62288),C=n(85990),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedAccount={id:void 0},t}return(0,i.C6)(t,e),t.prototype.addAccount=function(e){e===c.dj.ICDex?this.$refs.selectICDexAccount.blur():e===c.dj.Binance&&this.$refs.selectBinanceAccount.blur(),this.$refs.addExchangeAccount.init()},t.prototype.addExchangeAccountSuccess=function(){this.$emit("addExchangeAccountSuccess")},t.prototype.changeExchange=function(){this.selectedAccount.id=void 0,this.$emit("changeAccount",this.selectedAccount.id)},t.prototype.changeAccount=function(){return(0,i.sH)(this,void 0,Promise,(function(){return(0,i.YH)(this,(function(e){return this.$emit("changeAccount",this.selectedAccount.id),[2]}))}))},(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"type",void 0),(0,i.Cg)([(0,o.kv)({type:Number,default:1})],t.prototype,"exchangeId",void 0),(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"exchangeName",void 0),(0,i.Cg)([(0,o.kv)({type:Boolean,default:!0})],t.prototype,"selectedAccountDisabled",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"ICDexAccounts",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"BinanceAccounts",void 0),t=(0,i.Cg)([(0,o.uA)({name:"SelectExchangeAccount",components:{addExchangeAccount:C.A,VNodes:{functional:!0,render:function(e,t){return t.props.vnodes}}},filters:{filterICDexAccount:function(e){try{if(e){var t=JSON.parse(e),n=t.pem,a=(0,O.jk)(n);if(a)return a.getPrincipal().toString()}}catch(r){}return"-"},filterBinanceAPIKey:function(e){try{if(e){var t=JSON.parse(e);return t.APIKey}}catch(n){}return"-"}}})],t),t}(o.lD),A=R,F=A,V=(0,k.A)(F,w,S,!1,null,"c39da2ee",null),B=V.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-input",{staticStyle:{width:"270px"},attrs:{disabled:!e.accountId,autocomplete:"off",placeholder:e.type+" exchange fee",suffix:"%"},on:{change:e.changeFee},model:{value:e.exchangeAccountFee,callback:function(t){e.exchangeAccountFee=t},expression:"exchangeAccountFee"}})],1)},M=[],q=n(61594),H=n.n(q),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accountId=0,t.binanceAccountInfo={},t.exchangeAccountFee="",t}return(0,i.C6)(t,e),t.prototype.created=function(){this.ICDexService=new I},t.prototype.changeExchange=function(){this.accountId=0,this.pairId=void 0,this.pairInfo=null,this.pairIdTwo=void 0,this.pairIdTwo=null,this.exchangeAccountFee="",this.$emit("changeExchangeAccountFee",this.exchangeAccountFee)},t.prototype.changeFee=function(){this.$emit("changeExchangeAccountFee",this.exchangeAccountFee)},t.prototype.getExchangeAccountFee=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return this.accountId&&this.pairId&&this.pairInfo?this.exchangeName!==c.dj.ICDex?[3,2]:[4,this.getICDexFee()]:[3,4];case 1:return e=i.sent(),this.exchangeAccountFee=new(H())(e).times(100).toString(10),[3,4];case 2:return this.exchangeName!==c.dj.Binance?[3,4]:(t=this.BinanceAccounts.find((function(e){return e.id===r.accountId})),t?(n=JSON.parse(t.value),[4,this.getBinanceTokenAmount(t.id,n)]):[3,4]);case 3:a=i.sent(),a&&this.accountId&&this.pairId&&this.pairInfo&&(this.exchangeAccountFee=new(H())(a.commissionRates.taker).times(100).toString(10)),i.label=4;case 4:return this.$emit("changeExchangeAccountFee",this.exchangeAccountFee),[2]}}))}))},t.prototype.changePairTwo=function(e,t){this.pairIdTwo=e,this.pairInfoTwo=t,this.getExchangeAccountFee()},t.prototype.changePair=function(e,t){this.pairId=e,this.pairInfo=t,this.getExchangeAccountFee()},t.prototype.changeAccount=function(e){this.accountId=e,this.getExchangeAccountFee()},t.prototype.getBinanceTokenAmount=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t.APIKey&&t.privateKey?this.binanceAccountInfo[t.APIKey]?[2,this.binanceAccountInfo[t.APIKey]]:[4,this.$axios.get("/getAccountInfo",{params:{accountId:e}})]:[3,2];case 1:if(n=r.sent(),n&&200===n.status)return this.$set(this.binanceAccountInfo,t.APIKey,n.data),[2,this.binanceAccountInfo[t.APIKey]];r.label=2;case 2:return[3,4];case 3:return a=r.sent(),a.response&&a.response.data&&a.response.data.code&&(429!==a.response.data.code&&418!==a.response.data.code||this.$message.error(a.response.data.msg)),[2];case 4:return[2]}}))}))},t.prototype.getICDexFee=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(t){switch(t.label){case 0:return this.pairId&&this.pairInfo?[4,this.ICDexService.info(this.pairId)]:[3,2];case 1:if(e=t.sent(),e)return[2,new(H())(e.setting.TRADING_FEE.toString()).div(Math.pow(10,6)).toString(10)];t.label=2;case 2:return[2]}}))}))},(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"type",void 0),(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"exchangeName",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"ICDexAccounts",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"BinanceAccounts",void 0),t=(0,i.Cg)([(0,o.uA)({name:"SelectExchangeAccountFee",components:{}})],t),t}(o.lD),$=L,j=$,J=(0,k.A)(j,D,M,!1,null,"618436b0",null),U=J.exports,Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedExchange={id:void 0},t.ICDexPairs=[],t.binancePairs=null,t.twoPair=!1,t.invert=!1,t}return(0,i.C6)(t,e),t.prototype.created=function(){this.ICSwapRouterFiduciaryService=new m,this.getICDexPairs(),this.getBinancePairs()},t.prototype.init=function(e,t,n){var a=this;this.$nextTick((function(){e&&(a.$refs.selectExchangePair.selectedPair.id=e,a.$refs.selectExchangeAccount.selectedAccount.id=t,a.invert=!1,n?(a.twoPair=!0,a.$nextTick((function(){a.$refs.selectExchangePairTwo.selectedPair.id=n}))):a.twoPair=!1)}))},t.prototype.getAccounts=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n=this;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.$axios.get("/getAccounts")];case 1:return e=a.sent(),e&&200===e.status&&(t=e.data,this.ICDexAccounts=[],this.BinanceAccounts=[],t.forEach((function(e){"ICDex"===n.exchange[e.exchangeId]?n.ICDexAccounts.push(e):"Binance"===n.exchange[e.exchangeId]&&n.BinanceAccounts.push(e)}))),[3,3];case 2:return a.sent(),[3,3];case 3:return[2,[]]}}))}))},t.prototype.addExchangeAccountSuccess=function(){this.$emit("addExchangeAccountSuccess")},t.prototype.morePair=function(){var e=this;this.twoPair=!0,this.invert=!1,this.$emit("changeInvert",this.invert),this.$nextTick((function(){e.$refs.selectExchangePairTwo.initBinancePairs()}))},t.prototype.onePair=function(){this.twoPair=!1,this.invert=!1,this.$emit("changePairTwo",null),this.$emit("changeInvert",this.invert),this.$refs.selectExchangePairTwo&&this.$refs.selectExchangePairTwo.changeExchange()},t.prototype.changeInvert=function(){this.$emit("changeInvert",this.invert)},t.prototype.getBinancePairs=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return[4,this.$axios.get("/getExchangeInfo")];case 1:return e=n.sent(),e&&200===e.status&&(this.binancePairs=e.data,this.binancePairs&&this.binancePairs.symbols&&(this.$emit("getBinancePairs",this.binancePairs),this.$nextTick((function(){t.$refs.selectExchangePair.initBinancePairs()})))),[2]}}))}))},t.prototype.getICDexPairs=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.ICSwapRouterFiduciaryService.getPairs(["icdex"],[],[])];case 1:return e=t.sent(),e&&e.data&&e.data.length&&(this.ICDexPairs=e.data.filter((function(e){return!e[1].pair.token0[1].toLocaleLowerCase().includes("test")&&!e[1].pair.token1[1].toLocaleLowerCase().includes("test")})).sort((function(e,t){return e[1].pair.token0[1].localeCompare(t[1].pair.token0[1])}))),[2]}}))}))},t.prototype.changePair=function(e,t){this.$emit("changePair",e,t),this.$refs.selectExchangeAccountFee.changePair(e,t)},t.prototype.changeAccount=function(e){this.$emit("changeAccount",e),this.$refs.selectExchangeAccountFee.changeAccount(e)},t.prototype.changeExchangeAccountFee=function(e){this.$emit("changeExchangeAccountFee",e)},t.prototype.changePairTwo=function(e,t){this.$emit("changePairTwo",e,t),this.$refs.selectExchangeAccountFee.changePairTwo(e,t)},t.prototype.changeExchange=function(){this.$emit("changeExchange",this.selectedExchange.id),this.twoPair=!1,this.invert=!1,this.$emit("changeInvert",this.invert),this.$refs.selectExchangePair.changeExchange(),this.$refs.selectExchangeAccount.changeExchange(),this.$refs.selectExchangeAccountFee.changeExchange()},t.prototype.initMainExchange=function(){var e=this;this.selectedExchange.id=void 0,this.twoPair=!1,this.invert=!1,this.$refs.selectExchangePair.changeExchange(),this.$refs.selectExchangeAccount.changeExchange(),this.$refs.selectExchangeAccountFee.changeExchange(),this.$nextTick((function(){e.$refs.selectExchangePair.initBinancePairs()}))},t.prototype.initSecondExchange=function(){var e=this;this.selectedExchange.id=void 0,this.twoPair=!1,this.invert=!1,this.$emit("changeInvert",this.invert),this.$refs.selectExchangePairTwo&&(this.$refs.selectExchangePairTwo.changeExchange(),this.$nextTick((function(){e.$refs.selectExchangePairTwo.initBinancePairs()}))),this.$refs.selectExchangeAccount.changeExchange(),this.$refs.selectExchangeAccountFee.changeExchange()},(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"type",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"exchanges",void 0),(0,i.Cg)([(0,o.kv)({type:Object,default:function(){return null}})],t.prototype,"exchange",void 0),(0,i.Cg)([(0,o.kv)({type:Boolean,default:!1})],t.prototype,"disabledSelectedExchange",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"ICDexAccounts",void 0),(0,i.Cg)([(0,o.kv)({type:Array,default:function(){return[]}})],t.prototype,"BinanceAccounts",void 0),t=(0,i.Cg)([(0,o.uA)({name:"SelectExchange",components:{selectExchangePair:T,selectExchangeAccount:B,selectExchangeAccountFee:U}})],t),t}(o.lD),W=Y,K=W,Q=(0,k.A)(K,s,l,!1,null,"d817911e",null),G=Q.exports,z=({IDL:e})=>{const t=e.Variant({Ok:e.Nat,Err:e.Variant({InsufficientAllowance:e.Null,InsufficientBalance:e.Null,ErrorOperationStyle:e.Null,Unauthorized:e.Null,LedgerTrap:e.Null,ErrorTo:e.Null,Other:e.Text,BlockUsed:e.Null,AmountTooSmall:e.Null})}),n=e.Text,a=e.Variant({token:e.Nat,cycles:e.Nat,noFee:e.Null}),r=e.Vec(e.Nat8),i=e.Int,o=e.Vec(e.Nat8),c=e.Variant({approve:e.Record({allowance:e.Nat}),lockTransfer:e.Record({locked:e.Nat,expiration:i,decider:r}),transfer:e.Record({action:e.Variant({burn:e.Null,mint:e.Null,send:e.Null})}),executeTransfer:e.Record({fallback:e.Nat,lockedTxid:o})}),s=e.Record({to:r,value:e.Nat,data:e.Opt(e.Vec(e.Nat8)),from:r,operation:c}),l=e.Record({gas:a,msgCaller:e.Opt(e.Principal),transaction:s,txid:o,nonce:e.Nat,timestamp:i,caller:r,index:e.Nat}),u=e.Text,d=e.Variant({dft:e.Null,icp:e.Null,other:e.Text,cycles:e.Null,dip20:e.Null,drc20:e.Null}),p=e.Tuple(e.Principal,u,d),h=e.Text,g=e.Principal,f=e.Record({feeRate:e.Float64,token0:p,token1:p,dexName:h,canisterId:g}),m=e.Record({timer:e.Record({interval_seconds:e.Opt(e.Nat),enable:e.Bool}),monitorable_by_self:e.Bool,monitorable_by_blackhole:e.Record({canister_id:e.Opt(e.Principal),allowed:e.Bool}),cycles_receivable:e.Bool}),v=e.Text,x=e.Text,b=e.Nat,y=e.Vec(e.Nat8),I=e.Record({remaining:e.Nat,spender:y}),N=e.Nat,_=e.Vec(e.Nat8),P=e.Vec(e.Nat8),k=e.Vec(e.Nat8),E=e.Variant({ok:k,err:e.Record({code:e.Variant({NonceError:e.Null,InsufficientGas:e.Null,InsufficientAllowance:e.Null,UndefinedError:e.Null,InsufficientBalance:e.Null,NoLockedTransfer:e.Null,DuplicateExecutedTransfer:e.Null,LockedTransferExpired:e.Null}),message:e.Text})}),T=e.Vec(e.Nat8),w=e.Variant({fallback:e.Null,send:e.Nat,sendAll:e.Null}),S=e.Text,O=e.Variant({token:e.Nat,cycles:e.Nat,noFee:e.Null}),C=e.Record({updateTime:e.Int,coinSeconds:e.Nat}),R=e.Nat32,A=e.Text,F=e.Text,V=e.Record({content:e.Text,name:e.Text}),B=e.Variant({token:e.Nat,cycles:e.Nat,noFee:e.Null}),D=e.Int,M=e.Variant({approve:e.Record({allowance:e.Nat}),lockTransfer:e.Record({locked:e.Nat,expiration:D,decider:y}),transfer:e.Record({action:e.Variant({burn:e.Null,mint:e.Null,send:e.Null})}),executeTransfer:e.Record({fallback:e.Nat,lockedTxid:k})}),q=e.Record({to:y,value:e.Nat,data:e.Opt(e.Vec(e.Nat8)),from:y,operation:M}),H=e.Record({gas:B,msgCaller:e.Opt(e.Principal),transaction:q,txid:k,nonce:e.Nat,timestamp:D,caller:y,index:e.Nat}),L=e.Func([H],[],[]),$=e.Variant({onApprove:e.Null,onExecute:e.Null,onTransfer:e.Null,onLock:e.Null}),j=e.Func([H],[],[]),J=e.Variant({onApprove:e.Null,onExecute:e.Null,onTransfer:e.Null,onLock:e.Null}),U=e.Record({callback:j,msgTypes:e.Vec(J)}),Y=e.Text,W=e.Variant({getEvents:e.Record({owner:e.Opt(Y)}),txnCount:e.Record({owner:Y}),lockedTxns:e.Record({owner:Y}),lastTxids:e.Record({owner:Y}),lastTxidsGlobal:e.Null,getTxn:e.Record({txid:k}),txnCountGlobal:e.Null}),K=e.Variant({getEvents:e.Vec(H),txnCount:e.Nat,lockedTxns:e.Record({txns:e.Vec(H),lockedBalance:e.Nat}),lastTxids:e.Vec(k),lastTxidsGlobal:e.Vec(k),getTxn:e.Opt(H),txnCountGlobal:e.Nat}),Q=e.Record({gas:B,msgCaller:e.Opt(e.Principal),transaction:q,txid:k,nonce:e.Nat,timestamp:D,caller:y,index:e.Nat}),G=e.Record({fee:e.Nat,decimals:e.Nat8,owner:e.Principal,logo:e.Text,name:e.Text,totalSupply:e.Nat,symbol:e.Text}),z=e.Int,X=e.Record({holderNumber:e.Nat,deployTime:z,metadata:G,historySize:e.Nat,cycles:e.Nat,feeTo:e.Principal}),Z=e.Vec(e.Nat8),ee=e.Record({owner:e.Principal,subaccount:e.Opt(Z)}),te=e.Variant({Int:e.Int,Nat:e.Nat,Blob:e.Vec(e.Nat8),Text:e.Text}),ne=e.Record({owner:e.Principal,subaccount:e.Opt(Z)}),ae=e.Nat64,re=e.Record({to:ne,fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(Z),created_at_time:e.Opt(ae),amount:e.Nat}),ie=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,BadBurn:e.Record({min_burn_amount:e.Nat}),Duplicate:e.Record({duplicate_of:e.Nat}),BadFee:e.Record({expected_fee:e.Nat}),CreatedInFuture:e.Record({ledger_time:e.Nat64}),TooOld:e.Null,InsufficientFunds:e.Record({balance:e.Nat})}),oe=e.Record({account:ne,spender:ne}),ce=e.Record({fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(e.Nat64),amount:e.Nat,expected_allowance:e.Opt(e.Nat),expires_at:e.Opt(e.Nat64),spender:ne}),se=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,Duplicate:e.Record({duplicate_of:e.Nat}),BadFee:e.Record({expected_fee:e.Nat}),AllowanceChanged:e.Record({current_allowance:e.Nat}),CreatedInFuture:e.Record({ledger_time:e.Nat64}),TooOld:e.Null,Expired:e.Record({ledger_time:e.Nat64}),InsufficientFunds:e.Record({balance:e.Nat})}),le=e.Record({to:ne,fee:e.Opt(e.Nat),spender_subaccount:e.Opt(e.Vec(e.Nat8)),from:ne,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(e.Nat64),amount:e.Nat}),ue=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,InsufficientAllowance:e.Record({allowance:e.Nat}),BadBurn:e.Record({min_burn_amount:e.Nat}),Duplicate:e.Record({duplicate_of:e.Nat}),BadFee:e.Record({expected_fee:e.Nat}),CreatedInFuture:e.Record({ledger_time:e.Nat64}),TooOld:e.Null,InsufficientFunds:e.Record({balance:e.Nat})}),de=e.Record({maxPublicationTries:e.Opt(e.Nat),enBlacklist:e.Opt(e.Bool),maxStorageTries:e.Opt(e.Nat),storageCanister:e.Opt(e.Text),miningCanister:e.Opt(e.Text),maxCacheNumberPer:e.Opt(e.Nat),maxCacheTime:e.Opt(e.Int),feeTo:e.Opt(v)}),pe=e.Vec(e.Nat8);return e.Service({allowance:e.Func([e.Principal,e.Principal],[e.Nat],["query"]),approve:e.Func([e.Principal,e.Nat],[t],[]),balanceOf:e.Func([e.Principal],[e.Nat],["query"]),decimals:e.Func([],[e.Nat8],["query"]),drc202_canisterId:e.Func([],[e.Principal],["query"]),drc202_events:e.Func([e.Opt(n)],[e.Vec(l)],["query"]),drc202_pool:e.Func([],[e.Vec(e.Tuple(o,e.Nat))],["query"]),drc202_txn:e.Func([o],[e.Opt(l)],["query"]),drc202_txn2:e.Func([o],[e.Opt(l)],[]),drc204_pairs:e.Func([],[e.Vec(e.Tuple(e.Principal,e.Tuple(f,e.Nat)))],[]),drc204_router:e.Func([],[e.Principal],["query"]),drc207:e.Func([],[m],["query"]),drc20_allowance:e.Func([v,x],[b],["query"]),drc20_approvals:e.Func([v],[e.Vec(I)],["query"]),drc20_approve:e.Func([x,b,e.Opt(N),e.Opt(_),e.Opt(P)],[E],[]),drc20_balanceOf:e.Func([v],[b],["query"]),drc20_decimals:e.Func([],[e.Nat8],["query"]),drc20_dropAccount:e.Func([e.Opt(_)],[e.Bool],[]),drc20_executeTransfer:e.Func([T,w,e.Opt(S),e.Opt(N),e.Opt(_),e.Opt(P)],[E],[]),drc20_fee:e.Func([],[b],["query"]),drc20_gas:e.Func([],[O],["query"]),drc20_getCoinSeconds:e.Func([e.Opt(v)],[C,e.Opt(C)],["query"]),drc20_holdersCount:e.Func([],[e.Nat,e.Nat,e.Nat],["query"]),drc20_lockTransfer:e.Func([S,b,R,e.Opt(A),e.Opt(N),e.Opt(_),e.Opt(P)],[E],[]),drc20_lockTransferFrom:e.Func([F,S,b,R,e.Opt(A),e.Opt(N),e.Opt(_),e.Opt(P)],[E],[]),drc20_metadata:e.Func([],[e.Vec(V)],["query"]),drc20_name:e.Func([],[e.Text],["query"]),drc20_subscribe:e.Func([L,e.Vec($),e.Opt(_)],[e.Bool],[]),drc20_subscribed:e.Func([v],[e.Opt(U)],["query"]),drc20_symbol:e.Func([],[e.Text],["query"]),drc20_totalSupply:e.Func([],[b],["query"]),drc20_transfer:e.Func([S,b,e.Opt(N),e.Opt(_),e.Opt(P)],[E],[]),drc20_transferBatch:e.Func([e.Vec(S),e.Vec(b),e.Opt(N),e.Opt(_),e.Opt(P)],[e.Vec(E)],[]),drc20_transferFrom:e.Func([F,S,b,e.Opt(N),e.Opt(_),e.Opt(P)],[E],[]),drc20_txnQuery:e.Func([W],[K],["query"]),drc20_txnRecord:e.Func([T],[e.Opt(Q)],[]),getMemory:e.Func([],[e.Nat,e.Nat,e.Nat],["query"]),getMetadata:e.Func([],[G],["query"]),getTokenFee:e.Func([],[e.Nat],["query"]),getTokenInfo:e.Func([],[X],["query"]),historySize:e.Func([],[e.Nat],["query"]),icdex_create:e.Func([],[e.Principal],[]),icrc1_balance_of:e.Func([ee],[e.Nat],["query"]),icrc1_decimals:e.Func([],[e.Nat8],["query"]),icrc1_fee:e.Func([],[e.Nat],["query"]),icrc1_metadata:e.Func([],[e.Vec(e.Tuple(e.Text,te))],["query"]),icrc1_minting_account:e.Func([],[e.Opt(ee)],["query"]),icrc1_name:e.Func([],[e.Text],["query"]),icrc1_supported_standards:e.Func([],[e.Vec(e.Record({url:e.Text,name:e.Text}))],["query"]),icrc1_symbol:e.Func([],[e.Text],["query"]),icrc1_total_supply:e.Func([],[e.Nat],["query"]),icrc1_transfer:e.Func([re],[e.Variant({Ok:e.Nat,Err:ie})],[]),icrc2_allowance:e.Func([oe],[e.Record({allowance:e.Nat,expires_at:e.Opt(e.Nat64)})],["query"]),icrc2_approve:e.Func([ce],[e.Variant({Ok:e.Nat,Err:se})],[]),icrc2_transfer_from:e.Func([le],[e.Variant({Ok:e.Nat,Err:ue})],[]),ictokens_burn:e.Func([b,e.Opt(N),e.Opt(_),e.Opt(P)],[E],[]),ictokens_changeOwner:e.Func([e.Principal],[e.Bool],[]),ictokens_clearSnapshot:e.Func([],[e.Bool],[]),ictokens_config:e.Func([de],[e.Bool],[]),ictokens_getConfig:e.Func([],[de],["query"]),ictokens_getOwner:e.Func([],[e.Principal],["query"]),ictokens_getSnapshot:e.Func([e.Nat,e.Nat],[z,e.Vec(e.Tuple(pe,e.Nat)),e.Bool],["query"]),ictokens_heldFirstTime:e.Func([v],[e.Opt(z)],["query"]),ictokens_isInBlacklist:e.Func([v],[e.Bool],["query"]),ictokens_maxSupply:e.Func([],[e.Opt(e.Nat)],["query"]),ictokens_mint:e.Func([v,b,e.Opt(N),e.Opt(P)],[E],[]),ictokens_setBlacklist:e.Func([v,e.Bool],[e.Bool],[]),ictokens_setFee:e.Func([b],[e.Bool],[]),ictokens_setMaxSupply:e.Func([e.Nat],[e.Bool],[]),ictokens_setMetadata:e.Func([e.Vec(V)],[e.Bool],[]),ictokens_setPause:e.Func([e.Bool],[e.Bool],[]),ictokens_snapshot:e.Func([b],[e.Bool],[]),ictokens_snapshotBalanceOf:e.Func([e.Nat,v],[z,e.Opt(e.Nat)],["query"]),ictokens_top100:e.Func([],[e.Vec(e.Tuple(v,b))],["query"]),logo:e.Func([],[e.Text],["query"]),name:e.Func([],[e.Text],["query"]),standard:e.Func([],[e.Text],["query"]),symbol:e.Func([],[e.Text],["query"]),totalSupply:e.Func([],[e.Nat],["query"]),transfer:e.Func([e.Principal,e.Nat],[t],[]),transferFrom:e.Func([e.Principal,e.Principal,e.Nat],[t],[]),wallet_receive:e.Func([],[],[])})},X=function(){function e(){var e=this;this.decimals=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.drc20_decimals()];case 1:return[2,n.sent()]}}))}))},this.gas=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.drc20_gas()];case 1:return[2,n.sent()]}}))}))},this.fee=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.drc20_fee()];case 1:return[2,n.sent()]}}))}))},this.metadata=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.drc20_metadata()];case 1:return[2,n.sent()]}}))}))},this.name=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.drc20_name()];case 1:return[2,n.sent()]}}))}))},this.tokenName=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.name()];case 1:return[2,n.sent()]}}))}))},this.symbol=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.drc20_symbol()];case 1:return[2,n.sent()]}}))}))},this.drc20_balanceOf=function(t,n){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return e=h(null,z,n),[4,e.drc20_balanceOf(t)];case 1:return[2,a.sent()]}}))}))},this.balanceOf=function(t,n){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=h(null,z,t),[4,e.balanceOf(n)];case 1:return[2,a.sent()];case 2:return a.sent(),[2,null];case 3:return[2]}}))}))},this.drc20Approve=function(t,n,a,r,o,c,s){return void 0===a&&(a=[[]]),void 0===o&&(o=[]),void 0===c&&(c=0),(0,i.sH)(e,void 0,Promise,(function(){var e,c;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,z,s),[4,e.drc20_approve(r,n,o,[],a)];case 1:return c=i.sent(),[2,(0,y._L)(c)]}}))}))},this.approve=function(t,n,a,r){return(0,i.sH)(e,void 0,Promise,(function(){var e,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,z,n),[4,e.approve(a,r)];case 1:return o=i.sent(),[2,(0,y._L)(o)]}}))}))},this.transfer=function(t,n,a,r){return(0,i.sH)(e,void 0,Promise,(function(){var e,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,z,n),[4,e.transfer(a,r)];case 1:return o=i.sent(),[2,(0,y._L)(o)]}}))}))},this.getTokenFee=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.getTokenFee()];case 1:return[2,n.sent()]}}))}))},this.icrcDecimals=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.icrc1_decimals()];case 1:return[2,n.sent()]}}))}))},this.icrcName=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.icrc1_name()];case 1:return[2,n.sent()]}}))}))},this.icrcSymbol=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.icrc1_symbol()];case 1:return[2,n.sent()]}}))}))},this.icrcFee=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.icrc1_fee()];case 1:return[2,n.sent()]}}))}))},this.icrc1Metadata=function(t){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=h(null,z,t),[4,e.icrc1_metadata()];case 1:return[2,n.sent()]}}))}))},this.icrc1Transfer=function(t,n,a,r,o,c,s,l){return void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===s&&(s=0),void 0===l&&(l=[]),(0,i.sH)(e,void 0,Promise,(function(){var e,c,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,z,n),c={to:r,fee:[],memo:o,from_subaccount:[],created_at_time:l,amount:a},[4,e.icrc1_transfer(c)];case 1:return s=i.sent(),[2,(0,y._L)(s)]}}))}))},this.icrc1_balance_of=function(t,n){return(0,i.sH)(e,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return e=h(null,z,t),[4,e.icrc1_balance_of(n)];case 1:return[2,a.sent()]}}))}))},this.icpStandardTransfer=function(t,n,a,r,o,c,s){return void 0===c&&(c=BigInt("0")),void 0===s&&(s=0),(0,i.sH)(e,void 0,Promise,(function(){var e,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=h(t,z,n),s={from_subaccount:[],to:o,amount:{e8s:a},fee:{e8s:r},memo:c,created_at_time:[]},[4,e.send_dfx(s)];case 1:return[2,i.sent()];case 2:return i.sent(),[2,null];case 3:return[2]}}))}))},this.icrc2_approve=function(t,n,a,r,o){return void 0===o&&(o=[]),(0,i.sH)(e,void 0,Promise,(function(){var e,c;return(0,i.YH)(this,(function(i){switch(i.label){case 0:e=h(t,z,n),c={fee:[],memo:[],from_subaccount:o,created_at_time:[],amount:r,expected_allowance:[],expires_at:[],spender:a},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.icrc2_approve(c)];case 2:return[2,i.sent()];case 3:return i.sent(),[2,null];case 4:return[2]}}))}))},this.drc20_transfer=function(t,n,a,r,o,c,s){return void 0===r&&(r=[]),void 0===c&&(c=[[]]),(0,i.sH)(e,void 0,Promise,(function(){var e,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,z,s),[4,e.drc20_transfer(n,a,r,[],c)];case 1:return o=i.sent(),[2,(0,y._L)(o)]}}))}))},this.drc20_allowance=function(t,n,a,r){return(0,i.sH)(e,void 0,Promise,(function(){var e,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,z,n),[4,e.drc20_allowance(a,r)];case 1:return o=i.sent(),[2,(0,y._L)(o)]}}))}))},this.icrc2_allowance=function(t,n,a){return(0,i.sH)(e,void 0,Promise,(function(){var e,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=h(t,z,n),[4,e.icrc2_allowance(a)];case 1:return r=i.sent(),[2,(0,y._L)(r)]}}))}))}}return e}(),Z="ryjl3-tyaaa-aaaaa-aaaba-cai",ee=new X,te=function(e,t){return(0,i.sH)(void 0,void 0,Promise,(function(){var n,a;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return n={name:"",symbol:"",decimals:null,fee:"",tokenStd:t},e.toString()===Z||t&&null===t.icp?(n.name="ICP",n.symbol="ICP",n.fee="10000",n.decimals=8,[3,5]):[3,1];case 1:return t&&null===t.drc20?[4,ne(e.toString(),n)]:[3,3];case 2:return n=r.sent(),[3,5];case 3:return!t||null!==t.icrc1&&null!==t.icrc2?[3,5]:[4,ae(e.toString(),n)];case 4:n=r.sent(),r.label=5;case 5:return a=JSON.parse(localStorage.getItem("tokens"))||{},a[e.toString()]||(a[e.toString()]={name:n.name,decimals:n.decimals,symbol:n.symbol,tokenStd:n.tokenStd,fee:n.fee}),[2,n]}}))}))},ne=function(e,t){return(0,i.sH)(void 0,void 0,Promise,(function(){var n;return(0,i.YH)(this,(function(a){return n=[],n.push(ee.name(e),ee.symbol(e),ee.decimals(e),ee.gas(e)),[2,Promise.all(n).then((function(e){return t.name=e[0],t.symbol=e[1],t.decimals=e[2],t.fee=e[3],t}))]}))}))},ae=function(e,t){return(0,i.sH)(void 0,void 0,Promise,(function(){var n;return(0,i.YH)(this,(function(a){return n=[],n.push(ee.icrcName(e),ee.icrcSymbol(e),ee.icrcDecimals(e),ee.icrcFee(e)),[2,Promise.all(n).then((function(e){return t.name=e[0],t.symbol=e[1],t.decimals=e[2],t.fee=e[3],t}))]}))}))},re="ryjl3-tyaaa-aaaaa-aaaba-cai",ie=function(e,t,n){return(0,i.sH)(void 0,void 0,Promise,(function(){var a,r,o,c,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:if(a=new X,!n)return[2];r=BigInt(0),i.label=1;case 1:return i.trys.push([1,8,,9]),o=void 0,e&&(o=Object.keys(e)[0].toLocaleLowerCase()),o&&"icp"===o?(c=BigInt,[4,oe(n)]):[3,3];case 2:return r=c.apply(void 0,[i.sent()]),[3,7];case 3:return o&&"drc20"===o?[4,a.drc20_balanceOf(n,t)]:[3,5];case 4:return r=i.sent(),[3,7];case 5:return!o||"icrc1"!==o&&"icrc2"!==o?[3,7]:(s={owner:p.p.fromText(n),subaccount:[]},[4,a.icrc1_balance_of(t,s)]);case 6:r=i.sent(),i.label=7;case 7:return[2,r.toString(10)];case 8:return i.sent(),[3,9];case 9:return[2]}}))}))},oe=function(e){return(0,i.sH)(void 0,void 0,Promise,(function(){var t,n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return t=new X,[4,t.icrc1_balance_of(re,{owner:p.p.fromText(e),subaccount:[]})];case 1:return n=a.sent(),[2,n.toString(10)]}}))}))},ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-spin",{staticClass:"global-spinning",attrs:{type:"loading",spinning:e.spinning}},[e.currentToken?n("a-modal",{staticClass:"transfer-modal",attrs:{centered:"",title:"Withdraw "+e.currentToken.symbol,width:"550px",footer:null,keyboard:!1,maskClosable:!1,"after-close":e.afterClose,"z-index":1400},model:{value:e.visibleTransfer,callback:function(t){e.visibleTransfer=t},expression:"visibleTransfer"}},[n("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.formRules}},[n("a-form-model-item",{attrs:{label:"Amount",prop:"amount"}},[n("a-input",{directives:[{name:"only-float",rawName:"v-only-float",value:e.currentToken.decimals,expression:"currentToken.decimals"}],attrs:{autocomplete:"off",type:"text",min:"0",placeholder:"0.00"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),n("div",{staticClass:"transfer-balance"},[n("div",{staticClass:"transfer-balance-left"},[n("p",[e._v(" Balance: "+e._s(e.currentToken.balance)+" "+e._s(e.currentToken.symbol)+" ")]),Number(e.currentToken.fee)>0?n("p",[e._v(" Fee: "+e._s(e.currentToken.fee)+" "+e._s(e.currentToken.symbol)+" ")]):e._e()]),n("div",{staticClass:"link margin-left-auto pointer",on:{click:e.setMaxBalance}},[e._v(" Max ")])]),n("a-form-model-item",[n("button",{staticClass:"primary transfer-submit w100 large-primary mt20",attrs:{type:"button"},on:{click:e.withdraw}},[e._v(" Withdraw ")])])],1)],1):e._e()],1)],1)},se=[],le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spinning=!1,t.visibleTransfer=!1,t.isToken0=!0,t.currentToken=null,t.form={amount:""},t.formRules={amount:[{required:!0,message:"Please enter Amount",trigger:"change"},{validator:t.validateAmount,trigger:"change"}]},t}return(0,i.C6)(t,e),t.prototype.validateAmount=function(e,t,n){var a=Number(new(H())(this.currentToken.balance).minus(this.currentToken.fee).minus(t));t&&a<0?n("Insufficient ".concat(this.currentToken.symbol)):n()},t.prototype.withdraw=function(){var e=this;this.$refs.form.validate((function(t){return(0,i.sH)(e,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];this.spinning=!0,e=new(H())(this.form.amount).plus(this.currentToken.fee).times(Math.pow(10,Number(this.currentToken.decimals))).toString(10),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.currentICDexService.withdraw(this.identity,this.pairId,this.isToken0?[BigInt(e)]:[BigInt(0)],this.isToken0?[BigInt(0)]:[BigInt(e)])];case 2:return n=a.sent(),n&&n.length&&(0!==Number(n[0])||0!==Number(n[1]))?this.$message.success("Success"):this.$message.error("Error"),this.visibleTransfer=!1,this.$emit("withdrawSuccess",this.isToken0),[3,4];case 3:return a.sent(),[3,4];case 4:this.spinning=!1,a.label=5;case 5:return[2]}}))}))}))},t.prototype.init=function(e,t){return void 0===t&&(t=!0),(0,i.sH)(this,void 0,Promise,(function(){return(0,i.YH)(this,(function(n){return this.currentToken=e,this.visibleTransfer=!0,this.isToken0=t,this.DRC20TokenService=new X,this.currentICDexService=new I,[2]}))}))},t.prototype.changeWithdrawToken=function(e){void 0===e&&(e=!0),this.$emit("changeWithdrawToken",e)},t.prototype.setMaxBalance=function(){var e=new(H())(this.currentToken.balance).minus(this.currentToken.fee);new(H())(e).gt(0)?this.form.amount=e.toString(10):this.form.amount="0",this.$refs.form.validateField("amount",(function(){}))},t.prototype.afterClose=function(){this.$refs.form.resetFields()},(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"pairId",void 0),(0,i.Cg)([(0,o.kv)()],t.prototype,"identity",void 0),t=(0,i.Cg)([(0,o.uA)({name:"Index",components:{}})],t),t}(o.lD),ue=le,de=ue,pe=(0,k.A)(de,ce,se,!1,null,"28b30641",null),he=pe.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.currentToken?n("a-spin",{staticClass:"global-spinning",attrs:{type:"loading",spinning:e.spinning}},[n("a-modal",{staticClass:"transfer-modal",attrs:{centered:"",title:e.type+" "+e.currentToken.symbol,width:"550px",footer:null,keyboard:!1,maskClosable:!1,"after-close":e.afterClose,"z-index":1400},model:{value:e.visibleTransfer,callback:function(t){e.visibleTransfer=t},expression:"visibleTransfer"}},[n("a-form-model",{ref:"transferForm",attrs:{model:e.transferForm,rules:e.transferFormRules}},["Transfer"===e.type?n("a-form-model-item",{staticClass:"transfer-me-label",attrs:{colon:!1,prop:"to"}},[n("template",{slot:"label"},[n("span",[e._v("To:")])]),n("a-input",{attrs:{autocomplete:"off",placeholder:e.placeholder},model:{value:e.transferForm.to,callback:function(t){e.$set(e.transferForm,"to",t)},expression:"transferForm.to"}})],2):e._e(),n("a-form-model-item",{attrs:{label:"Amount",prop:"amount"}},[n("a-input",{directives:[{name:"only-float",rawName:"v-only-float",value:e.currentToken.decimals,expression:"currentToken.decimals"}],attrs:{autocomplete:"off",type:"text",min:"0",placeholder:"0.00"},model:{value:e.transferForm.amount,callback:function(t){e.$set(e.transferForm,"amount",t)},expression:"transferForm.amount"}})],1),n("div",{staticClass:"transfer-balance"},[n("div",{staticClass:"transfer-balance-left"},[n("p",[e._v(" Balance: "+e._s(e.currentToken.balance)+" "+e._s(e.currentToken.symbol)+" ")]),Number(e.fee)>0?n("p",[e._v(" Fee: "+e._s(e.fee)+" "+e._s(e.currentToken.symbol)+" ")]):e._e()]),n("div",{staticClass:"transfer-balance-right",on:{click:e.setMaxBalance}},[e._v("Max")])]),"drc20"===Object.keys(e.currentToken.tokenStd)[0]?n("a-form-model-item",{attrs:{label:"Data",prop:"data"}},[n("a-textarea",{attrs:{autocomplete:"off",placeholder:"Specifies hex format",autoSize:{minRows:2}},model:{value:e.transferForm.data,callback:function(t){e.$set(e.transferForm,"data",t)},expression:"transferForm.data"}})],1):e._e(),n("a-form-model-item",[n("button",{staticClass:"primary transfer-submit w100 large-primary",attrs:{type:"button"},on:{click:e.transfer}},[e._v(" "+e._s(e.type)+" ")])])],1)],1)],1):e._e()],1)},fe=[],me=function(e,t,n){t&&!(0,O.bY)(t)?n("invalid principal"):n()},ve=function(e,t,n){!t||(0,O.bY)(t)||(0,O.Sn)(t)?n():n("invalid principal Or Account")},xe=function(e,t,n){t&&!(0,O.Lo)(t)?n("Please enter hex format"):n()},be=n(62045)["hp"],ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spinning=!1,t.currentToken=null,t.visibleTransfer=!1,t.fee="0",t.tokenFee="0",t.placeholder="Principal Or Account",t.transferForm={to:"",amount:"",data:""},t.transferFormRules={to:[{required:!0,message:"Please enter Principal Or Account",trigger:"blur"},{validator:ve,trigger:"blur"}],amount:[{required:!0,message:"Please enter Amount",trigger:"change"},{validator:t.validateAmount,trigger:"change"}],data:[{validator:xe,trigger:"blur"}]},t}return(0,i.C6)(t,e),t.prototype.validateAmount=function(e,t,n){var a=Number(new(H())(this.currentToken.balance).minus(this.fee).minus(t));t&&a<0?n("Insufficient ".concat(this.currentToken.symbol)):n()},t.prototype.init=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t;return(0,i.YH)(this,(function(n){return this.currentToken=e,this.visibleTransfer=!0,this.DRC20TokenService=new X,this.ICDexService=new I,t=Object.keys(e.tokenStd)[0],"icrc1"===t||"icrc2"===t||"dip20"===t?(this.placeholder="Principal",this.transferFormRules={to:[{required:!0,message:"Please enter Principal",trigger:"change"},{validator:me,trigger:"change"}],amount:[{required:!0,message:"Please enter Amount",trigger:"change"},{validator:this.validateAmount,trigger:"change"}],data:[{validator:xe,trigger:"blur"}]}):(this.placeholder="Principal Or Account",this.transferFormRules={to:[{required:!0,message:"Please enter Principal Or Account",trigger:"blur"},{validator:ve,trigger:"blur"}],amount:[{required:!0,message:"Please enter Amount",trigger:"change"},{validator:this.validateAmount,trigger:"change"}],data:[{validator:xe,trigger:"blur"}]}),this.getGas(),[2]}))}))},t.prototype.getGas=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(t){return(this.currentToken.fee||"0"===this.currentToken.fee.toString())&&(this.fee=this.currentToken.fee,this.tokenFee=this.currentToken.fee,e=Object.keys(this.currentToken.tokenStd)[0],"drc20"!==e&&"icrc2"!==e||"Deposit"!==this.type?"Deposit"===this.type&&(this.fee=new(H())(this.fee).times(2).toString(10)):this.fee=new(H())(this.fee).times(3).toString(10)),[2]}))}))},t.prototype.setMaxBalance=function(){var e=new(H())(this.currentToken.balance).minus(this.fee);new(H())(e).gt(0)?this.transferForm.amount=e.toString(10):this.transferForm.amount="0",this.$refs.transferForm.validateField("amount")},t.prototype.transfer=function(){var e=this;this.$refs.transferForm.validate((function(t){return(0,i.sH)(e,void 0,void 0,(function(){var e,n,a,r,o,c,s,l;return(0,i.YH)(this,(function(i){switch(i.label){case 0:if(!t)return[3,10];this.spinning=!0,e=Object.keys(this.currentToken.tokenStd)[0],i.label=1;case 1:return i.trys.push([1,9,,10]),n=BigInt(new(H())(10).pow(this.currentToken.decimals.toString(10)).times(this.transferForm.amount.toString()).toString(10)),"drc20"!==e?[3,6]:(a=[],this.transferForm.data&&(a=[Array.from(be.from((0,y.aT)(this.transferForm.data)))]),"Deposit"!==this.type?[3,3]:[4,this.onApprove(n)]);case 2:return i.sent(),this.onDeposit(n),[3,5];case 3:return[4,this.DRC20TokenService.drc20_transfer(this.identity,this.transferForm.to,n,[],0,a,this.currentToken.canisterId.toString())];case 4:c=i.sent(),c.ok?"Transfer"===this.type&&(this.$message.success("Transfer Success"),this.visibleTransfer=!1):this.$message.error(c.err.message),i.label=5;case 5:return[3,8];case 6:return"icrc1"!==e&&"icrc2"!==e&&"icp"!==e?[3,8]:(r=(0,y.j_)(this.transferForm.to),r&&r.principal?(o={owner:p.p.fromText(r.principal),subaccount:r.subaccount?[(0,y.aT)(r.subaccount)]:[]},"Deposit"===this.type&&(n=BigInt(new(H())(n.toString(10)).plus(new(H())(this.tokenFee).times(Math.pow(10,Number(this.currentToken.decimals)))).toString(10))),[4,this.DRC20TokenService.icrc1Transfer(this.identity,this.currentToken.canisterId.toString(),n,o,[],[])]):[3,8]);case 7:c=i.sent(),c.Ok?("Transfer"===this.type&&(this.$message.success("Transfer Success"),this.visibleTransfer=!1),"Deposit"===this.type&&(s=n,"Deposit"===this.type&&(s=BigInt(new(H())(n.toString(10)).minus(new(H())(this.tokenFee).times(Math.pow(10,Number(this.currentToken.decimals)))).toString(10))),this.onDeposit(s))):(l=c.Err,this.$message.error(JSON.stringify(l,(function(e,t){return"bigint"===typeof t?t.toString(10):t})))),i.label=8;case 8:return[3,10];case 9:return i.sent(),this.spinning=!1,this.$message.error("Transfer fail"),[3,10];case 10:return[2]}}))}))}))},t.prototype.onApprove=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t,n,a;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,this.allowance()];case 1:return t=r.sent(),n=new(H())(e.toString(10)).div(Math.pow(10,this.currentToken.decimals)).plus(this.currentToken.fee).plus(this.currentToken.fee).times(Math.pow(10,this.currentToken.decimals)).toString(10),new(H())(t.toString(10)).lt(n)?(a=(0,y.Ah)(p.p.from(this.identity.getPrincipal().toString())),[4,this.approve(BigInt(n),a)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.allowance=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e=Object.keys(this.currentToken.tokenStd)[0],t=this.currentToken.canisterId,n=new X,this.identity?(a=(0,y.Ah)(p.p.fromText(this.identity.getPrincipal().toString())),"drc20"!==e?[3,2]:[4,n.drc20_allowance(this.identity,t,a,this.pairId)]):[3,4];case 1:return[2,i.sent()];case 2:return"icrc2"!==e?[3,4]:[4,n.icrc2_allowance(this.identity,t,{account:{owner:p.p.fromText(this.identity.getPrincipal().toString()),subaccount:[]},spender:{owner:p.p.fromText(this.pairId),subaccount:[]}})];case 3:return r=i.sent(),[2,r.allowance];case 4:return[2]}}))}))},t.prototype.approve=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a,r,o,c,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:if(!this.identity)return[2,!1];if(n=(0,y.Ah)(this.identity.getPrincipal()),n!==t)return[2,!1];if(a=p.p.fromText(this.pairId),r=new X,o=Object.keys(this.currentToken.tokenStd)[0],"icrc2"!==o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.icrc2_approve(this.identity,this.currentToken.canisterId,{owner:a,subaccount:[]},e)];case 2:return s=i.sent(),s.Ok?[2,!0]:(c=Object.keys(s.Err)[0],this.$message.error(c),[2,!1]);case 3:return i.sent(),[2,!1];case 4:return[3,8];case 5:return i.trys.push([5,7,,8]),[4,r.drc20Approve(this.identity,e,[],a.toString(),[],0,this.currentToken.canisterId)];case 6:return s=i.sent(),s.ok?[2,!0]:(this.$message.error(s.err.message),[2,!1]);case 7:return i.sent(),[2,!1];case 8:return[2]}}))}))},t.prototype.onDeposit=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t,n,a;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return t=this.isToken0?{token0:null}:{token1:null},n=(0,y.Ah)(this.identity.getPrincipal()),[4,this.deposit(n,this.pairId,t,e)];case 1:return a=r.sent(),"ErrAddress"===a?[2]:("ErrDeposit"===a||(this.spinning=!1,this.visibleTransfer=!1,this.$message.success("Deposit Success")),[2])}}))}))},t.prototype.deposit=function(e,t,n,a){return(0,i.sH)(this,void 0,Promise,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:if(!this.identity)return[2,"ErrAddress"];if(r=(0,y.Ah)(this.identity.getPrincipal()),r!==e)return[2,"ErrAddress"];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.ICDexService.deposit(this.identity,t,n,a)];case 2:return i.sent(),this.$emit("DepositSuccess"),[3,4];case 3:return o=i.sent(),this.$message.error(o),[2,"ErrDeposit"];case 4:return[2]}}))}))},t.prototype.afterClose=function(){this.$refs.transferForm.resetFields()},(0,i.Cg)([(0,o.kv)({type:String,default:"Transfer"})],t.prototype,"type",void 0),(0,i.Cg)([(0,o.kv)({type:String,default:""})],t.prototype,"pairId",void 0),(0,i.Cg)([(0,o.kv)({type:Boolean,default:!0})],t.prototype,"isToken0",void 0),(0,i.Cg)([(0,o.kv)()],t.prototype,"identity",void 0),t=(0,i.Cg)([(0,o.uA)({name:"Index",components:{}})],t),t}(o.lD),Ie=ye,Ne=Ie,_e=(0,k.A)(Ne,ge,fe,!1,null,"ae3dce9c",null),Pe=_e.exports,ke=function(e){if(e){if("bigint"===typeof e.fee)return e.fee.toString();if("string"===typeof e.fee)return e.fee;if(e.fee.token.toString())return e.fee.token.toString(10)}return"0"},Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t.prototype.getBinanceSymbol=function(e,t){if(t){var n=t[e];if(n)return{base:n.baseAsset,quote:n.quoteAsset}}return{base:"",quote:""}},t.prototype.getOrderStatus=function(e){return e?e.status:"Failed"},t.prototype.filterOrderVal=function(e){if(e){var t=8;return t>4&&new(H())(e).abs().gt(.001)&&(t=4),new(H())(e).decimalPlaces(t,1).toString(10)}return""},t.prototype.getBinancePrice=function(e,t,n){try{var a=void 0,r=void 0,i="0",o="0";if(n[e.strategy.mainExchangeId]===c.dj.Binance){var s=e.mainExchangeOrderInfo;i=s.executedQty,o=s.cummulativeQuoteQty;var l="";return new(H())(i).gt(0)&&new(H())(o).gt(0)?l=this.filterOrderVal(new(H())(o).div(i).toString(10)):new(H())(s.price).gt(0)&&(l=this.filterOrderVal(s.price)),a=this.getBinanceSymbol(s.symbol,t).base,r=this.getBinanceSymbol(s.symbol,t).quote,"1 ".concat(a," = ").concat(l," ").concat(r)}if(n[e.strategy.secondExchangeId]===c.dj.Binance){var u=e.strategy.secondExchangePair.split(",");if(u[0]&&!u[1]){e.secondExchangeOrderInfo.forEach((function(e){var t=e;i=new(H())(t.executedQty).plus(i).toString(10),o=new(H())(t.cummulativeQuoteQty).plus(o).toString(10)}));var d=t[u[0]];a=this.getBinanceSymbol(d.symbol,t).base,r=this.getBinanceSymbol(d.symbol,t).quote}else if(u[0]&&u[1]){e.secondExchangeOrderInfo.forEach((function(e){var t=e;t.symbol===u[0]&&(i=new(H())(t.executedQty).plus(i).toString(10)),t.symbol===u[1]&&(o=new(H())(t.executedQty).plus(o).toString(10))}));d=t[u[0]];var p=t[u[1]];a=this.getBinanceSymbol(d.symbol,t).base,r=this.getBinanceSymbol(p.symbol,t).base}if(e.strategy.invert){l=this.filterOrderVal(new(H())(i).div(o).toString(10));return"1 ".concat(r," = ").concat(l," ").concat(a)}l=this.filterOrderVal(new(H())(o).div(i).toString(10));return"1 ".concat(a," = ").concat(l," ").concat(r)}}catch(h){}return""},t.prototype.getICDexPrice=function(e,t,n){var a=this;try{if(e){if(n[e.strategy.mainExchangeId]===c.dj.ICDex){var r=e.mainExchangeOrderInfo,i=t[r.pairId],o=JSON.parse(i.token0Info),s=JSON.parse(i.token1Info),l=o.decimals,u=o.symbol,d=s.decimals,p=s.symbol,h=this.getICDexToken0ValueOrder(r,i);if(h&&h.price)return"1 ".concat(u," = ").concat(h.price," ").concat(p);if(h&&h.token0ValueOrder&&h.token1ValueOrder){var g=this.filterOrderVal(new(H())(h.token1ValueOrder).div(Math.pow(10,d)).times(Math.pow(10,l)).div(h.token0ValueOrder).toString(10));return"1 ".concat(u," = ").concat(g," ").concat(p)}}if(n[e.strategy.secondExchangeId]===c.dj.ICDex){u=void 0,p=void 0;var f="0",m="0",v=e.strategy.secondExchangePair.split(",");if(v[0]&&!v[1]){e.secondExchangeOrderInfo.forEach((function(e){var n=e,r=t[n.pairId],i=a.getICDexToken0ValueOrder(n,r);i&&i.token0ValueOrder&&i.token1ValueOrder&&(f=new(H())(i.token0ValueOrder).plus(f).toString(10),m=new(H())(i.token1ValueOrder).plus(m).toString(10))}));i=t[v[0]],o=JSON.parse(i.token0Info),s=JSON.parse(i.token1Info);u=o.symbol,p=s.symbol}else if(v[0]&&v[1]){e.secondExchangeOrderInfo.forEach((function(e){var n=e,r=t[n.pairId],i=a.getICDexToken0ValueOrder(n,r);i.token0ValueOrder&&(n.pairId===v[0]&&(f=new(H())(i.token0ValueOrder).plus(f).toString(10)),n.pairId===v[1]&&(m=new(H())(i.token0ValueOrder).plus(m).toString(10)))}));i=t[v[0]],o=JSON.parse(i.token0Info);var x=t[v[1]],b=JSON.parse(x.token0Info);u=o.symbol,p=b.symbol}if(e.strategy.invert){g=this.filterOrderVal(new(H())(f).div(m).toString(10));return"1 ".concat(p," = ").concat(g," ").concat(u)}g=this.filterOrderVal(new(H())(m).div(f).toString(10));return"1 ".concat(u," = ").concat(g," ").concat(p)}}}catch(y){}return""},t.prototype.getICDexToken0ValueOrder=function(e,t){var n=this.filterSide(e,c.dj.ICDex),a="0",r="0";if("Completed"===e.status){var i=JSON.parse(e.filled),o=JSON.parse(e.origOrder);!i.token1Value.CreditRecord&&o.token0Value.length&&o.token1Value.length?"Buy"===n?(a=o.token0Value[0].CreditRecord.toString(10),r=o.token1Value[0].DebitRecord.toString(10)):(a=o.token0Value[0].DebitRecord.toString(10),r=o.token1Value[0].CreditRecord.toString(10)):"Buy"===n?(a=i.token0Value.CreditRecord.toString(10),r=i.token1Value.DebitRecord.toString(10)):(a=i.token0Value.DebitRecord.toString(10),r=i.token1Value.CreditRecord.toString(10))}else{i=JSON.parse(e.filled);var s=JSON.parse(e.orderPrice);if("Pending"===e.status&&!i.length){var l=this.filterOrderVal(new(H())(this.getPendingPrice(s,t)).toString(10));return{token0ValueOrder:a,token1ValueOrder:r,price:l}}"Buy"===n?(i.forEach((function(e){a=new(H())(e.token0Value.CreditRecord.toString(10)).plus(a).toString(10)})),i.forEach((function(e){r=new(H())(e.token1Value.DebitRecord.toString(10)).plus(r).toString(10)}))):(i.forEach((function(e){a=new(H())(e.token0Value.DebitRecord.toString(10)).plus(a).toString(10)})),i.forEach((function(e){r=new(H())(e.token1Value.CreditRecord.toString(10)).plus(r).toString(10)})))}return{token0ValueOrder:a,token1ValueOrder:r,price:""}},t.prototype.getBuyToken0Binance=function(e,t){try{if(e){var n=e;if(t&&t.token0)return t.token0.toString(10);if(t&&t.token1){var a="0",r="0";if(n.fills)for(var i=JSON.parse(n.fills)||[],o=0;o<i.length;o++){var c=new(H())(i[o].qty).times(i[o].price).toString(10);new(H())(t.token1).gt(r)?(a=new(H())(i[o].qty).plus(a).toString(10),r=new(H())(c).plus(r).toString(10)):a=new(H())(t.token1).minus(r).div(c).times(i[o].qty).plus(a).toString(10)}return a}return"FILLED"!==n.status?new(H())(n.origQty).toString(10):new(H())(n.executedQty).toString(10)}}catch(s){}return""},t.prototype.getBuyToken0=function(e,t,n){try{if(e){var a=e;if(t&&t.token0)return t.token0.toString(10);var r=n[a.pairId],i=JSON.parse(r.token0Info),o=JSON.parse(r.token1Info),c=i.decimals,s=o.decimals;if("Completed"===a.status){var l=JSON.parse(a.filled),u=JSON.parse(a.origOrder);if(!l.token0Value.CreditRecord&&u.token0Value.length)return new(H())(u.token0Value[0].CreditRecord.toString(10)).div(Math.pow(10,c)).toString(10);if(t&&t.token1){for(var d="0",p="0",h=JSON.parse(a.details),g=0;g<h.length;g++){var f=h[g],m=new(H())(f.token0Value.CreditRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.DebitRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token1).gt(p)?(d=new(H())(m).plus(d).toString(10),p=new(H())(v).plus(p).toString(10)):d=new(H())(t.token1).minus(p).div(v).times(m).plus(d).toString(10)}return d}return new(H())(l.token0Value.CreditRecord.toString(10)).div(Math.pow(10,c)).toString(10)}l=JSON.parse(a.filled);if(t&&t.token1){for(d="0",p="0",g=0;g<l.length;g++){f=l[g],m=new(H())(f.token0Value.CreditRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.DebitRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token1).gt(p)?(d=new(H())(m).plus(d).toString(10),p=new(H())(v).plus(p).toString(10)):d=new(H())(t.token1).minus(p).div(v).times(m).plus(d).toString(10)}return d}var x="0";if(l.forEach((function(e){x=new(H())(e.token0Value.CreditRecord.toString(10)).div(Math.pow(10,c)).plus(x).toString(10)})),"Pending"!==e.status||l.length)return x;var b=JSON.parse(a.orderPrice);return this.getPendingToken0(b,c)}}catch(y){}return""},t.prototype.getBuyToken1Binance=function(e,t){try{if(e){var n=e;if(t&&t.token0){var a="0",r="0";if(n.fills)for(var i=JSON.parse(n.fills)||[],o=0;o<i.length;o++){var c=new(H())(i[o].qty).times(i[o].price).toString(10);new(H())(t.token0).gt(a)?(a=new(H())(i[o].qty).plus(a).toString(10),r=new(H())(c).plus(r).toString(10)):r=new(H())(t.token0).minus(a).div(i[o].qty).times(c).plus(r).toString(10)}return r}return"FILLED"!==n.status?new(H())(n.origQty).times(n.price).toString(10):n.cummulativeQuoteQty}}catch(s){}return""},t.prototype.getBuyToken1=function(e,t,n){try{if(e){var a=e,r=n[a.pairId],i=JSON.parse(r.token0Info),o=JSON.parse(r.token1Info),c=i.decimals,s=o.decimals;if("Completed"===a.status){var l=JSON.parse(a.filled),u=JSON.parse(a.origOrder);if(!l.token1Value.DebitRecord&&u.token1Value.length)return new(H())(u.token1Value[0].DebitRecord.toString(10)).div(Math.pow(10,s)).toString(10);if(t&&t.token0){for(var d="0",p="0",h=JSON.parse(a.details),g=0;g<h.length;g++){var f=h[g],m=new(H())(f.token0Value.CreditRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.DebitRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token0).gt(p)?(p=new(H())(m).plus(p).toString(10),d=new(H())(v).plus(d).toString(10)):d=new(H())(t.token0).minus(p).div(m).times(v).plus(d).toString(10)}return d}return new(H())(l.token1Value.DebitRecord.toString(10)).div(Math.pow(10,s)).toString(10)}l=JSON.parse(a.filled);if(t&&t.token0){for(d="0",p="0",g=0;g<l.length;g++){f=l[g],m=new(H())(f.token0Value.CreditRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.DebitRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token0).gt(p)?(p=new(H())(m).plus(p).toString(10),d=new(H())(v).plus(d).toString(10)):d=new(H())(t.token0).minus(p).div(m).times(v).plus(d).toString(10)}return d}var x="0";if(l.forEach((function(e){x=new(H())(e.token1Value.DebitRecord.toString(10)).div(Math.pow(10,s)).plus(x).toString(10)})),"Pending"!==e.status||l.length)return x;var b=JSON.parse(a.orderPrice);return this.getPendingToken1Total(b,r,c)}}catch(y){}return""},t.prototype.getSellToken1Binance=function(e,t){try{if(e){var n=e;if(t&&t.token1)return t.token1.toString(10);if(t&&t.token0){var a="0",r="0";if(n.fills)for(var i=JSON.parse(n.fills)||[],o=0;o<i.length;o++){var c=new(H())(i[o].qty).times(i[o].price).toString(10);new(H())(t.token0).gt(r)?(r=new(H())(i[o].qty).plus(r).toString(10),a=new(H())(c).plus(a).toString(10)):a=new(H())(t.token0).minus(r).div(i[o].qty).times(c).plus(a).toString(10)}return a}return"FILLED"!==n.status?new(H())(n.origQty).times(n.price).toString(10):n.cummulativeQuoteQty}}catch(s){}return""},t.prototype.getSellToken1=function(e,t,n){try{if(e){var a=e,r=n[a.pairId],i=JSON.parse(r.token0Info),o=JSON.parse(r.token1Info),c=i.decimals,s=o.decimals;if(t&&t.token1)return t.token1.toString(10);if("Completed"===a.status){var l=JSON.parse(a.filled),u=JSON.parse(a.origOrder);if(!l.token1Value.CreditRecord&&u.token1Value.length)return new(H())(u.token1Value[0].CreditRecord.toString(10)).div(Math.pow(10,s)).toString(10);if(t&&t.token0){for(var d="0",p="0",h=JSON.parse(a.details),g=0;g<h.length;g++){var f=h[g],m=new(H())(f.token0Value.DebitRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.CreditRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token0).gt(p)?(p=new(H())(m).plus(p).toString(10),d=new(H())(v).plus(d).toString(10)):d=new(H())(t.token0).minus(p).div(m).times(v).plus(d).toString(10)}return d}return new(H())(l.token1Value.CreditRecord.toString(10)).div(Math.pow(10,s)).toString(10)}l=JSON.parse(a.filled);if(t&&t.token0){for(d="0",p="0",g=0;g<l.length;g++){f=l[g],m=new(H())(f.token0Value.DebitRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.CreditRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token0).gt(p)?(p=new(H())(m).plus(p).toString(10),d=new(H())(v).plus(d).toString(10)):d=new(H())(t.token0).minus(p).div(m).times(v).plus(d).toString(10)}return d}var x="0";if(l.forEach((function(e){x=new(H())(e.token1Value.CreditRecord.toString(10)).div(Math.pow(10,s)).plus(x).toString(10)})),"Pending"!==e.status||l.length)return x;var b=JSON.parse(a.orderPrice);return this.getPendingToken1Total(b,r,c)}}catch(y){}return""},t.prototype.getSellToken0Binance=function(e,t){try{if(e){var n=e;if(t&&t.token1){var a="0",r="0";if(n.fills)for(var i=JSON.parse(n.fills)||[],o=0;o<i.length;o++){var c=new(H())(i[o].qty).times(i[o].price).toString(10);new(H())(t.token1).gt(r)?(a=new(H())(i[o].qty).plus(a).toString(10),r=new(H())(c).plus(r).toString(10)):a=new(H())(t.token1).minus(r).div(c).times(i[o].qty).plus(a).toString(10)}return a}return"FILLED"!==n.status?new(H())(n.origQty).toString(10):new(H())(n.executedQty).toString(10)}}catch(s){}return""},t.prototype.getSellToken0=function(e,t,n){try{if(e){var a=e,r=n[a.pairId],i=JSON.parse(r.token0Info),o=JSON.parse(r.token1Info),c=i.decimals,s=o.decimals;if("Completed"===a.status){var l=JSON.parse(a.filled),u=JSON.parse(a.origOrder);if(!l.token0Value.DebitRecord&&u.token0Value.length)return new(H())(u.token0Value[0].DebitRecord.toString(10)).div(Math.pow(10,c)).toString(10);if(t&&t.token1){for(var d="0",p="0",h=JSON.parse(a.details),g=0;g<h.length;g++){var f=h[g],m=new(H())(f.token0Value.DebitRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.CreditRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token1).gt(p)?(d=new(H())(m).plus(d).toString(10),p=new(H())(v).plus(p).toString(10)):d=new(H())(t.token1).minus(p).div(v).times(m).plus(d).toString(10)}return d}return new(H())(l.token0Value.DebitRecord.toString(10)).div(Math.pow(10,c)).toString(10)}l=JSON.parse(a.filled);if(t&&t.token1){for(d="0",p="0",g=0;g<l.length;g++){f=l[g],m=new(H())(f.token0Value.DebitRecord.toString(10)).div(Math.pow(10,c)).toString(10),v=new(H())(f.token1Value.CreditRecord.toString(10)).div(Math.pow(10,s)).toString(10);new(H())(t.token1).gt(p)?(d=new(H())(m).plus(d).toString(10),p=new(H())(v).plus(p).toString(10)):d=new(H())(t.token1).minus(p).div(v).times(m).plus(d).toString(10)}return d}var x="0";if(l.forEach((function(e){x=new(H())(e.token0Value.DebitRecord.toString(10)).div(Math.pow(10,c)).plus(x).toString(10)})),"Pending"!==e.status||l.length)return x;var b=JSON.parse(a.orderPrice);return this.getPendingToken0(b,c)}}catch(y){}return""},t.prototype.getPendingToken0=function(e,t){var n,a=e.quantity;return n=a.Buy?a.Buy[0]:a.Sell,new(H())(n.toString(10)).div(Math.pow(10,t)).toString(10)},t.prototype.getPendingToken1Total=function(e,t,n){var a=this.getPendingToken0(e,n),r=this.getPendingPrice(e,t);return new(H())(a).times(r).toString(10)},t.prototype.getPendingPrice=function(e,t){var n=JSON.parse(t.token0Info),a=JSON.parse(t.token1Info),r=n.decimals,i=a.decimals,o=JSON.parse(t.setting);return new(H())(e.price.toString(10)).div(Math.pow(10,i)).div(new(H())(o.UNIT_SIZE).div(Math.pow(10,r))).toString(10)},t.prototype.filterSide=function(e,t){if(t===c.dj.ICDex){if("None"===e.status)return"Failed";if("Completed"===e.status){var n=JSON.parse(e.origOrder);if(n&&n.token0Value&&n.token0Value.length){var a=Object.keys(n.token0Value[0])[0];return"DebitRecord"===a?"Sell":"Buy"}if(n&&n.token1Value&&n.token1Value.length){a=Object.keys(n.token1Value[0])[0];return"DebitRecord"===a?"Buy":"Sell"}}else{var r=JSON.parse(e.orderPrice);if(r&&r.quantity){var i=r.quantity;return i.Buy?"Buy":"Sell"}}}else if(t===c.dj.Binance)return"BUY"===e.side?"Buy":"Sell"},t.prototype.getEarnings=function(e,t,n){var a=this;try{if(!e.secondExchangeOrderInfo.length)return"-";var r=this.filterSide(e.mainExchangeOrderInfo,t[e.strategy.mainExchangeId]);if(t[e.strategy.mainExchangeId]===c.dj.ICDex){var i=n[e.strategy.mainExchangePair],o=JSON.parse(i.token0Info),s=JSON.parse(i.token1Info);if("Buy"===r){var l=this.getBuyToken1(e.mainExchangeOrderInfo,e.balanceChangesFilled,n),u="0";if(t[e.strategy.secondExchangeId]===c.dj.Binance)if(0===e.strategy.invert){var d=e.strategy.secondExchangePair.split(",");d&&d.length&&!d[1]?e.secondExchangeOrderInfo.forEach((function(e){var t=e;t.symbol===d[0]&&(u=new(H())(t.cummulativeQuoteQty).plus(u).toString(10))})):d&&d.length&&d[1]&&e.secondExchangeOrderInfo.forEach((function(e){var t=e;t.symbol===d[1]&&(u=new(H())(t.executedQty).plus(u).toString(10))}))}else 1===e.strategy.invert&&e.secondExchangeOrderInfo.forEach((function(t){var n=t;n.symbol===e.strategy.secondExchangePair&&(u=new(H())(n.executedQty).plus(u).toString(10))}));return this.filterOrderVal(new(H())(u).minus(l).toString(10))+" "+s.symbol}var p=this.getSellToken0(e.mainExchangeOrderInfo,e.balanceChangesFilled,n),h="0";if(t[e.strategy.secondExchangeId]===c.dj.Binance){var g=e.strategy.secondExchangePair.split(",");0===e.strategy.invert?g&&g.length&&!g[1]?e.secondExchangeOrderInfo.forEach((function(e){var t=e;t.symbol===g[0]&&(h=new(H())(t.executedQty).plus(h).toString(10))})):g&&g.length&&g[1]&&e.secondExchangeOrderInfo.forEach((function(e){var t=e;t.symbol===g[1]&&(h=new(H())(t.executedQty).plus(h).toString(10))})):1===e.strategy.invert&&e.secondExchangeOrderInfo.forEach((function(t){var n=t;n.symbol===e.strategy.secondExchangePair&&(h=new(H())(n.cummulativeQuoteQty).plus(h).toString(10))}))}return this.filterOrderVal(new(H())(h).minus(p).toString(10))+" "+o.symbol}if(t[e.strategy.mainExchangeId]===c.dj.Binance){var f=e.mainExchangeOrderInfo,m=n[e.strategy.mainExchangePair];if("BUY"===f.side){l=f.cummulativeQuoteQty;var v="0";if(t[e.strategy.secondExchangeId]===c.dj.ICDex)if(0===e.strategy.invert){var x=e.strategy.secondExchangePair.split(",");x&&x.length&&!x[1]?e.secondExchangeOrderInfo.forEach((function(e){var t=e;if(t.pairId===x[0]){var r=a.getSellToken1(t,{token0:0,token1:0},n);v=new(H())(r).plus(v).toString(10)}})):x&&x.length&&x[1]&&e.secondExchangeOrderInfo.forEach((function(e){var t=e;if(t.pairId===x[1]){var r=a.getBuyToken0(t,{token0:0,token1:0},n);v=new(H())(r).plus(v).toString(10)}}))}else 1===e.strategy.invert&&e.secondExchangeOrderInfo.forEach((function(t){var r=t;if(r.pairId===e.strategy.secondExchangePair){var i=a.getBuyToken0(r,{token0:0,token1:0},n);v=new(H())(i).plus(v).toString(10)}}));return this.filterOrderVal(new(H())(v).minus(l).toString(10))+" "+m.quoteAsset}p=f.executedQty;var b="0";if(t[e.strategy.secondExchangeId]===c.dj.ICDex){var y=e.strategy.secondExchangePair.split(",");0===e.strategy.invert?y&&y.length&&!y[1]?e.secondExchangeOrderInfo.forEach((function(e){var t=e;if(t.pairId===y[0]){var r=a.getBuyToken0(t,{token0:0,token1:0},n);b=new(H())(r).plus(b).toString(10)}})):y&&y.length&&y[1]&&e.secondExchangeOrderInfo.forEach((function(e){var t=e;if(t.pairId===y[1]){var r=a.getBuyToken0(t,{token0:0,token1:0},n);b=new(H())(r).plus(b).toString(10)}})):1===e.strategy.invert&&e.secondExchangeOrderInfo.forEach((function(t){var r=t;if(r.pairId===e.strategy.secondExchangePair){var i=a.getSellToken1(r,{token0:0,token1:0},n);b=new(H())(i).plus(b).toString(10)}}))}return this.filterOrderVal(new(H())(b).minus(p).toString(10))+" "+m.baseAsset}}catch(I){}return""},t.prototype.filterOrderStatus=function(e,t){if(e&&t)if(t[e.strategy.mainExchangeId]===c.dj.ICDex){if(e.mainExchangeOrderInfo){var n=e.mainExchangeOrderInfo,a=JSON.parse(n.filled);return a&&a.length&&n.tradingStatus&&("Cancelled"===n.tradingStatus||"Closed"===n.tradingStatus||"Completed"===n.tradingStatus)?"Completed":n.tradingStatus&&"Cancelled"===n.tradingStatus?"Cancelled":n.status}}else if(t[e.strategy.mainExchangeId]===c.dj.Binance){n=e.mainExchangeOrderInfo;var r=["NEW","PENDING_NEW"];return r.includes(n.status)?"Pending":"FILLED"===n.status||"CANCELED"===n.status&&Number(n.executedQty)?"Completed":"Cancelled"}return""},t=(0,i.Cg)([(0,o.uA)({})],t),t}(o.lD),Te=n(40377),we=n(91250),Se=5e3,Oe=!1,Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rateLimitTime=0,t.timer=null,t.spinningConfig=!1,t.spinningExchange=!1,t.spinningOrders=!1,t.spinningOrdersError=!1,t.robots=[],t.robotError=null,t.robotPairInfo={},t.robotDepth={},t.robotStats={},t.robotBalance={},t.robotICDexLocalBalance={},t.refreshBinanceBalanceLoading=!1,t.refreshBalanceLoading=!1,t.refreshBalanceTraderAccountLoading=!1,t.isToken0=!1,t.currentToken=null,t.currentPair=null,t.currentIdentity=null,t.page=1,t.pageSize=10,t.total=0,t.robotType=[],t.robotTypeName={},t.visible=!1,t.visibleErrors=!1,t.title="Add Robot",t.visibleView=!1,t.titleView="",t.viewRobot=null,t.type="Add",t.disabledType=!1,t.selectedType={id:void 0},t.exchanges=[],t.mainExchanges=[],t.secondExchanges=[],t.exchange={},t.mainPairId=null,t.mainPairInfo=null,t.secondPairId=null,t.secondPairInfo=null,t.secondPairIdTwo=null,t.secondPairTwoInfo=null,t.ICDexAccounts=[],t.BinanceAccounts=[],t.robotAccounts={},t.disabledSelectedExchange=!0,t.disabledSelectedMainExchange=!1,t.invert=0,t.orders=[],t.pageOrder=1,t.pageSizeOrder=10,t.totalOrder=0,t.ordersError=[],t.pageOrderError=1,t.pageSizeOrderError=10,t.totalOrderError=0,t.configForm={orderAmount:"",interval:"",arbitrage:!1,unilateral:!1},t.configFormRules={orderAmount:[{required:!0,message:"Please enter order amount.",trigger:["blur","change"]},{validator:t.validateAmountToken0,trigger:["blur","change"]}],interval:[{required:!0,message:"Please enter interval",trigger:["blur","change"]}]},t.configFormMaker={token1Amount:"",gridSpread:"1",minimumProfit:"",minimumPriceFluctuation:""},t.configFormMakerRules={token1Amount:[{required:!0,message:"Please enter amount per maker",trigger:["blur","change"]},{validator:t.validateAmountToken1,trigger:["blur","change"]}],minimumProfit:[{required:!0,message:"Please enter minimumProfit",trigger:["blur","change"]},{validator:t.validateMinimumProfit,trigger:["blur","change"]}],minimumPriceFluctuation:[{required:!0,message:"Please enter minimumProfit",trigger:["blur","change"]},{validator:t.validateMinimumPriceFluctuation,trigger:["blur","change"]}]},t.ICDexPairs=[],t.binancePairs=null,t.tokenInfo={},t.eventSourceTrade=null,t.eventSourceError=null,t.filterRobot={id:"all"},t}return(0,i.C6)(t,e),t.prototype.validateMinimumProfit=function(e,t,n){t&&t&&new(H())(t).lt(.01)?n("minimum profit must be greater than than ".concat(.01)):n()},t.prototype.validateMinimumPriceFluctuation=function(e,t,n){if(this.configFormMaker.minimumProfit){var a=new(H())(this.configFormMaker.minimumProfit).times(.6).decimalPlaces(3,1).toString(10),r=new(H())(this.configFormMaker.minimumProfit).times(.2).decimalPlaces(3,1).toString(10);t&&(new(H())(t).gt(a)||new(H())(t).lt(r))?n("The price % change should be between ".concat(r," and ").concat(a,".")):n()}else n()},t.prototype.validateAmountToken1=function(e,t,n){if(this.invert&&"Binance"===this.exchange[this.secondExchangeId]){var a=new(H())(this.token0MinQty).times(2).toString(10);this.mainPairInfo&&this.token0MinQty&&t&&new(H())(t).lt(a)?n("Min amount is ".concat(a," ").concat(this.configToken1)):n()}else{var r=new(H())(this.token1MinQty).times(2).toString(10);this.mainPairInfo&&this.token1MinQty&&t&&new(H())(t).lt(r)?n("Min amount is ".concat(r," ").concat(this.configToken1)):n()}},Object.defineProperty(t.prototype,"token0MinQty",{get:function(){var e="0";if(this.mainPairInfo&&this.secondPairInfo){if(this.exchange[this.mainExchangeId]===c.dj.Binance){var t=this.mainPairInfo;t.filters.forEach((function(t){"LOT_SIZE"===t.filterType&&(e=t.minQty)}))}if(this.exchange[this.secondExchangeId]===c.dj.Binance){t=this.secondPairInfo;t.filters.forEach((function(t){"LOT_SIZE"===t.filterType&&(e=t.minQty)}))}return Number(e)}return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token1MinQty",{get:function(){var e="0";if(this.mainPairInfo&&this.secondPairInfo){if(this.exchange[this.mainExchangeId]===c.dj.Binance){var t=this.mainPairInfo;t.filters.forEach((function(t){"NOTIONAL"===t.filterType&&(e=t.minNotional)}))}if(this.exchange[this.secondExchangeId]===c.dj.Binance){t=this.secondPairInfo;t.filters.forEach((function(t){"NOTIONAL"===t.filterType&&(e=t.minNotional)}))}return Number(e)}return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token0Unit",{get:function(){var e=8,t=8;if(this.mainPairInfo&&this.secondPairInfo){if(this.exchange[this.mainExchangeId]===c.dj.ICDex){var n=this.mainPairInfo,a=n.token0[0].toString();if(this.tokenInfo[a]||n.token0Info){var r=this.tokenInfo[a]||n.token0Info,i=n.setting.UNIT_SIZE.toString().length-1;e=r.decimals>i?r.decimals-i:0}}else this.exchange[this.mainExchangeId]===c.dj.Binance&&(e=this.mainPairInfo.baseAssetPrecision);if(this.exchange[this.secondExchangeId]===c.dj.ICDex){n=this.secondPairInfo;if(this.invert){var o=n.token1[0].toString();if(this.tokenInfo[o]||n.token1Info){var s=this.tokenInfo[o]||n.token1Info;t=s.decimals}}else{a=n.token0[0].toString();if(this.tokenInfo[a]||n.token0Info){r=this.tokenInfo[a]||n.token0Info,i=n.setting.UNIT_SIZE.toString().length-1;t=r.decimals>i?r.decimals-i:0}}}else this.exchange[this.secondExchangeId]===c.dj.Binance&&(t=this.invert?this.secondPairInfo.quoteAssetPrecision:this.secondPairInfo.baseAssetPrecision);return Math.min(e,t)}return 8},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token1Unit",{get:function(){var e=8,t=8;if(this.mainPairInfo&&this.secondPairInfo){if(this.exchange[this.mainExchangeId]===c.dj.ICDex){var n=this.mainPairInfo;if(this.tokenInfo[n.token1[0].toString()]||n.token1Info){var a=this.tokenInfo[n.token1[0].toString()]||n.token1Info;e=a.decimals}}if(this.exchange[this.mainExchangeId]===c.dj.Binance){n=this.mainPairInfo;e=n.quoteAssetPrecision}if(this.secondPairTwoInfo){if(this.exchange[this.secondExchangeId]===c.dj.Binance){n=this.secondPairTwoInfo;t=this.invert?n.quoteAssetPrecision:n.baseAssetPrecision}if(this.exchange[this.secondExchangeId]===c.dj.ICDex){n=this.secondPairTwoInfo;if(this.invert){r=n.token0[0].toString();if(this.tokenInfo[r]||n.token0Info){i=this.tokenInfo[r]||n.token0Info,o=n.setting.UNIT_SIZE.toString().length-1;e=i.decimals>o?i.decimals-o:0}}else if(this.tokenInfo[n.token0[0].toString()]||n.token0Info){i=this.tokenInfo[n.token0[0].toString()]||n.token0Info;e=i.decimals}}}else{if(this.exchange[this.secondExchangeId]===c.dj.Binance){var n=this.secondPairInfo;t=this.invert?n.baseAssetPrecision:n.quoteAssetPrecision}if(this.exchange[this.secondExchangeId]===c.dj.ICDex){var n=this.secondPairInfo;if(this.invert){var r=n.token0[0].toString();if(this.tokenInfo[r]||n.token0Info){var i=this.tokenInfo[r]||n.token0Info,o=n.setting.UNIT_SIZE.toString().length-1;e=i.decimals>o?i.decimals-o:0}}else if(this.tokenInfo[n.token1[0].toString()]){a=this.tokenInfo[n.token1[0].toString()]||n.token1Info;e=a.decimals}}}}return Math.min(e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configToken1",{get:function(){if(this.mainPairInfo){if(this.exchange[this.mainExchangeId]===c.dj.ICDex)return this.mainPairInfo.token1[1];if(this.exchange[this.mainExchangeId]===c.dj.Binance)return this.mainPairInfo.quoteAsset}return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerToken0",{get:function(){if(this.mainPairInfo){if(this.exchange[this.mainExchangeId]===c.dj.ICDex)return this.mainPairInfo.token0[1];if(this.exchange[this.mainExchangeId]===c.dj.Binance)return this.mainPairInfo.baseAsset}return""},enumerable:!1,configurable:!0}),t.prototype.beforeDestroy=function(){window.clearTimeout(this.timer),this.timer=null,this.closeEvent()},t.prototype.mounted=function(){var e=this;window.addEventListener("beforeunload",(function(){e.closeEvent()}))},t.prototype.beforeUnmount=function(){this.closeEvent()},t.prototype.closeEvent=function(){try{this.eventSourceTrade&&this.eventSourceTrade.close(),this.eventSourceError&&this.eventSourceError.close()}catch(e){}},t.prototype.created=function(){this.ICDexService=new I,this.getExchanges(),this.getRobotType()},t.prototype.validateAmountToken0=function(e,t,n){if(this.invert&&"Binance"===this.exchange[this.secondExchangeId]){var a=new(H())(this.token1MinQty).times(2).toString(10),r=new(H())(1).div(Math.pow(10,this.token1Unit)).times(2).toString(10);new(H())(a).lt(r)&&(a=r),this.mainPairInfo&&this.token1MinQty&&t&&new(H())(t).lt(a)?n("Min amount is ".concat(a," ").concat(this.timerToken0)):n()}else{var i=new(H())(this.token0MinQty).times(2).toString(10);r=new(H())(1).div(Math.pow(10,this.token0Unit)).times(2).toString(10);new(H())(i).lt(r)&&(i=r),this.mainPairInfo&&this.token0MinQty&&t&&new(H())(t).lt(i)?n("Min amount is ".concat(i," ").concat(this.timerToken0)):n()}},t.prototype.infoInterval=function(){var e=this;window.clearTimeout(this.timer),this.timer=null,this.timer=window.setTimeout((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e,t,n;return(0,i.YH)(this,(function(a){for(t in this.getExchanges(),this.robotICDexLocalBalance)for(e in this.robotICDexLocalBalance[t])this.getLocalTokenBalance(t,e,this.tokenInfo[e]);for(t in this.robotBalance)if(!Array.isArray(this.robotBalance[t]))for(n in this.robotBalance[t])this.getAccountBalance(n,t);return[2]}))}))}),6e4)},t.prototype.verify=function(){if(!this.selectedType.id)return this.$message.error("Please select robot type"),!1;if(!this.mainExchangeId)return this.$message.error("Please select main exchange"),!1;if(!this.mainPairInfo)return this.$message.error("Please select main exchange pair"),!1;if(!this.mainAccount)return this.$message.error("Please select main exchange account"),!1;if(!this.mainFee)return this.$message.error("Please enter main exchange fee"),!1;if(!this.secondExchangeId)return this.$message.error("Please select second exchange"),!1;if(!this.secondPairInfo)return this.$message.error("Please select second exchange pair"),!1;if(!this.secondAccount)return this.$message.error("Please select second exchange account"),!1;if(!this.secondFee)return this.$message.error("Please enter second exchange fee"),!1;if("Add"===this.type)if(this.exchange[this.mainExchangeId]===c.dj.ICDex){var e=this.mainPairInfo,t=this.tokenInfo[e.token0[0].toString()]||e.token0Info,n=this.tokenInfo[e.token1[0].toString()]||e.token1Info,a=t.symbol,r=n.symbol,i=a.replace(/^(ck|ic)/,"").toLocaleUpperCase(),o=r.replace(/^(ck|ic)/,"").toLocaleUpperCase(),s="".concat(i).concat(o);if(this.exchange[this.secondExchangeId]===c.dj.Binance){var l="",u=this.secondPairInfo,d=this.secondPairTwoInfo;if(this.secondPairTwoInfo){if(l="".concat(u.baseAsset).concat(d.baseAsset),this.secondPairTwoInfo){var p=u.quoteAsset,h=d.quoteAsset,g=/(USDT|USDC|BTC|ETH)$/i;if(!g.test(p)||!g.test(h))return void this.$message.error("The quotes of the pairs must be USDT or USDC or BTC or ETH");if(p.endsWith("USDT")&&!h.endsWith("USDT")||p.endsWith("USDC")&&!h.endsWith("USDC")||p.endsWith("BTC")&&!h.endsWith("BTC")||p.endsWith("ETH")&&!h.endsWith("ETH"))return this.$message.error("The quotes of the pairs must be the same"),!1}}else l=u.symbol;if(s!==l){var f=this;return this.$confirm({content:"You may have populated an unrelated pair. Are you sure you want to add strategy?",class:"connect-plug message-info",centered:!0,okText:"Confirm",onOk:function(){f.robotTypeName[f.selectedType.id]===c.wv.Timer?f.confirmTimer():f.robotTypeName[f.selectedType.id]===c.wv.Maker&&f.confirmMaker()}}),!1}}}else if(this.exchange[this.mainExchangeId]===c.dj.Binance){e=this.mainPairInfo,s=e.symbol;if(this.exchange[this.secondExchangeId]===c.dj.ICDex){l="",u=this.secondPairInfo,d=this.secondPairTwoInfo;if(this.secondPairTwoInfo){if(l="".concat(u.token0[1].replace(/^(ck|ic)/,"").toLocaleUpperCase()).concat(d.token0[1].replace(/^(ck|ic)/,"").toLocaleUpperCase()),this.secondPairTwoInfo){p=u.token1[1].replace(/^(ck|ic)/,"").toLocaleUpperCase(),h=d.token1[1].replace(/^(ck|ic)/,"").toLocaleUpperCase(),g=/(USDT|USDC|BTC|ETH)$/i;if(!g.test(p)||!g.test(h))return void this.$message.error("The quotes of the pairs must be USDT or USDC or BTC or ETH");if(p.endsWith("USDT")&&!h.endsWith("USDT")||p.endsWith("USDC")&&!h.endsWith("USDC")||p.endsWith("BTC")&&!h.endsWith("BTC")||p.endsWith("ETH")&&!h.endsWith("ETH"))return this.$message.error("The quotes of the pairs must be the same"),!1}}else l="".concat(u.token0[1].replace(/^(ck|ic)/,"").toLocaleUpperCase()).concat(u.token1[1].replace(/^(ck|ic)/,"").toLocaleUpperCase());if(s!==l){var m=this;return this.$confirm({content:"You may have populated an unrelated pair. Are you sure you want to add strategy?",class:"connect-plug message-info",centered:!0,okText:"Confirm",onOk:function(){m.robotTypeName[m.selectedType.id]===c.wv.Timer?m.confirmTimer():m.robotTypeName[m.selectedType.id]===c.wv.Maker&&m.confirmMaker()}}),!1}}}return!0},t.prototype.filterBinanceSymbol=function(e){if(e){var t=this.binancePairs.symbols.find((function(t){return e===t.symbol}));return t?t.symbol:""}return""},t.prototype.getICDexPairs=function(e){this.ICDexPairs=e},t.prototype.getBinancePairs=function(e){this.binancePairs=e},t.prototype.submitMaker=function(){var e=this;this.type,this.$refs.configFormMaker.validate((function(t){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){if(t){if(e=this.verify(),!e)return[2];this.confirmMaker()}return[2]}))}))}))},t.prototype.confirmMaker=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return this.invert&&"Binance"===this.exchange[this.secondExchangeId]?(e=this.secondPairInfo,t=!0,e?(n="0",[4,this.getAvgPrice(e.symbol)]):[3,2]):[3,3];case 1:a=i.sent(),a&&e.filters.forEach((function(e){if(t&&"NOTIONAL"===e.filterType&&(n=e.minNotional,n)){var i=new(H())(n).div(a.price).times(2).toString(10);new(H())(r.configFormMaker.token1Amount).lt(i)&&(r.$message.error("Min amount is ".concat(i," ").concat(r.configToken1)),t=!1)}})),i.label=2;case 2:if(!t)return[2];i.label=3;case 3:return"Add"===this.type?this.addStrategy(JSON.stringify(this.configFormMaker)):this.updateConfig(JSON.stringify(this.configFormMaker)),[2]}}))}))},t.prototype.submitTimer=function(){var e=this;if("Add"===this.type)this.$refs.configForm.validate((function(t){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){if(t){if(e=this.verify(),!e)return[2];this.confirmTimer()}return[2]}))}))}));else{var t=this.verify();if(!t)return;this.confirmTimer()}},t.prototype.confirmTimer=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return this.spinningConfig=!0,this.exchange[this.mainExchangeId]===c.dj.Binance&&(e=this.mainPairInfo),this.exchange[this.secondExchangeId]===c.dj.Binance&&(e=this.secondPairInfo),t=!0,e?(n="0",this.invert?[3,2]:[4,this.getAvgPrice(e.symbol)]):[3,2];case 1:a=i.sent(),a&&e.filters.forEach((function(e){if(t&&"NOTIONAL"===e.filterType&&(n=e.minNotional,n)){var i=new(H())(n).div(a.price).times(2).toString(10);new(H())(r.configForm.orderAmount).lt(i)&&(r.$message.error("Min amount is ".concat(i," ").concat(r.timerToken0)),r.spinningConfig=!1,t=!1)}})),i.label=2;case 2:return t?("Add"===this.type?this.addStrategy(JSON.stringify(Object.assign({},this.configForm,{arbitrage:this.configForm.arbitrage?1:0,unilateral:this.configForm.unilateral?1:0}))):this.updateConfig(JSON.stringify(Object.assign({},this.configForm,{arbitrage:this.configForm.arbitrage?1:0,unilateral:this.configForm.unilateral?1:0}))),[2]):[2]}}))}))},t.prototype.addStrategy=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t,n,a,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=this.initPairInfo(this.exchange[this.mainExchangeId],this.mainPairId,this.mainPairInfo),n=this.initPairInfo(this.exchange[this.secondExchangeId],this.secondPairId,this.secondPairInfo),a=this.initPairInfo(this.exchange[this.secondExchangeId],this.secondPairIdTwo,this.secondPairTwoInfo),r={typeId:this.selectedType.id,mainExchangeId:this.mainExchangeId,mainExchangeName:this.exchange[this.mainExchangeId],mainExchangePair:this.mainPairId,mainPairInfo:t,mainExchangeAccountId:this.mainAccount,secondExchangeName:this.exchange[this.secondExchangeId],secondExchangeId:this.secondExchangeId,secondPairInfo:n,secondExchangePair:this.secondPairId,secondExchangePairTwo:this.secondPairIdTwo,secondPairTwoInfo:a,secondExchangeAccountId:this.secondAccount,mainFee:new(H())(this.mainFee).div(100).toString(10),secondFee:new(H())(this.secondFee).div(100).toString(10),invert:this.invert},[4,this.$axios.post("addStrategy",Object.assign({},{config:e},{strategyParams:r}))];case 1:return o=i.sent(),o&&200===o.status?this.$message.success("Add strategy success"):this.$message.error("Error"),[3,3];case 2:return i.sent(),this.$message.error("Error"),[3,3];case 3:return[4,this.getAccounts()];case 4:return i.sent(),[4,this.getRobots()];case 5:return i.sent(),this.visible=!1,this.spinningConfig=!1,[2]}}))}))},t.prototype.updateConfig=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t;return(0,i.YH)(this,(function(n){switch(n.label){case 0:this.spinningConfig=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.$axios.post("updateStrategyConfig",{id:this.currentRobot.id,config:e})];case 2:return t=n.sent(),t&&200===t.status&&this.$message.success("Update strategy success"),[3,4];case 3:return n.sent(),this.$message.error("Error"),[3,4];case 4:return this.$set(this.robots[this.updateIndex],"arguments",e),this.visible=!1,this.spinningConfig=!1,[2]}}))}))},t.prototype.showView=function(e){this.viewRobot=e,this.visibleView=!0},t.prototype.showStop=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a;return(0,i.YH)(this,(function(r){switch(r.label){case 0:this.spinningExchange=!0,r.label=1;case 1:return r.trys.push([1,6,,7]),[4,this.$axios.post("stopStrategy",{strategyId:e.id})];case 2:return n=r.sent(),n&&200===n.status?[4,this.$axios.get("getStrategy",{params:{id:e.id}})]:[3,4];case 3:return a=r.sent(),a&&200===a.status&&this.$set(this.robots[t],"status",a.data.status),this.getOrders(),this.$message.success("Stop strategy success"),[3,5];case 4:this.$message.error("Error"),r.label=5;case 5:return[3,7];case 6:return r.sent(),this.$message.error("Error"),[3,7];case 7:return this.spinningExchange=!1,[2]}}))}))},t.prototype.showRun=function(e,t,n,a,r,o,c,s){return(0,i.sH)(this,void 0,Promise,(function(){var l,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:this.spinningExchange=!0,i.label=1;case 1:return i.trys.push([1,6,,7]),this.insufficientBalance(n,a,r,o,c,s)?(this.$message.error("Insufficient Balance"),this.spinningExchange=!1,[2]):[4,this.$axios.post("runStrategy",{strategyId:e.id})];case 2:return l=i.sent(),l&&200===l.status?[4,this.$axios.get("getStrategy",{params:{id:e.id}})]:[3,4];case 3:return u=i.sent(),u&&200===u.status&&this.$set(this.robots[t],"status",u.data.status),this.$message.success("Run strategy success"),[3,5];case 4:this.$message.error("Error"),i.label=5;case 5:return[3,7];case 6:return i.sent(),this.$message.error("Error"),[3,7];case 7:return this.spinningExchange=!1,[2]}}))}))},t.prototype.initSSEError=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return this.eventSourceError&&this.eventSourceError.readyState===this.eventSourceError.OPEN?[2]:[4,this.getUser()];case 1:return e=i.sent(),t=e.userName,n=e.password,a=btoa("".concat(t,":").concat(n)),this.eventSourceError=new Te.EventSourcePolyfill("http://localhost:26535/events",{headers:{Authorization:"Basic ".concat(a)}}),this.eventSourceError.onmessage=function(e){},this.eventSourceError.onopen=function(){},this.eventSourceError.onerror=function(e){r.eventSourceError.close(),setTimeout((function(){return r.initSSEError()}),1e3)},[2]}}))}))},t.prototype.getUser=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,we.A.get("http://localhost:26535/getUser")];case 1:return e=t.sent(),200===e.status?[2,e.data]:[2]}}))}))},t.prototype.initSSETrade=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return this.eventSourceTrade&&this.eventSourceTrade.readyState===this.eventSourceTrade.OPEN?[2]:[4,this.getUser()];case 1:return e=i.sent(),t=e.userName,n=e.password,a=btoa("".concat(t,":").concat(n)),this.eventSourceTrade=new Te.EventSourcePolyfill("http://localhost:26535/events?type=Trade",{headers:{Authorization:"Basic ".concat(a)}}),this.eventSourceTrade.onmessage=function(e){r.getOrders()},this.eventSourceTrade.onopen=function(){},this.eventSourceTrade.onerror=function(e){r.eventSourceTrade.close(),setTimeout((function(){return r.initSSETrade()}),1e3)},[2]}}))}))},t.prototype.deleteRobot=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t;return(0,i.YH)(this,(function(n){if(e.status===c.Hx.Running)return[2];try{t=this,this.$confirm({content:"Are you sure you want to delete the strategy?",class:"connect-plug message-info",centered:!0,okText:"Confirm",onOk:function(){t.spinningExchange=!1,t.$axios.post("deleteStrategy",{strategyId:e.id}).then((function(e){e&&200===e.status?(t.$message.success("Delete strategy success"),t.pageOrder=1,t.pageSizeOrder=10,t.totalOrder=0,t.getRobots().then((function(){t.getOrders()}))):t.$message.error("Error")})).finally((function(){t.spinningExchange=!1}))}})}catch(a){this.$message.error("Error")}return[2]}))}))},t.prototype.showUpdateConfig=function(e,t){var n=this;if(e.status!==c.Hx.Running){if(this.visible=!0,this.title="Update Config",this.type="Update",this.updateIndex=t,this.currentRobot=e,this.invert=e.invert,this.selectedType.id=e.typeId,this.mainExchangeId=e.mainExchangeId,this.mainPairInfo=this.convertPair(this.robotPairInfo[e.mainExchangePair],this.exchange[e.mainExchangeId]),this.mainAccount=e.mainExchangeAccountId,this.mainFee=e.mainExchangeFee,this.secondExchangeId=e.secondExchangeId,this.secondPairInfo=this.convertPair(this.robotPairInfo[e.secondExchangePair.split(",")[0]],this.exchange[e.secondExchangeId]),this.secondAccount=e.secondExchangeAccountId,this.secondFee=e.secondExchangeFee,2===e.secondExchangePair.split("").length&&(this.secondPairIdTwo=e.secondExchangePair.split("")[1],this.secondPairTwoInfo=this.convertPair(this.robotPairInfo[e.secondExchangePair.split(",")[1]],this.exchange[e.secondExchangeId])),this.disabledType=!0,this.disabledSelectedExchange=!0,this.disabledSelectedMainExchange=!0,this.robotTypeName[this.selectedType.id]===c.wv.Timer){var a=this.getTimerConfig(e.arguments);this.configForm={orderAmount:a.orderAmount,interval:a.interval,arbitrage:!!a.arbitrage,unilateral:!!a.unilateral}}else if(this.robotTypeName[this.selectedType.id]===c.wv.Maker){a=this.getMakerConfig(e.arguments);this.configFormMaker={token1Amount:a.token1Amount,gridSpread:"1",minimumProfit:a.minimumProfit,minimumPriceFluctuation:a.minimumPriceFluctuation}}this.$nextTick((function(){n.$refs.selectChange.selectedExchange.id=e.mainExchangeId,n.$refs.secondSelectExchange.selectedExchange.id=e.secondExchangeId,n.$refs.selectChange.init(e.mainExchangePair,e.mainExchangeAccountId);var t=e.secondExchangePair.split(",");n.$refs.secondSelectExchange.init(t[0],e.secondExchangeAccountId,t[1])}))}},t.prototype.convertPair=function(e,t){if(t===c.dj.ICDex){var n=JSON.parse(e.token0);n[0]=p.p.fromText(n[0]);var a=JSON.parse(e.token1);a[0]=p.p.fromText(a[0]);var r={pairId:e.pairId,decimals:e.decimals,setting:JSON.parse(e.setting),owner:null,name:e.name,version:e.version,token0:n,token1:a,token0Info:JSON.parse(e.token0Info),token1Info:JSON.parse(e.token1Info),paused:!!e.paused};return r}return e},t.prototype.filterJson=function(e){return JSON.stringify(e,(function(e,t){return t instanceof Array&&t.length>=16?(0,y.U5)(new Uint8Array(t)):"bigint"===typeof t?t.toString():t&&t["__principal__"]?t["__principal__"]:t}))},t.prototype.initPairInfo=function(e,t,n){return e===c.dj.ICDex&&n&&(n.pairId||(n.pairId=t),n.token0Info||(n.token0Info=this.tokenInfo[n.token0[0].toString()]),n.token1Info||(n.token1Info=this.tokenInfo[n.token1[0].toString()])),n?this.filterJson(n):null},t.prototype.changeMainAccount=function(e){this.mainAccount=e},t.prototype.changeSecondAccount=function(e){this.secondAccount=e},t.prototype.changeInvert=function(e){this.invert=e?1:0},t.prototype.changePairMain=function(e,t){this.mainPairId=e,this.mainPairInfo=t,this.getICDexTokenInfo(this.mainExchangeId,this.mainPairInfo),this.$refs.configForm.resetFields()},t.prototype.changePairSecond=function(e,t){this.secondPairId=e,this.secondPairInfo=t,this.getICDexTokenInfo(this.secondExchangeId,this.secondPairInfo),this.$refs.configForm.resetFields()},t.prototype.changePairTwo=function(e,t){this.secondPairIdTwo=e,this.secondPairTwoInfo=t,this.getICDexTokenInfo(this.secondExchangeId,this.secondPairTwoInfo),this.$refs.configForm.resetFields()},t.prototype.getICDexTokenInfo=function(e,t){var n=this;if(t&&this.exchange[e]===c.dj.ICDex){var a=t;this.tokenInfo[a.token0[0].toString()]||te(a.token0[0],a.token0[2]).then((function(e){n.$set(n.tokenInfo,a.token0[0].toString(),e)})),this.tokenInfo[a.token0[1].toString()]||te(a.token1[0],a.token1[2]).then((function(e){n.$set(n.tokenInfo,a.token1[0].toString(),e)}))}},t.prototype.changeMainExchange=function(e){var t=this;this.mainExchangeId=e,this.disabledSelectedExchange=!this.mainExchangeId,this.secondExchanges=this.exchanges.filter((function(e){return e.id!==t.mainExchangeId})),this.$refs.secondSelectExchange.initSecondExchange(),this.$refs.configForm.resetFields()},t.prototype.addExchangeAccountSuccess=function(){this.getAccounts()},t.prototype.changeSecondExchange=function(e){this.secondExchangeId=e,this.$refs.configForm.resetFields()},t.prototype.changeMainExchangeAccountFee=function(e){this.mainFee=e},t.prototype.changeSecondExchangeAccountFee=function(e){this.secondFee=e},t.prototype.getExchanges=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,6,,7]),[4,this.$axios.get("/getExchanges")];case 1:return e=n.sent(),e&&200===e.status?(this.exchanges=e.data,this.secondExchanges=e.data,e.data.forEach((function(e){e.name===c.dj.ICDex&&(t.mainExchanges=[e]),t.exchange[e.id]=e.name})),[4,this.getAccounts()]):[3,5];case 2:return n.sent(),[4,this.getRobots()];case 3:return n.sent(),[4,this.getOrders()];case 4:n.sent(),n.label=5;case 5:return[3,7];case 6:return n.sent(),[3,7];case 7:return[2]}}))}))},t.prototype.showErrors=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t,n,a,r,o,c=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:this.spinningOrdersError=!0,this.robotError=e,this.visibleErrors=!0,i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.$axios.get("/getOrders?page=".concat(this.pageOrderError,"&pageSize=").concat(this.pageSizeOrderError,"&strategyId=").concat(e.id,"&status=Failed"))];case 2:return t=i.sent(),t&&200===t.status?(n=t.data,a=n.orders,this.totalOrderError=n.total,r=[],o=[],a.forEach((function(e){e.mainExchangeOrderId&&o.push(c.getBalanceChangesByMainExchangeOrderId(e)),r.includes(e.strategy.mainExchangePair)||c.robotPairInfo[e.strategy.mainExchangePair]||c.getPairInfo(e.strategy.mainExchangePair,e.strategy.mainExchangeId,c.exchange[e.strategy.mainExchangeId],e.strategy.mainExchangeAccountId);var t=e.strategy.secondExchangePair.split(",");r.includes(t[0])||c.robotPairInfo[t[0]]||(r.push(t[0]),c.getPairInfo(t[0],e.strategy.secondExchangeId,c.exchange[e.strategy.secondExchangeId],e.strategy.secondExchangeAccountId)),t.length&&t[1]&&!r.includes(t[1])&&!c.robotPairInfo[t[1]]&&(r.push(t[1]),c.getPairInfo(t[1],e.strategy.secondExchangeId,c.exchange[e.strategy.secondExchangeId],e.strategy.secondExchangeAccountId))})),[4,Promise.all(o)]):[3,4];case 3:i.sent(),this.ordersError=a,i.label=4;case 4:return[3,6];case 5:return i.sent(),[3,6];case 6:return this.spinningOrdersError=!1,[2]}}))}))},t.prototype.pageChangeOrderError=function(){this.showErrors(this.robotError)},t.prototype.filterMessage=function(e){if(e.mainExchangeErrorMessage)try{var t=JSON.parse(e.mainExchangeErrorMessage);if(t&&t.message)return t.message}catch(n){return e.mainExchangeErrorMessage}else if(e.secondExchangeErrorMessage)try{t=JSON.parse(e.secondExchangeErrorMessage);if(t&&t.message)return t.message}catch(n){return e.secondExchangeErrorMessage}return"-"},t.prototype.pageChangeOrder=function(){this.getOrders()},t.prototype.getOrders=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r,o=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:this.spinningOrders=!0,i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.$axios.get("/getOrders?page=".concat(this.pageOrder,"&pageSize=").concat(this.pageSizeOrder,"&status=Completed&strategyId=").concat(this.filterRobot.id))];case 2:return e=i.sent(),e&&200===e.status?(t=e.data,n=t.orders,this.totalOrder=t.total,a=[],r=[],n.forEach((function(e){e.mainExchangeOrderId&&r.push(o.getBalanceChangesByMainExchangeOrderId(e)),a.includes(e.strategy.mainExchangePair)||o.robotPairInfo[e.strategy.mainExchangePair]||o.getPairInfo(e.strategy.mainExchangePair,e.strategy.mainExchangeId,o.exchange[e.strategy.mainExchangeId],e.strategy.mainExchangeAccountId);var t=e.strategy.secondExchangePair.split(",");a.includes(t[0])||o.robotPairInfo[t[0]]||(a.push(t[0]),o.getPairInfo(t[0],e.strategy.secondExchangeId,o.exchange[e.strategy.secondExchangeId],e.strategy.secondExchangeAccountId)),t.length&&t[1]&&!a.includes(t[1])&&!o.robotPairInfo[t[1]]&&(a.push(t[1]),o.getPairInfo(t[1],e.strategy.secondExchangeId,o.exchange[e.strategy.secondExchangeId],e.strategy.secondExchangeAccountId))})),[4,Promise.all(r)]):[3,4];case 3:i.sent(),this.orders=n,i.label=4;case 4:return[3,6];case 5:return i.sent(),[3,6];case 6:return this.spinningOrders=!1,[2]}}))}))},t.prototype.getBalanceChangesByMainExchangeOrderId=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$axios.get("/getBalanceChangesByMainExchangeOrderId",{params:{strategyId:e.strategyId,mainExchangeOrderId:e.mainExchangeOrderId}})];case 1:return t=n.sent(),t&&200===t.status?e.balanceChangesFilled=t.data:e.balanceChangesFilled={token0:0,token1:0},[3,3];case 2:return n.sent(),e.balanceChangesFilled={token0:0,token1:0},[3,3];case 3:return[2]}}))}))},t.prototype.getRobotType=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$axios.get("/getRobotType")];case 1:return e=n.sent(),e&&200===e.status&&(this.robotType=e.data,this.robotType.forEach((function(e){t.robotTypeName[e.id]=e.name}))),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.showAddRobot=function(){this.visible=!0,this.title="Add robot",this.type="Add",this.disabledType=!1,this.disabledSelectedMainExchange=!1},t.prototype.pageChange=function(){this.getRobots()},t.prototype.cancelAll=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e;return(0,i.YH)(this,(function(t){switch(t.label){case 0:this.spinningOrders=!0,t.label=1;case 1:return t.trys.push([1,7,,8]),[4,this.$axios.post("cancelAll")];case 2:return e=t.sent(),e&&200===e.status?[4,this.getRobots()]:[3,5];case 3:return t.sent(),[4,this.getOrders()];case 4:return t.sent(),this.$message.success("cancel all success"),[3,6];case 5:this.$message.error("Error"),t.label=6;case 6:return[3,8];case 7:return t.sent(),this.$message.error("Error"),[3,8];case 8:return this.spinningOrders=!1,[2]}}))}))},t.prototype.getRobots=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r,o=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:this.spinningExchange=!0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.$axios.get("/getStrategies?page=".concat(this.page,"&pageSize=").concat(this.pageSize))];case 2:return e=i.sent(),t=[],n=[],a={},r=[],e&&200===e.status&&(this.robots=e.data.data,this.total=e.data.total,this.robots.forEach((function(e){o.exchange[e.mainExchangeId]===c.dj.ICDex?a=o.filterICDexBalance(a,e.mainExchangePair,e.mainExchangeAccountId):o.exchange[e.mainExchangeId]===c.dj.Binance&&(r=o.filterBinanceBalance(r,e.mainExchangeAccountId)),t.includes(e.mainExchangePair)||o.robotPairInfo[e.mainExchangePair]||(t.push(e.mainExchangePair),o.getPairInfo(e.mainExchangePair,e.mainExchangeId,o.exchange[e.mainExchangeId],e.mainExchangeAccountId)),n.includes(e.mainExchangePair)||(n.push(e.mainExchangePair),o.getDepth(e.mainExchangePair,o.exchange[e.mainExchangeId]));var i=e.secondExchangePair.split(",");o.exchange[e.secondExchangeId]===c.dj.ICDex?a=o.filterICDexBalance(a,i[0],e.secondExchangeAccountId):o.exchange[e.secondExchangeId]===c.dj.Binance&&(r=o.filterBinanceBalance(r,e.secondExchangeAccountId)),t.includes(i[0])||o.robotPairInfo[i[0]]||(t.push(i[0]),o.getPairInfo(i[0],e.secondExchangeId,o.exchange[e.secondExchangeId],e.secondExchangeAccountId)),n.includes(i[0])||(n.push(i[0]),o.getDepth(i[0],o.exchange[e.secondExchangeId])),i.length&&i[1]&&(o.$set(e,"secondExchangePairTwo",i[1]),o.exchange[e.secondExchangeId]===c.dj.ICDex?a=o.filterICDexBalance(a,i[1],e.secondExchangeAccountId):o.exchange[e.secondExchangeId]===c.dj.Binance&&(r=o.filterBinanceBalance(r,e.secondExchangeAccountId)),t.includes(i[1])||o.robotPairInfo[i[1]]||(t.push(i[1]),o.getPairInfo(i[1],e.secondExchangeId,o.exchange[e.secondExchangeId],e.secondExchangeAccountId)),n.includes(i[1])||(n.push(i[1]),o.getDepth(i[1],o.exchange[e.secondExchangeId])))})),this.infoInterval(),this.initSSEError(),this.initSSETrade()),[3,4];case 3:return i.sent(),[3,4];case 4:return this.spinningExchange=!1,[2]}}))}))},t.prototype.filterICDexBalance=function(e,t,n){try{var a=this.robotAccounts[n],r=JSON.parse(a.value);if(r&&r.pem){var i=(0,O.jk)(r.pem),o=i.getPrincipal().toString();e[o]||(e[o]=[]),this.robotBalance[o]||(this.robotBalance[o]={}),e[o].includes(t)||this.robotBalance[o][t]||(e[o].push(t),this.getAccountBalance(t,o))}}catch(c){}return e},t.prototype.filterBinanceBalance=function(e,t){try{var n=this.robotAccounts[t],a=JSON.parse(n.value);a&&a.APIKey&&a.privateKey&&!e.includes(a.APIKey)&&(e.push(a.APIKey),this.getBinanceTokenAmount(t,a))}catch(r){}return e},t.prototype.refreshBinanceBalance=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t;return(0,i.YH)(this,(function(n){switch(n.label){case 0:this.refreshBinanceBalanceLoading=!0,n.label=1;case 1:return n.trys.push([1,4,,5]),t=JSON.parse(e.value),t&&t.APIKey&&t.privateKey?Oe?[2]:(Oe=!0,[4,this.needWait("rateLimitTime")]):[3,3];case 2:n.sent(),this.getBinanceTokenAmount(e.id,t).finally((function(){Oe=!1})),n.label=3;case 3:return[3,5];case 4:return n.sent(),[3,5];case 5:return this.refreshBinanceBalanceLoading=!1,[2]}}))}))},t.prototype.getAccounts=function(){return(0,i.sH)(this,void 0,Promise,(function(){var e,t,n,a,r=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.$axios.get("/getAccounts")];case 1:return e=i.sent(),e&&200===e.status&&(t=e.data,n=[],a=[],t.forEach((function(e){r.robotAccounts[e.id]=e,"ICDex"===r.exchange[e.exchangeId]?n.push(e):"Binance"===r.exchange[e.exchangeId]&&a.push(e)})),this.ICDexAccounts=n,this.BinanceAccounts=a),[3,3];case 2:return i.sent(),[3,3];case 3:return[2,[]]}}))}))},t.prototype.needWait=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t,n,a,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return t=localStorage.getItem(e),this[e]=t?Number(t):(new Date).getTime(),n=(new Date).getTime(),"rateLimitTime"===e&&(a=this.rateLimitTime+Se-n),a>0?[4,this.wait(a)]:[3,2];case 1:i.sent(),i.label=2;case 2:return r=(new Date).getTime(),localStorage.setItem(e,r.toString(10)),[2]}}))}))},t.prototype.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.prototype.getBinanceTokenAmount=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.APIKey&&t.privateKey?[4,this.$axios.get("/getAccountInfo",{params:{accountId:e}})]:[3,2];case 1:n=i.sent(),n&&200===n.status&&(a=n.data,this.$set(this.robotBalance,t.APIKey,a.balances),this.$forceUpdate()),i.label=2;case 2:return[3,4];case 3:return r=i.sent(),r.response&&r.response.data&&r.response.data.code&&(429!==r.response.data.code&&418!==r.response.data.code||this.$message.error(r.response.data.msg)),[2];case 4:return[2]}}))}))},t.prototype.getAccountBalance=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return[4,this.ICDexService.accountBalance(e,t)];case 1:return n=a.sent(),n&&(this.robotBalance[t][e]={token0:n.token0.available.toString(10),token1:n.token1.available.toString(10)},this.$forceUpdate()),[2,null]}}))}))},t.prototype.onDepositKeepingBalance=function(e,t,n){var a=this;void 0===n&&(n=!0),this.isToken0=n,this.currentPair=t,this.currentToken=null;var r=JSON.parse(t.token0);n||(r=JSON.parse(t.token1));var i=JSON.parse(t.token0Info),o=JSON.parse(t.token1Info),c=i.decimals;n||(c=o.decimals);var s=new(H())(ke(i)).div(Math.pow(10,c)).toString(10);n||(s=new(H())(ke(o)).div(Math.pow(10,c)).toString(10));var l=i.name;n||(l=o.name);var u=JSON.parse(e.value);if(u&&u.pem){var d=(0,O.jk)(u.pem);this.currentIdentity=d;var h=d.getPrincipal().toString(),g=this.robotICDexLocalBalance[h][r[0].toString()];this.currentToken={canisterId:r[0].toString(),fee:s,decimals:c,tokenStd:r[2],symbol:r[1],name:l,balance:g};var f=new Uint8Array((0,y.RS)(0)),m=(0,y.Ah)(p.p.fromText(h),f);this.$nextTick((function(){a.$refs.transferToken.transferForm.to=a.robotPairInfo.pairId+"."+m,a.$refs.transferToken.init(a.currentToken)}))}},t.prototype.onKeepingBalance=function(e,t,n){return void 0===n&&(n=!0),(0,i.sH)(this,void 0,Promise,(function(){var a,r,o,c,s,l,u,d,p,h,g=this;return(0,i.YH)(this,(function(i){return this.currentPair=t,this.currentToken=null,a=JSON.parse(t.token0),n||(a=JSON.parse(t.token1)),r=JSON.parse(t.token0Info),o=JSON.parse(t.token1Info),c=r.decimals,n||(c=o.decimals),s=new(H())(ke(r)).div(Math.pow(10,c)).toString(10),n||(s=new(H())(ke(o)).div(Math.pow(10,c)).toString(10)),l=r.name,n||(l=o.name),u=JSON.parse(e.value),u&&u.pem&&(d=(0,O.jk)(u.pem),this.currentIdentity=d,p=d.getPrincipal().toString(),h=new(H())(this.robotBalance[p][t.pairId].token0).div(Math.pow(10,c)).toString(10),n||(h=new(H())(this.robotBalance[p][t.pairId].token1).div(Math.pow(10,c)).toString(10)),this.currentToken={canisterId:a[0].toString(),fee:s,decimals:c,tokenStd:a[2],symbol:a[1],name:l,balance:h},this.$nextTick((function(){g.$refs.withdrawToken.init(g.currentToken,n)}))),[2]}))}))},t.prototype.DepositSuccess=function(){this.getLocalTokenBalance(this.currentIdentity.getPrincipal().toString(),this.currentToken.canisterId.toString(),this.currentToken),this.getAccountBalance(this.currentPair.pairId,this.currentIdentity.getPrincipal().toString())},t.prototype.withdrawSuccess=function(){this.getLocalTokenBalance(this.currentIdentity.getPrincipal().toString(),this.currentToken.canisterId.toString(),this.currentToken),this.getAccountBalance(this.currentPair.pairId,this.currentIdentity.getPrincipal().toString())},t.prototype.refreshBalanceTraderAccount=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:this.refreshBalanceTraderAccountLoading=!0,i.label=1;case 1:return i.trys.push([1,7,,8]),n=JSON.parse(e.value),n&&n.pem?(a=(0,O.jk)(n.pem),r=a.getPrincipal().toString(),t&&t.split(",").length>1?(o=t.split(","),[4,this.getAccountBalance(o[0],r)]):[3,4]):[3,6];case 2:return i.sent(),[4,this.getAccountBalance(o[1],r)];case 3:return i.sent(),[3,6];case 4:return[4,this.getAccountBalance(t,r)];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return i.sent(),[3,8];case 8:return this.refreshBalanceTraderAccountLoading=!1,[2]}}))}))},t.prototype.refreshBalance=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a,r,o,c,s,l,u,d,p;return(0,i.YH)(this,(function(i){switch(i.label){case 0:this.refreshBalanceLoading=!0,i.label=1;case 1:return i.trys.push([1,5,,6]),t?(n=t.split(","),a=this.robotPairInfo[n[0]],r=void 0,n[1]&&(r=this.robotPairInfo[n[1]]),o=JSON.parse(e.value),c=JSON.parse(a.token0Info),s=JSON.parse(a.token1Info),r&&(s=JSON.parse(r.token0Info)),o&&o.pem?(l=(0,O.jk)(o.pem),u=l.getPrincipal().toString(),d=JSON.parse(a.token0),p=JSON.parse(a.token1),[4,this.getLocalTokenBalance(u,d[0].toString(),c)]):[3,4]):[3,4];case 2:return i.sent(),[4,this.getLocalTokenBalance(u,p[0].toString(),s)];case 3:i.sent(),i.label=4;case 4:return[3,6];case 5:return i.sent(),[3,6];case 6:return this.refreshBalanceLoading=!1,[2]}}))}))},t.prototype.filterLocalBalance=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a,r,o,c,s,l,u;return(0,i.YH)(this,(function(i){try{n=JSON.parse(t.token0Info),a=JSON.parse(t.token1Info),r=this.robotAccounts[e],o=JSON.parse(r.value),o&&o.pem&&(c=(0,O.jk)(o.pem),s=c.getPrincipal().toString(),l=JSON.parse(t.token0),this.robotICDexLocalBalance[s]&&this.robotICDexLocalBalance[s][l[0].toString()]||this.getLocalTokenBalance(s,l[0].toString(),n),u=JSON.parse(t.token1),this.robotICDexLocalBalance[s]&&[u[0].toString()]||this.getLocalTokenBalance(s,u[0].toString(),a))}catch(d){}return[2]}))}))},t.prototype.getLocalTokenBalance=function(e,t,n){return(0,i.sH)(this,void 0,Promise,(function(){var a,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,ie(n.tokenStd,t,e)];case 1:return a=i.sent(),r=new(H())(a).div(Math.pow(10,n.decimals)).toString(10),this.robotICDexLocalBalance[e]||(this.robotICDexLocalBalance[e]={}),this.robotICDexLocalBalance[e][t]=r,this.$forceUpdate(),[2]}}))}))},t.prototype.getDepth=function(e,t){return(0,i.sH)(this,void 0,Promise,(function(){var n,a,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,7,,8]),t!==c.dj.ICDex?[3,3]:[4,this.ICDexService.level10(e)];case 1:return a=i.sent(),a&&this.$set(this.robotDepth,e,a),[4,this.ICDexService.stats(e)];case 2:return n=i.sent(),n&&(this.robotStats[e]?(o={symbol:e,lastPrice:this.robotStats[e].latestPrice,latestPrice:n.price},this.$set(this.robotStats,e,o)):(o={symbol:e,lastPrice:n.price,latestPrice:n.price},this.$set(this.robotStats,e,o))),[3,6];case 3:return t!==c.dj.Binance?[3,6]:[4,this.$axios.get("/getDepth?symbol=".concat(e))];case 4:return a=i.sent(),a&&200===a.status&&this.$set(this.robotDepth,e,a.data),[4,this.$axios.get("/getTickerPrice?symbol=".concat(e))];case 5:r=i.sent(),r&&200===r.status&&(this.robotStats[e]?(o={symbol:e,lastPrice:this.robotStats[e].latestPrice,latestPrice:r.data.price},this.$set(this.robotStats,e,o)):(o={symbol:e,lastPrice:r.data.price,latestPrice:r.data.price},this.$set(this.robotStats,e,o))),i.label=6;case 6:return[3,8];case 7:return i.sent(),[3,8];case 8:return[2]}}))}))},t.prototype.getPairInfo=function(e,t,n,a){return(0,i.sH)(this,void 0,Promise,(function(){var r,o,s,l,u,d;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.$axios.get("/getPairInfo?pairId=".concat(e,"&exchangeName=").concat(n))];case 1:return r=i.sent(),200===r.status&&r.data&&(n===c.dj.ICDex?(this.$set(this.robotPairInfo,e,r.data),this.filterLocalBalance(a,r.data),o=JSON.parse(r.data.token0),s=JSON.parse(r.data.token1),l=JSON.parse(r.data.token0Info),u=JSON.parse(r.data.token1Info),this.getICDexTokenInfo(t,Object.assign({},r.data,{token0:o,token1:s,token0Info:l,token1Info:u}))):n===c.dj.Binance&&(d=JSON.parse(r.data.filters),this.$set(this.robotPairInfo,e,Object.assign({},r.data,{filters:d})))),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.getTimerConfig=function(e){try{return JSON.parse(e)}catch(t){}},t.prototype.getMakerConfig=function(e){try{return JSON.parse(e)}catch(t){}},t.prototype.afterCloseError=function(){this.robotError=null,this.pageOrderError=1,this.totalOrderError=0},t.prototype.afterClose=function(){this.$refs.configForm.resetFields(),this.$refs.configFormMaker.resetFields(),this.$refs.selectChange.initMainExchange(),this.$refs.secondSelectExchange.initSecondExchange(),this.disabledType=!0,this.disabledSelectedExchange=!0,this.disabledSelectedMainExchange=!0,this.selectedType.id=void 0,this.configForm={orderAmount:"",interval:"",arbitrage:!1,unilateral:!1},this.configFormMaker={token1Amount:"",gridSpread:"1",minimumProfit:"",minimumPriceFluctuation:""},this.invert=0},t.prototype.getAvgPrice=function(e){return(0,i.sH)(this,void 0,Promise,(function(){var t,n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.$axios.get("/getAvgPrice?symbol=".concat(e))];case 1:return t=a.sent(),200===t.status?[2,t.data]:[3,3];case 2:return n=a.sent(),n.response&&n.response.data&&n.response.data.code&&(429!==n.response.data.code&&418!==n.response.data.code||this.$message.error(n.response.data.msg)),[2,null];case 3:return[2]}}))}))},t.prototype.filterBinanceAPIKey=function(e){try{if(e){var t=JSON.parse(e);return t.APIKey}}catch(n){}return"-"},t.prototype.filterICDexAccount=function(e){try{if(e){var t=JSON.parse(e),n=t.pem,a=(0,O.jk)(n);if(a)return a.getPrincipal().toString()}}catch(r){}return"-"},t.prototype.changeFilter=function(){this.pageOrder=1,this.pageSizeOrder=10,this.totalOrder=0,this.getOrders()},t.prototype.filterBalance=function(e,t,n,a,r){try{if(e&&a&&n)if(a===c.dj.Binance){var i=e,o=JSON.parse(n.value);if(o&&o.APIKey&&t[o.APIKey]){var s=t[o.APIKey],l=s.find((function(e){return r?i.baseAsset===e.asset:i.quoteAsset===e.asset}));return l?l.free:"0"}}else if(a===c.dj.ICDex){var u=e;o=JSON.parse(n.value);if(o&&o.pem){var d=(0,O.jk)(o.pem),p=d.getPrincipal().toString();if(p&&t[p]&&t[p][u.pairId]){l=t[p][u.pairId];if(r){if(u.token0Info){var h=JSON.parse(u.token0Info).decimals;return new(H())(l.token0).div(Math.pow(10,h)).toString(10)}}else if(u.token1Info){var g=JSON.parse(u.token1Info).decimals;return new(H())(l.token1).div(Math.pow(10,g)).toString(10)}}}}}catch(f){}return""},t.prototype.insufficientBalance=function(e,t,n,a,r,i){if(e===c.wv.Timer){var o=this.filterBalance(n,a,r,i,!0),s=this.getTimerConfig(t).orderAmount;return new(H())(o).lt(s)}if(e===c.wv.Maker){o=this.filterBalance(n,a,r,i,!1);var l=this.getMakerConfig(t).token1Amount;return new(H())(o).lt(l)}return!1},t=(0,i.Cg)([(0,o.uA)({name:"index",components:{SelectExchange:G,WithdrawToken:he,TransferToken:Pe},filters:{filterFee:function(e){return e?new(H())(e).times(100).toString(10):"-"},filterWalterBalance:function(e,t,n,a){if(e&&n){var r=JSON.parse(t.value);if(r&&r.pem){var i=(0,O.jk)(r.pem),o=i.getPrincipal().toString();if(o&&n[o]){if(a){var c=JSON.parse(e.token0);return n[o][c[0].toString()]}var s=JSON.parse(e.token1);return n[o][s[0].toString()]}}}return"-"},filterDepth:function(e,t,n,a,r){if(e&&n)if(n===c.dj.Binance){var i=e;if("ask"===a)return i.asks&&i.asks[0]&&i.asks[0][0]?i.asks[0][0]:"";if("bid"===a)return i.bids&&i.bids[0]&&i.bids[0][0]?i.bids[0][0]:""}else if(n===c.dj.ICDex){var o=t;if(o.token0Info&&o.token1Info){var s=JSON.parse(o.token0Info).decimals,l=JSON.parse(o.token1Info).decimals,u=(i=e,i[0]);if("ask"===a)return i[1].ask.length?new(H())(i[1].ask[0].price.toString(10)).div(Math.pow(10,l)).div(new(H())(u.toString(10)).div(Math.pow(10,s))).toFixed(r,2):"-";if("bid"===a)return i[1].bid.length?new(H())(i[1].bid[0].price.toString(10)).div(Math.pow(10,l)).div(new(H())(u.toString(10)).div(Math.pow(10,s))).toFixed(r,3):"-"}}return""},filterPair:function(e,t){if(e&&t){if(t===c.dj.Binance){var n=e;return n.symbol}if(t===c.dj.ICDex){n=e;if(n.token0Info&&n.token1Info)return"".concat(JSON.parse(n.token0Info).symbol,"/").concat(JSON.parse(n.token1Info).symbol)}}return""},filterSymbol:function(e,t,n){if(e&&t){if(t===c.dj.Binance){var a=e;return n?a.baseAsset:a.quoteAsset}if(t===c.dj.ICDex){a=e;if(a.token0Info&&a.token1Info)return n?JSON.parse(a.token0Info).symbol:JSON.parse(a.token1Info).symbol}}return""},filterVal:function(e){if(e){var t=8;return t>4&&new(H())(e).abs().gt(.001)&&(t=4),new(H())(e).decimalPlaces(t,1).toString(10)}return""},filterPrice:function(e,t,n){if(n===c.dj.Binance)return e;var a=t;if(a.token0Info&&a.token1Info){var r=JSON.parse(a.token0Info).decimals,i=JSON.parse(a.token1Info).decimals;return new(H())(e).times(Math.pow(10,r)).div(Math.pow(10,i)).toString(10)}return""}}})],t),t}((0,o.Xe)(Ee)),Re=Ce,Ae=Re,Fe=(0,k.A)(Ae,a,r,!1,null,"71973bb4",null),Ve=Fe.exports},40377:function(e,t,n){var a,r,i,o=n(96763);
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
(function(n){"use strict";var c=n.setTimeout,s=n.clearTimeout,l=n.XMLHttpRequest,u=n.XDomainRequest,d=n.ActiveXObject,p=n.EventSource,h=n.document,g=n.Promise,f=n.fetch,m=n.Response,v=n.TextDecoder,x=n.TextEncoder,b=n.AbortController;if("undefined"===typeof window||"undefined"===typeof h||"readyState"in h||null!=h.body||(h.readyState="loading",window.addEventListener("load",(function(e){h.readyState="complete"}),!1)),null==l&&null!=d&&(l=function(){return new d("Microsoft.XMLHTTP")}),void 0==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Date.now||(Date.now=function(){return(new Date).getTime()}),void 0==b){var y=f;f=function(e,t){var n=t.signal;return y(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then((function(e){var t=e.body.getReader();return n._reader=t,n._aborted&&n._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}}))},b=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function I(){this.bitsNeeded=0,this.codePoint=0}I.prototype.decode=function(e){function t(e,t,n){if(1===n)return e>=128>>t&&e<<t<=2047;if(2===n)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===n)return e>=65536>>t&&e<<t<=1114111;throw new Error}function n(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var a=65533,r="",i=this.bitsNeeded,o=this.codePoint,c=0;c<e.length;c+=1){var s=e[c];0!==i&&(s<128||s>191||!t(o<<6|63&s,i-6,n(i,o)))&&(i=0,o=a,r+=String.fromCharCode(o)),0===i?(s>=0&&s<=127?(i=0,o=s):s>=192&&s<=223?(i=6,o=31&s):s>=224&&s<=239?(i=12,o=15&s):s>=240&&s<=247?(i=18,o=7&s):(i=0,o=a),0===i||t(o,i,n(i,o))||(i=0,o=a)):(i-=6,o=o<<6|63&s),0===i&&(o<=65535?r+=String.fromCharCode(o):(r+=String.fromCharCode(55296+(o-65535-1>>10)),r+=String.fromCharCode(56320+(o-65535-1&1023))))}return this.bitsNeeded=i,this.codePoint=o,r};var N=function(){try{return"test"===(new v).decode((new x).encode("test"),{stream:!0})}catch(e){o.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1};void 0!=v&&void 0!=x&&N()||(v=I);var _=function(){};function P(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=_,this.onload=_,this.onerror=_,this.onreadystatechange=_,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=_}function k(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function E(e){for(var t=Object.create(null),n=e.split("\r\n"),a=0;a<n.length;a+=1){var r=n[a],i=r.split(": "),o=i.shift(),c=i.join(": ");t[k(o)]=c}this._map=t}function T(){}function w(e){this._headers=e}function S(){}function O(){this._listeners=Object.create(null)}function C(e){c((function(){throw e}),0)}function R(e){this.type=e,this.target=void 0}function A(e,t){R.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function F(e,t){R.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function V(e,t){R.call(this,e),this.error=t.error}P.prototype.open=function(e,t){this._abort(!0);var n=this,a=this._xhr,r=1,i=0;this._abort=function(e){0!==n._sendTimeout&&(s(n._sendTimeout),n._sendTimeout=0),1!==r&&2!==r&&3!==r||(r=4,a.onload=_,a.onerror=_,a.onabort=_,a.onprogress=_,a.onreadystatechange=_,a.abort(),0!==i&&(s(i),i=0),e||(n.readyState=4,n.onabort(null),n.onreadystatechange())),r=0};var o=function(){if(1===r){var e=0,t="",i=void 0;if("contentType"in a)e=200,t="OK",i=a.contentType;else try{e=a.status,t=a.statusText,i=a.getResponseHeader("Content-Type")}catch(o){e=0,t="",i=void 0}0!==e&&(r=2,n.readyState=2,n.status=e,n.statusText=t,n._contentType=i,n.onreadystatechange())}},u=function(){if(o(),2===r||3===r){r=3;var e="";try{e=a.responseText}catch(t){}n.readyState=3,n.responseText=e,n.onprogress()}},d=function(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:_}),u(),1===r||2===r||3===r){if(r=4,0!==i&&(s(i),i=0),n.readyState=4,"load"===e)n.onload(t);else if("error"===e)n.onerror(t);else{if("abort"!==e)throw new TypeError;n.onabort(t)}n.onreadystatechange()}},p=function(e){void 0!=a&&(4===a.readyState?"onload"in a&&"onerror"in a&&"onabort"in a||d(""===a.responseText?"error":"load",e):3===a.readyState?"onprogress"in a||u():2===a.readyState&&o())},h=function(){i=c((function(){h()}),500),3===a.readyState&&u()};"onload"in a&&(a.onload=function(e){d("load",e)}),"onerror"in a&&(a.onerror=function(e){d("error",e)}),"onabort"in a&&(a.onabort=function(e){d("abort",e)}),"onprogress"in a&&(a.onprogress=u),"onreadystatechange"in a&&(a.onreadystatechange=function(e){p(e)}),!("contentType"in a)&&"ontimeout"in l.prototype||(t+=(-1===t.indexOf("?")?"?":"&")+"padding=true"),a.open(e,t,!0),"readyState"in a&&(i=c((function(){h()}),0))},P.prototype.abort=function(){this._abort(!1)},P.prototype.getResponseHeader=function(e){return this._contentType},P.prototype.setRequestHeader=function(e,t){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(e,t)},P.prototype.getAllResponseHeaders=function(){return void 0!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},P.prototype.send=function(){if("ontimeout"in l.prototype&&("sendAsBinary"in l.prototype||"mozAnon"in l.prototype)||void 0==h||void 0==h.readyState||"complete"===h.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(n){throw n}}else{var t=this;t._sendTimeout=c((function(){t._sendTimeout=0,t.send()}),4)}},E.prototype.get=function(e){return this._map[k(e)]},null!=l&&null==l.HEADERS_RECEIVED&&(l.HEADERS_RECEIVED=2),T.prototype.open=function(e,t,n,a,r,i,o){e.open("GET",r);var c=0;for(var s in e.onprogress=function(){var t=e.responseText,a=t.slice(c);c+=a.length,n(a)},e.onerror=function(e){e.preventDefault(),a(new Error("NetworkError"))},e.onload=function(){a(null)},e.onabort=function(){a(null)},e.onreadystatechange=function(){if(e.readyState===l.HEADERS_RECEIVED){var n=e.status,a=e.statusText,r=e.getResponseHeader("Content-Type"),i=e.getAllResponseHeaders();t(n,a,r,new E(i))}},e.withCredentials=i,o)Object.prototype.hasOwnProperty.call(o,s)&&e.setRequestHeader(s,o[s]);return e.send(),e},w.prototype.get=function(e){return this._headers.get(e)},S.prototype.open=function(e,t,n,a,r,i,o){var c=null,s=new b,l=s.signal,u=new v;return f(r,{headers:o,credentials:i?"include":"same-origin",signal:l,cache:"no-store"}).then((function(e){return c=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new w(e.headers)),new g((function(e,t){var a=function(){c.read().then((function(t){if(t.done)e(void 0);else{var r=u.decode(t.value,{stream:!0});n(r),a()}}))["catch"]((function(e){t(e)}))};a()}))}))["catch"]((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){a(e)})),{abort:function(){null!=c&&c.cancel(),s.abort()}}},O.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(void 0!=t)for(var n=t.length,a=0;a<n;a+=1){var r=t[a];try{"function"===typeof r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(i){C(i)}}},O.prototype.addEventListener=function(e,t){e=String(e);var n=this._listeners,a=n[e];void 0==a&&(a=[],n[e]=a);for(var r=!1,i=0;i<a.length;i+=1)a[i]===t&&(r=!0);r||a.push(t)},O.prototype.removeEventListener=function(e,t){e=String(e);var n=this._listeners,a=n[e];if(void 0!=a){for(var r=[],i=0;i<a.length;i+=1)a[i]!==t&&r.push(a[i]);0===r.length?delete n[e]:n[e]=r}},A.prototype=Object.create(R.prototype),F.prototype=Object.create(R.prototype),V.prototype=Object.create(R.prototype);var B=-1,D=0,M=1,q=2,H=-1,L=0,$=1,j=2,J=3,U=/^text\/event\-stream(;.*)?$/i,Y=1e3,W=18e6,K=function(e,t){var n=null==e?t:parseInt(e,10);return n!==n&&(n=t),Q(n)},Q=function(e){return Math.min(Math.max(e,Y),W)},G=function(e,t,n){try{"function"===typeof t&&t.call(e,n)}catch(a){C(a)}};function z(e,t){O.call(this),t=t||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,ee(this,e,t)}function X(){return void 0!=l&&"withCredentials"in l.prototype||void 0==u?new l:new u}var Z=void 0!=f&&void 0!=m&&"body"in m.prototype;function ee(e,t,n){t=String(t);var a=Boolean(n.withCredentials),r=n.lastEventIdQueryParameterName||"lastEventId",i=Q(1e3),l=K(n.heartbeatTimeout,45e3),u="",d=i,p=!1,h=0,g=n.headers||{},f=n.Transport,m=Z&&void 0==f?void 0:new P(void 0!=f?new f:X()),v=null!=f&&"string"!==typeof f?new f:void 0==m?new S:new T,x=void 0,b=0,y=B,I="",N="",_="",k="",E=L,w=0,O=0,C=function(t,n,a,r){if(y===D)if(200===t&&void 0!=a&&U.test(a)){y=M,p=Date.now(),d=i,e.readyState=M;var c=new F("open",{status:t,statusText:n,headers:r});e.dispatchEvent(c),G(e,e.onopen,c)}else{var s="";200!==t?(n&&(n=n.replace(/\s+/g," ")),s="EventSource's response has a status "+t+" "+n+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(void 0==a?"-":a.replace(/\s+/g," "))+". Aborting the connection.",W();c=new F("error",{status:t,statusText:n,headers:r});e.dispatchEvent(c),G(e,e.onerror,c),o.error(s)}},R=function(t){if(y===M){for(var n=-1,a=0;a<t.length;a+=1){var r=t.charCodeAt(a);r!=="\n".charCodeAt(0)&&r!=="\r".charCodeAt(0)||(n=a)}var o=(-1!==n?k:"")+t.slice(0,n+1);k=(-1===n?k:"")+t.slice(n+1),""!==t&&(p=Date.now(),h+=t.length);for(var g=0;g<o.length;g+=1){r=o.charCodeAt(g);if(E===H&&r==="\n".charCodeAt(0))E=L;else if(E===H&&(E=L),r==="\r".charCodeAt(0)||r==="\n".charCodeAt(0)){if(E!==L){E===$&&(O=g+1);var f=o.slice(w,O-1),m=o.slice(O+(O<g&&o.charCodeAt(O)===" ".charCodeAt(0)?1:0),g);"data"===f?(I+="\n",I+=m):"id"===f?N=m:"event"===f?_=m:"retry"===f?(i=K(m,i),d=i):"heartbeatTimeout"===f&&(l=K(m,l),0!==b&&(s(b),b=c((function(){z()}),l)))}if(E===L){if(""!==I){u=N,""===_&&(_="message");var v=new A(_,{data:I.slice(1),lastEventId:N});if(e.dispatchEvent(v),"open"===_?G(e,e.onopen,v):"message"===_?G(e,e.onmessage,v):"error"===_&&G(e,e.onerror,v),y===q)return}I="",_=""}E=r==="\r".charCodeAt(0)?H:L}else E===L&&(w=g,E=$),E===$?r===":".charCodeAt(0)&&(O=g+1,E=j):E===j&&(E=J)}}},Y=function(t){if(y===M||y===D){y=B,0!==b&&(s(b),b=0),b=c((function(){z()}),d),d=Q(Math.min(16*i,2*d)),e.readyState=D;var n=new V("error",{error:t});e.dispatchEvent(n),G(e,e.onerror,n),void 0!=t&&o.error(t)}},W=function(){y=q,void 0!=x&&(x.abort(),x=void 0),0!==b&&(s(b),b=0),e.readyState=q},z=function(){if(b=0,y===B){p=!1,h=0,b=c((function(){z()}),l),y=D,I="",_="",N=u,k="",w=0,O=0,E=L;var n=t;if("data:"!==t.slice(0,5)&&"blob:"!==t.slice(0,5)&&""!==u){var a=t.indexOf("?");n=-1===a?t:t.slice(0,a+1)+t.slice(a+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(e,t){return t===r?"":e})),n+=(-1===t.indexOf("?")?"?":"&")+r+"="+encodeURIComponent(u)}var i=e.withCredentials,o={Accept:"text/event-stream"},s=e.headers;if(void 0!=s)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d]);try{x=v.open(m,C,R,Y,n,i,o)}catch(f){throw W(),f}}else if(p||void 0==x){var g=Math.max((p||Date.now())+l-Date.now(),1);p=!1,b=c((function(){z()}),g)}else Y(new Error("No activity within "+l+" milliseconds. "+(y===D?"No response received.":h+" chars received.")+" Reconnecting.")),void 0!=x&&(x.abort(),x=void 0)};e.url=t,e.readyState=D,e.withCredentials=a,e.headers=g,e._close=W,z()}z.prototype=Object.create(O.prototype),z.prototype.CONNECTING=D,z.prototype.OPEN=M,z.prototype.CLOSED=q,z.prototype.close=function(){this._close()},z.CONNECTING=D,z.OPEN=M,z.CLOSED=q,z.prototype.withCredentials=void 0;var te=p;void 0==l||void 0!=p&&"withCredentials"in p.prototype||(te=z),function(n){if("object"===typeof e.exports){var o=n(t);void 0!==o&&(e.exports=o)}else r=[t],a=n,i="function"===typeof a?a.apply(t,r):a,void 0===i||(e.exports=i)}((function(e){e.EventSourcePolyfill=z,e.NativeEventSource=p,e.EventSource=te}))})("undefined"===typeof globalThis?"undefined"!==typeof window?window:"undefined"!==typeof self?self:this:globalThis)}}]);
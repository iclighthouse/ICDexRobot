"use strict";(self["webpackChunkRobot"]=self["webpackChunkRobot"]||[]).push([[518],{2326:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"base-font-title exchange-main"},[t._m(0),a("a-spin",{staticClass:"table-spinning",attrs:{spinning:t.spinning}},[a("table",{staticClass:"mt20"},[a("thead",[a("tr",[a("th",[t._v("Exchange Id")]),a("th",[t._v("Type")]),a("th",[t._v("Name")]),a("th",[t._v("Accounts")]),a("th",{staticClass:"text-right pr20"},[t._v("Actions")])])]),a("tbody",{staticClass:"lineHalf"},t._l(t.exchanges,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.name))]),a("td",[a("div",[t._v(" Available ("),t.exchangeStatus[e.id]?a("span",[t._v(t._s(t.exchangeStatus[e.id].Available))]):a("span",[t._v("0")]),t._v(") ")]),a("div",[t._v(" Unavailable ("),t.exchangeStatus[e.id]?a("span",{class:{"base-red":t.exchangeStatus[e.id].Unavailable>0}},[t._v(t._s(t.exchangeStatus[e.id].Unavailable))]):a("span",[t._v("0")]),t._v(") ")])]),a("td",{staticClass:"pr20",attrs:{align:"right"}},[a("button",{staticClass:"primary",attrs:{type:"button"},on:{click:function(a){return t.addAccount(e.id)}}},[t._v(" Add account ")])])])})),0)])]),t._m(1),a("a-spin",{staticClass:"table-spinning",attrs:{spinning:t.spinning}},[a("table",{staticClass:"mt20"},[a("thead",[a("tr",[a("th",[t._v("Exchange Id")]),a("th",[t._v("Type")]),a("th",[t._v("Name")]),a("th",[t._v("Account")]),a("th",[t._v("Status")]),a("th",{staticClass:"text-right pr20"},[t._v("Actions")])])]),a("tbody",{staticClass:"lineHalf"},[t._l(t.exchangesTable,(function(e){return a("tr",{key:e.account.id},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.name))]),a("td",[e.account?a("div",[a("div",[t._v("Name: "+t._s(e.account.name))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"ICDex"===t.exchange[e.id],expression:"exchange[item.id] === 'ICDex'"}]},[a("div",{staticClass:"flex-center"},[t._v(" Account:  "),a("copy-account",{attrs:{account:t.filterICDexAccount(e.account.value)}})],1),a("div",[t._v(" Pem: "),a("span",[t._v(" "+t._s(t._f("ellipsisAccount")(t._f("filterAccountName")(e.account.value),20))+" ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Binance"===t.exchange[e.id],expression:"exchange[item.id] === 'Binance'"}]},[a("div",{staticClass:"flex-center"},[t._v(" API Key:  "),a("copy-account",{attrs:{account:t.filterBinanceAPIKey(e.account.value),"copy-text":"API Key"}})],1),a("div",[t._v(" RSA private key: "),a("span",[t._v(" "+t._s(t._f("ellipsisAccount")(t._f("filterAccountName")(e.account.value),20))+" ")])])])]):a("div",[t._v("-")])]),a("td",[a("span",{class:{"base-green":"Available"===e.account.status,"base-red":"Unavailable"===e.account.status}},[t._v(t._s(e.account.status))])]),a("td",{staticClass:"pr20"},[a("div",{staticClass:"flex-center account-button"},[a("button",{staticClass:"primary",attrs:{disabled:"Available"===e.account.status,type:"button"}},[t._v(" Run ")]),a("button",{staticClass:"primary",attrs:{disabled:"Available"===e.account.status,type:"button"}},[t._v(" Delete ")])])])])})),t.exchangesTable.length||t.spinning?t._e():a("tr",[a("td",{attrs:{align:"center",colspan:"6"}},[a("div",[t._v("No accounts")])])])],2)])]),a("add-exchange-account",{ref:"addExchangeAccount",attrs:{"add-exchange-id":t.addExchangeId,"exchange-name":t.exchange[t.addExchangeId]},on:{addExchangeAccountSuccess:t.addExchangeAccountSuccess}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"base-font-normal flex-center"},[a("div",{staticClass:"exchanges-title"},[t._v("Exchanges")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"base-font-normal flex-center mt20"},[a("div",{staticClass:"exchanges-title"},[t._v("Accounts")])])}],c=a(31635),i=a(51233),r=a(84643),u=a(2435),o=a(62288),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spinning=!1,e.exchanges=[],e.exchangesTable=[],e.exchangeStatus={},e.exchange={},e.addExchangeId=1,e}return(0,c.C6)(e,t),e.prototype.created=function(){this.getExchanges()},e.prototype.getExchanges=function(){return(0,c.sH)(this,void 0,Promise,(function(){var t;return(0,c.YH)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.$axios.get("/getExchanges")];case 1:return t=e.sent(),t&&200===t.status&&(this.exchanges=t.data,this.initExchangesTable()),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.initExchangesTable=function(){var t=this;this.exchanges.forEach((function(e){var a=0,n=0;t.getExchangeAccounts(e.id).then((function(s){s&&s.length&&s.forEach((function(s){s.status===r.u1.Available?++a:s.status===r.u1.Unavailable&&++n;var i=(0,c.Cl)((0,c.Cl)({},e),{account:s});t.exchangesTable.push(i)})),t.$set(t.exchangeStatus,e.id,{Available:a,Unavailable:n})})),t.exchange[e.id]=e.name}))},e.prototype.getExchangeAccounts=function(t){return(0,c.sH)(this,void 0,Promise,(function(){var e;return(0,c.YH)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.$axios.get("/getExchangeAccounts?exchangeId=".concat(t))];case 1:return e=a.sent(),e&&200===e.status?[2,e.data]:[3,3];case 2:return a.sent(),[3,3];case 3:return[2,[]]}}))}))},e.prototype.addAccount=function(t){this.addExchangeId=t,this.$refs.addExchangeAccount.init()},e.prototype.addExchangeAccountSuccess=function(){this.exchangesTable=[],this.initExchangesTable()},e.prototype.filterBinanceAPIKey=function(t){try{if(t){var e=JSON.parse(t);return e.APIKey}}catch(a){}return"-"},e.prototype.filterICDexAccount=function(t){try{if(t){var e=JSON.parse(t),a=e.pem,n=(0,o.jk)(a);if(n)return n.getPrincipal().toString()}}catch(s){}return"-"},e=(0,c.Cg)([(0,i.uA)({name:"index",components:{AddExchangeAccount:u.A},filters:{filterAccountName:function(t){try{if(t){var e=JSON.parse(t);return e.fileName}}catch(a){}return"-"}}})],e),e}(i.lD),h=l,d=h,v=a(81656),g=(0,v.A)(d,n,s,!1,null,"91ab6748",null),p=g.exports}}]);